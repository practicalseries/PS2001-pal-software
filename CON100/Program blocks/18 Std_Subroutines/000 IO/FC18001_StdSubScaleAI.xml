<?xml version="1.0" encoding="utf-8"?>
<Document>
  <Engineering version="V16" />
  <DocumentInfo>
    <Created>2021-05-21T12:38:16.385608Z</Created>
    <ExportSetting>WithDefaults</ExportSetting>
    <InstalledProducts>
      <Product>
        <DisplayName>Totally Integrated Automation Portal</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>TIA Portal Version Control Interface</DisplayName>
        <DisplayVersion>V16 Update 2</DisplayVersion>
      </OptionPackage>
      <OptionPackage>
        <DisplayName>TIA Portal Openness</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>STEP 7 Professional</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>STEP 7 Safety</DisplayName>
        <DisplayVersion>V16</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>WinCC Professional</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </Product>
    </InstalledProducts>
  </DocumentInfo>
  <SW.Blocks.FC ID="0">
    <AttributeList>
      <AutoNumber>false</AutoNumber>
      <HeaderAuthor>M_Gledhill</HeaderAuthor>
      <HeaderFamily>Subroutine</HeaderFamily>
      <HeaderName>StdSubScaleAI</HeaderName>
      <HeaderVersion>0.8</HeaderVersion>
      <Interface><Sections xmlns="http://www.siemens.com/automation/Openness/SW/Interface/v4">
  <Section Name="Input">
    <Member Name="SYS_SIGNALS" Datatype="&quot;UT21000_Dy_SysSignals&quot;" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">The system logic and timing signals for parametric access</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="revInfo" Datatype="&quot;UT01000_St_SysRevision&quot;">
            <Sections>
              <Section Name="None">
                <Member Name="REV_BLOCK" Datatype="String[7]" />
                <Member Name="REV_NUMBER" Datatype="String[20]" />
                <Member Name="REV_DATE" Datatype="String[10]" />
                <Member Name="REV_AUTHOR" Datatype="String[20]" />
              </Section>
            </Sections>
          </Member>
          <Member Name="___________0010_0" Datatype="Bool" />
          <Member Name="___________0010_1" Datatype="Bool" />
          <Member Name="_False" Datatype="Bool" />
          <Member Name="_True" Datatype="Bool" />
          <Member Name="_50ms" Datatype="Bool" />
          <Member Name="_100ms" Datatype="Bool" />
          <Member Name="_200ms" Datatype="Bool" />
          <Member Name="_500ms" Datatype="Bool" />
          <Member Name="_1s" Datatype="Bool" />
          <Member Name="_2s" Datatype="Bool" />
          <Member Name="_CycleTick" Datatype="Bool" />
          <Member Name="_CycleTock" Datatype="Bool" />
          <Member Name="_CycleFirst" Datatype="Bool" />
          <Member Name="_100msSqW" Datatype="Bool" />
          <Member Name="_200msSqW" Datatype="Bool" />
          <Member Name="_500msSqW" Datatype="Bool" />
          <Member Name="_1sSqW" Datatype="Bool" />
          <Member Name="_2sSqW" Datatype="Bool" />
        </Section>
      </Sections>
    </Member>
    <Member Name="RAW_ANALOG" Datatype="Int" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Analogue Input (IW)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="RAW_MIN" Datatype="Int" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Minimum Valve of the Raw Analogue Input</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="RAW_MAX" Datatype="Int" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Maximum Valve of the Raw Analogue Input</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="SCALE_MIN" Datatype="Real" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Minimum value of the scaled output (engineering units)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="SCALE_MAX" Datatype="Real" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Maximum value of the scaled output(engineering units)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="OOR_PERCENT" Datatype="Real" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Out of range tolerance as a percentage of raw range (RAW_MAX - RAW_MIN)</MultiLanguageText>
      </Comment>
    </Member>
  </Section>
  <Section Name="Output">
    <Member Name="SCALE_VALUE" Datatype="Real" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Scaled Output (as a Floating Point value)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="OVER_RANGE" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Signal Fault - Over range</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="UNDER_RANGE" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Signal Fault - Under range</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="OUT_OF_RANGE" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Signal Fault - Out of Range (either over or under)</MultiLanguageText>
      </Comment>
    </Member>
  </Section>
  <Section Name="InOut" />
  <Section Name="Temp">
    <Member Name="revInfo" Datatype="&quot;UT01000_St_SysRevision&quot;">
      <Comment>
        <MultiLanguageText Lang="en-US">Revision information for this block</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="REV_BLOCK" Datatype="String[7]" />
          <Member Name="REV_NUMBER" Datatype="String[20]" />
          <Member Name="REV_DATE" Datatype="String[10]" />
          <Member Name="REV_AUTHOR" Datatype="String[20]" />
        </Section>
      </Sections>
    </Member>
    <Member Name="licInfo" Datatype="&quot;UT01001_St_SysLicence&quot;">
      <Comment>
        <MultiLanguageText Lang="en-US">Licence information for this block</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="LICENCE_TYPE" Datatype="String[20]" />
          <Member Name="COPYRIGHT" Datatype="String[30]" />
        </Section>
      </Sections>
    </Member>
    <Member Name="calcPart1" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Scale value calculation part 1 (RAW_ANALOG − RAW_MIN)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="calcPart2" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Scale value calculation part 2 (SCALE_MAX − SCALE_MIN)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="calcPart3" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Scale value calculation part 1 (RAW_MAX − RAW_MIN)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="calcRawOOR" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Calculated OOR absolute value in terms of the RAW_VALUE</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="calcOverRange" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Calculated over range limit (in raw units)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="calcUnderRange" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Calculated under range limit (in raw units)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkOORPercent" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Working out of range percentage</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkConfigError" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working configuration error exists</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkReal" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Working storage (real)</MultiLanguageText>
      </Comment>
    </Member>
  </Section>
  <Section Name="Constant" />
  <Section Name="Return">
    <Member Name="Ret_Val" Datatype="Void" Accessibility="Public" />
  </Section>
</Sections></Interface>
      <IsIECCheckEnabled>false</IsIECCheckEnabled>
      <MemoryLayout>Optimized</MemoryLayout>
      <Name>FC18001_StdSubScaleAI</Name>
      <Number>18001</Number>
      <ProgrammingLanguage>LAD</ProgrammingLanguage>
      <SetENOAutomatically>false</SetENOAutomatically>
      <UDABlockProperties />
      <UDAEnableTagReadback>false</UDAEnableTagReadback>
    </AttributeList>
    <ObjectList>
      <MultilingualText ID="1" CompositionName="Comment">
        <ObjectList>
          <MultilingualTextItem ID="2" CompositionName="Items">
            <AttributeList>
              <Culture>en-US</Culture>
              <Text> PRACTICAL SERIES AUTOMATION LIBRARY (PAL)   —   COPYRIGHT 2020 – M. GLEDHILL (MIT LICENCE)
                  ———— ◆ ————
 FOR DETAILED DOCUMENTATION — SELECT THE BLOCK IN THE PROJECT TREE AND PRESS SHIFT + F1
 FULL ONLINE DOCUMENTATION IS AVAILABLE AT: https://practicalseries.com/2001-pal/index.html</Text>
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
      <SW.Blocks.CompileUnit ID="3" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="4" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="5" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text> ▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀

TITLE:    SUBROUTINE — ANALOG INPUT SCALE

▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
 


This block (FC18001_StdSubScaleAI) is a subroutine block that is used to scale the integer signal
from an analog instrument, in the form of an input word (IW).

The resultant scaled value is a real (floating point) number that matches the calibrated range 
of the instrument.

The block monitors the instrument to see if the scaled value is out of range, the following three 
fault signals are generated:

   •   Over-range (signal is more than a specified percentage above the calibrated 
     range of the instrument

   •   Under-range (signal is more than a specified percentage below the calibrated 
     range of the instrument

   •   Common out-of-range, either the over-range or under-range fault is active

This is a subroutine block.



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
1.     BLOCK TECHNICAL SUMMARY


 ――――――――――――――――――――――――――――――――――――――――――
 NOMENCLATURE &amp; ADDRESSING
 ――――――――――――――――――――――――――――――――――――――――――
 BLOCK TITLE         Analog Input Scale
 BLOCK FUNCTION GROUP    Subroutine
 BLOCK ADDRESS       FC18001
 BLOCK SYMBOL        FC18001_StdSubScaleAI
 BLOCK USER ID         StdSubScaleAI

 ――――――――――――――――――――――――――――――――――――――――――
 BLOCK TYPE &amp; USAGE
 ――――――――――――――――――――――――――――――――――――――――――
 BLOCK TYPE         Function (FC)
 BLOCK NUMBER        18001
 LANGUAGE           LAD
 OPTIMISED ACCESS     Yes
 PAL USAGE TYPE       Standard block

 ――――――――――――――――――――――――――――――――――――――――――
 METRICS
 ――――――――――――――――――――――――――――――――――――――――――
 EXECUTION TIME       23.94 μs¹
 LOAD MEMORY       26.15 kB  (26777 bytes)
 WORK MEMORY           0.55 kB      (565 bytes)
 ――――――――――――――――――――――――――――――――――――――――――
               ¹ Measured on: CPU-1515-2PN (order no. 6ES7 512-2AM02-0AB0)



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
2.     FUNCTIONAL DESCRIPTION


This is a subroutine block that is used to convert the raw integer signal from an analog 
instrument (in the form of an input word, IW), into a scaled, floating point (real) number that 
reflects the calibrated reading of the instrument in question.

For example, if a flow meter with a calibrated range of -100 l/s to +100 l/s provided a 4-20 mA 
signal to the PLC, then 4 mA would represent -100 l/s and 20 mA would represent +100 l/s.

A typical 4-20 mA analog input signal returns raw value of 0 at 4 mA and 27648 at 20 mA.

The block would return scaled values as follows (it would also return every value in between; five 
typical values have been shown):


 ――――――――――――――――――――――――――――――――――――――――――
 RAW_SIGNAL          RAW INTEGER VALUE        RETURNED SCALE VALUE
 ――――――――――――――――――――――――――――――――――――――――――
    4 mA                      0             -100 l/s
    8 mA               6912                   -50 l/s
  12 mA             13824                   0 l/s
  16 mA             20736              +50 l/s
  20 mA             27648            +100 l/s
 ――――――――――――――――――――――――――――――――――――――――――


The range of the raw instrument signal is specified by the parameters RAW_MIN (the lowest 
value the instrument will read in its calibrated normal range) and RAW_MAX (the highest 
value the instrument will read in its normal calibrated range).

The scaled value has two equivalent parameters: SCALE_MIN (the lowest value of the 
instrument in its calibrated range in engineering units) and SCALE_MAX (the highest value 
of the instrument in its calibrated range in engineering units).

In the previous example, the parameters would be:


 ――――――――――――――――――――――――――――――――――――――――――
 RAW_MIN       RAW_MAX      SCALE_MIN       SCALE_MAX
 ――――――――――――――――――――――――――――――――――――――――――
      0         27648            -100.0         +100.0
 ――――――――――――――――――――――――――――――――――――――――――


The actual raw instrument value is passed to the block as parameter RAW_ANALOG, this is of data 
type int. The resultant scaled signal is passed from the block as the parameter SCALE_VALUE
of type real.

The block generates three fault signals, these indicate if the instrument is reading above its 
normal, calibrated range by a specified amount, or if it is reading below its calibrated range by a 
similar amount (these are, respectively, the OVER_RANGE and UNDER_RANGE parameters). The 
third fault signal (OUT_OF_RANGE) is simply a common signal that is activated if either of the 
other two is active.

The level at which the instrument is considered to be either over-range or under-range 
(out of range), is set as a percentage of the raw instrument range and is specified in the 
OOR_PERCENT parameter (this is limited to a range of 0.0 to 10.0% of the raw instrument 
range). 

Note:    The instrument must have a linear response across its calibrated range.



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
3.     DETAILED BLOCK DESCRIPTION


This block, FC18001_StdSubAnalogScaleAI is a subroutine block that can be called from other 
blocks within the PAL. It is designed to provide a linear conversion of a raw analog input signal 
(in integer format) to a scaled value that represents the calibrated range of the instrument as a 
real (floating point) value in engineering units.

It has the following formal parameters:


 ――――――――――――――――――――――――――――――――――――――――――
 PARAM         FUNCTION                    TYPE      IN-OUT 
 ――――――――――――――――――――――――――――――――――――――――――
 SYS_SIGNALS      The system logic and timing signals for       UT21000    In
          parametric access

 RAW_ANALOG      Analog input signal (IW) to be scaled. This is       Int      In
          the raw value returned from the AI card

 RAW_MIN     Minimum value of the analog input range        Int      In
          (see Table 3.1 to Table 3.3 for typical values)

 RAW_MAX       Maximum value of the analog input range        Int      In
          (see Table 3.1 to Table 3.3 for typical values)

 SCALE_MIN    Calibrated lower value of the instrument       Real      In
          range in engineering units

 SCALE_MAX      Calibrated upper value of the instrument      Real      In
          range in engineering units

 OOR_PERCENT     Out of range tolerance as a percentage of    Real      In
          the raw range (RAW_MAX − RAW_MIN), the value 
          is limited to the range 0.001% to 10.0%

 SCALE_VALUE     The scaled output value of the instrument in      Real      Out
          engineering units

 OVER_RANGE      Indicates the instrument is above its        Bool      Out
          calibrated range by more than the tolerance
          value (OOR_PERCENT)

 UNDER_RANGE    Indicates the instrument is below its        Bool      Out
          calibrated range by more than the tolerance 
          value (OOR_PERCENT)

 OUT_OF_RANGE     Indicates the instrument is outside of its       Bool      Out
          calibrated range by more than the tolerance 
          value (OOR_PERCENT), either over or 
          under range
 ――――――――――――――――――――――――――――――――――――――――――
 Note:   If a configuration error is present (see § 3.2.1) the three out of range parameters 
     will be activated (set true) and the SCALE_VALUE signal will be set to zero 
     irrespective of the RAW_ANALOG value.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.1     Raw signal, typical ranges


The raw (unscaled) instrument value is the value returned from the analog input card. This 
typically is ranged according to the type of signal being read (voltage, current, RTD &amp;c.). 

The raw instrument value (the value provided by the analog input card) is passed to the block 
as parameter RAW_ANALOG. The associated range of the signal is given in parameters RAW_MIN 
and RAW_MAX.

The following are the typical signal ranges for the most common types of signal:


 ――――――――――――――――――――――――――――――――――――――――――
            LOWER LIMIT     EQUIVALENT   UPPER LIMIT     EQUIVALENT
 SIGNAL TYPE      (RAW_MIN)          TO      (RAW_MAX)         TO
 ――――――――――――――――――――――――――――――――――――――――――
 -10 V to 10 V         -27648      -10 V          27648        +10 V
 -5 V to 5 V       -27648        -5 V          27648       +5 V
 -2.5 V to 2.5 V       -27648        -2.5 V          27648       +2.5 V
 -1 V to 1 V       -27648        -1 V          27648       +1 V
 -500 mV to 500 mV      -27648       -500 mV      27648      +500 mV
 -250 mV to 250 mV      -27648       -250 mV      27648      +250 mV
 -80 mV to 80 mV       -27648      -80 mV      27648        +80 mV
 -50 mV to 50 mV    -27648      -50 mV      27648        +50 mV
 1 V to 5 V          0       +1 V          27648       +5 V
 ――――――――――――――――――――――――――――――――――――――――――
 Table 3.1  Input ranges for typical instrument types (voltage)



 ――――――――――――――――――――――――――――――――――――――――――
            LOWER LIMIT     EQUIVALENT   UPPER LIMIT     EQUIVALENT
 SIGNAL TYPE      (RAW_MIN)          TO      (RAW_MAX)         TO
 ――――――――――――――――――――――――――――――――――――――――――
 -500 mV to 500 mV   -27648       -500 mV      27648      +500 mV
 -20 mA to 20 mA       -27648      -20 mA      27648        +20 mA
 0 mA to 20 mA         0         0 mA      27648        +20 mA
 4 mA to 20 mA         0         4 mA      27648        +20 mA
 ――――――――――――――――――――――――――――――――――――――――――
 Table 3.2  Input ranges for typical instrument types (current)



 ――――――――――――――――――――――――――――――――――――――――――
            LOWER LIMIT     EQUIVALENT   UPPER LIMIT     EQUIVALENT
 SIGNAL TYPE      (RAW_MIN)          TO      (RAW_MAX)         TO
 ――――――――――――――――――――――――――――――――――――――――――
 -500 mV to 500 mV   -27648       -500 mV      27648      +500 mV
 RTD 150 Ω            0         0 Ω         27648        150 Ω
 RTD 300 Ω            0         0 Ω         27648        300 Ω
 RTD 600 Ω            0         0 Ω         27648        600 Ω
 RTD 6000 Ω         0         0 Ω         27648      6000 Ω
 PT x00           -2000        200.0°C        8500        850.0°C
 Ni x00          -600       60.0°C          250        250.0°C
 Type B thermocouple     -2100       -210.0°C        12000      1200.0°C
 Type K thermocouple     -2700       -270.0°C        13720      1372.0°C
 Type N thermocouple    -2700       -210.0°C        13000      1300.0°C
 Type R/S thermocouple    -500      -50.0°C        17690      1769.0°C
 Type T thermocouple     -2700       -270.0°C        4000        400.0°C
 ――――――――――――――――――――――――――――――――――――――――――
 Table 3.3  Input ranges for typical instrument types (resistance thermometers 
          and thermocouples)


The RAW_MIN and the RAW_MAX values in the above tables are the numerical values for the 
instrument range; the appropriate values must be entered as parameters passed to the block:


 ――――――――――――――――――――――――――――――――――――――――――
 PARAM         FUNCTION                  TYPE      IN-OUT 
 ――――――――――――――――――――――――――――――――――――――――――
 RAW_MIN     Minimum value of the analog input range      Int      In

 RAW_MAX       Maximum value of the analog input range      Int      In
 ――――――――――――――――――――――――――――――――――――――――――

 

▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.2     Calculating the scaled value


The scaled signal is passed from the block as parameter SCALE_VALUE and this in turn is ranged 
between the SCALE_MIN and SCALE_MAX parameters. SCALE_MIN is the lowest calibrated 
reading of the instrument in engineering units and SCALE_MAX being the upper calibrated 
reading of the instruments in engineering units.

The formula used to calculate the scaled value (SCALE_VALUE) is:

┌──────────────────────────────────────────┐
│                                    (RAW_ANALOG ─ RAW_MIN) ╳ (SCALE_MAX ─ SCALE_MIN)          │
│ SCALE_VALUE =  ――――――――――――――――――――――――――  ┼ SCALE_MIN   │
│                                    (RAW_MAX ─ RAW_MIN)                  │
└────────────────────────────────────── 3.1 ──┘

The three parameters: SCALE_VALUE, SCALE_MIN and SCALE_MAX are all floating-point numbers 
(real data type).

Note:    It is assumed that the instrument must have a linear response across its calibrated 
     range (as shown below).


      SCALE_VALUE
       ↑                    ⋰
   SCALE_MAX__│______________________________________⋰
       │                  ╱|
       │                 ╱ |
       │                ╱  |
       │               ╱   |
       │              ╱    |
       │             ╱     |
       │            ╱      |
   SCALE_VALUE│&lt;- - - - - - - - - - - - - - - - - - - - - ╱       |
       │          ╱ ⌃           |
       │         ╱ ╎       |
       │        ╱  ╎       |
       │       ╱   ╎       |   
       │      ╱    ╎       |
       │     ╱     ╎       |
       │    ╱         ╎          |
 SCALE_MIN__│______╱          ╎          |
       │  ⋰|           ╎          |
       │ ⋰ |           ╎          |
       ┼─────────────────────────→ RAW_ANALOG
             |           ╎           |
         RAW_MIN     RAW_ANALOG    RAW_MAX

       Figure 3.1  Linear relationship between RAW_ANALOG and SCALE_VALUE



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.1     Configuration errors


The block requires that both the RAW_MAX/MIN and SCALE_MAX/MIN signals conform to certain 
rules:

   1.  RAW_MIN must be less than, and not equal to RAW_MAX
   2.  SCALE_MIN must be less than, and not equal to SCALE_MAX

Should either of these conditions not be met, the three out of range parameters (see § 3.3.1) will 
be activated (set true) 

     OVER_RANGE
     UNDER_RANGE
     OUT_OF_RANGE

The SCALE_VALUE signal will be set to zero irrespective of the RAW_ANALOG value.

Note:    This avoids the potential for a divide by zero error, if the RANGE_RAW_MIN and 
     RANGE_RAW_MAX are exactly equal, the calculation of the actual_Value in 
     equation (3.1) would result in a divide by zero error. 



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.3     Out of range signals


If the RAW_ANALOG signal is outside the RAW_MIN to RAW_MAX range, SCALE_VALUE will still be 
calculated correctly; however, an appropriate, OVER_RANGE or UNDER_RANGE signal will be 
generated to indicate that the SCALE_VALUE signal is outside the calibrated range of the 
instrument and is potentially no longer accurate.

Some tolerance is permitted before the OVER_RANGE and UNDER_RANGE signals are activated 
(this is to prevent nuisance alarms — most instruments are tolerant of slight over and under 
shoot readings).

The tolerance applied to the out of range signals is a percentage of the raw range of the 
instrument (the raw range being RAW_MAX − RAW_MIN). The tolerance to be applied is given in 
the parameter OOR_PERCENT, this is a real (floating point) number in the range 0.0-10.0%.

If the tolerance for the instrument is not known, a generic value of 2.5% should be used.

The out of range tolerance absolute value (in terms of the RAW_ANALOG rather than as a
percentage) is calculated as:

┌─────────────────────────────┐
│                                 (RAW_MAX ─ RAW_MIN) ╳ OOR_PERCENT    │
│ calcRawOOR =  ―――――――――――――――――――  │
│                  100          │
└───────────────────────── 3.2 ──┘

Thus, if RAW_MIN is 0, RAW_MAX is 27648 and an OOR_PERCENT of 2.5% is selected, the 
absolute out of range value (calcRawOOR in the above equation) has a calculated value 
of 691. 

In this example, the OVER_RANGE signal would activate when the RAW_ANALOG exceeded a 
value of RAW_MAX + 691 (or 28,339). The UNDER_RANGE signal would activate when the 
RAW_ANALOG fell below a value of RAW_MIN ─ 691 (or −691).

The OOR_PERCENT is applied directly to the RAW_ANALOG signal, however, because the 
instrument is considered to be linear, the same calculation can also be applied directly to 
the SCALE_VALUE. In the above example, if the instrument were to span the range of 
−100 l/s to +100 l/s (i.e. SCALE_MIN = −100 SCALE_MAX = +100) then the scaled range of the 
instrument is 200 l/s (SCALE_MAX ─ SCALE_MIN) and the absolute out of range value would 
be 2.5% of the scaled range (or 5 l/s). thus, the OVER_RANGE signal would activate above 105 l/s 
and the UNDER_RANGE signal would activate below −105 l/s.

The OOR_PERCENT must be in the range 0.0 to 10.0; If it is outside this range, it 
is fixed at either the upper or lower limit.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.3.1     Common out of range signal


There is a third out of range signal: OUT_OF_RANGE, this signal is a common signal that just 
indicates the instrument is out of its calibrated range (it does not specify whether it is over or 
under range). 

It is activated if either the OVER_RANGE or UNDER_RANGE signal is active.

Note:    If a configuration error exists, see § 3.2.1, all three out of range signals (OVER_RANGE, 
     UNDER_RANGE and OUT_OF_RANGE) will be activated irrespective of the 
     RAW_ANALOG value

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
4.     PARAMETERS


The following parameters are associated with the block:

 
 ――――――――――――――――――――――――――――――――――――――――――
 PARAM         FUNCTION                    TYPE      IN-OUT 
 ――――――――――――――――――――――――――――――――――――――――――
 SYS_SIGNALS      The system logic and timing signals for       UT21000    In
          parametric access

 RAW_ANALOG      Analog input signal (IW) to be scaled. This is       Int      In
          the raw value returned from the AI card

 RAW_MIN     Minimum value of the analog input range        Int      In
          (see Table 3.1 to Table 3.3 for typical values)

 RAW_MAX       Maximum value of the analog input range        Int      In
          (see Table 3.1 to Table 3.3 for typical values)

 SCALE_MIN    Calibrated lower value of the instrument       Real      In
          range in engineering units

 SCALE_MAX      Calibrated upper value of the instrument      Real      In
          range in engineering units

 OOR_PERCENT     Out of range tolerance as a percentage of    Real      In
          the raw range (RAW_MAX − RAW_MIN), the value 
          is limited to the range 0.001% to 10.0%

 SCALE_VALUE     The scaled output value of the instrument in      Real      Out
          engineering units

 OVER_RANGE      Indicates the instrument is above its        Bool      Out
          calibrated range by more than the tolerance
          value (OOR_PERCENT)

 UNDER_RANGE    Indicates the instrument is below its        Bool      Out
          calibrated range by more than the tolerance 
          value (OOR_PERCENT)

 OUT_OF_RANGE     Indicates the instrument is outside of its       Bool      Out
          calibrated range by more than the tolerance 
          value (OOR_PERCENT), either over or 
          under range
 ――――――――――――――――――――――――――――――――――――――――――
 Note:   If a configuration error is present (see § 3.2.1) the three out of range parameters 
     will be activated (set true) and the SCALE_VALUE signal will be set to zero 
     irrespective of the RAW_ANALOG value

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
5.     DATA STRUCTURES AND USAGE (AND INSTANCE DATA BLOCKS)


The block has the following associated data structure:


 ――――――――――――――――――――――――――――――――――――――――――
 DATA STRUCTURE             DESCRIPTION
 ――――――――――――――――――――――――――――――――――――――――――
 UT01000_St_SysRevision          Revision information for this block    See FC01001
 UT01001_St_SysLicence           Licence information for this block  See FC01001
 UT21000_Dy_SysSignals           System signals for logic and timing  See FC01001
 ――――――――――――――――――――――――――――――――――――――――――

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
6.     CONSTANTS AND TEMPORARY (LOCAL) DATA


The following constants and temporary data storage are used:


 Temporary (local) data
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL NAME          FUNCTION                  TYPE
 ――――――――――――――――――――――――――――――――――――――――――
 revInfo             Revision information for the block         UT01000
 licInfo           Licensing information for the block      UT01001
 calcPart1           Scale value part 1 (RAW_ANALOG − RAW_MIN)    Real
 calcPart2           Scale value part 2 (SCALE_MAX − SCALE_MIN)   Real
 calcPart3           Scale value part 3 (RAW_MAX − RAW_MIN)     Real
 calcRawOOR        Calculated OOR absolute value          Real
 calcOverRange       Calculated over range limit (in raw units)    Real
 calcUnderRange       Calculated under range limit (in raw units)     Real
 wrkOORPercent         Working out of range percentage       Real
 wrkConfigError        Working configuration error exists         Bool
 wrkReal           Working storage (Real)             Real
 ―――――――――――――――――――――――――――――――――――――――――

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
7.     BLOCK CALLS


There are no PAL block calls from within this block.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
8.     ASSOCIATED BLOCKS


This is a stand-alone block and is not associated with any other blocks.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
9.     SYSTEM BLOCK CALLS AND SYSTEM DATA TYPES


There are no system block calls.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
10.     SPECIAL PROPERTIES AND REQUIREMENTS



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
10.1   Block optimisation


Block optimisation is ACTIVE for this block



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
10.2   Calling requirements


There are no special calling requirements for this block.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
11.     EXAMPLE USAGE


The following shows a typical deployment of FC18001:

               ┌─────────────
 ──────────────┤ FC18001
               ├───────────
               │
       #SYS_SIGNALS ─┤ SYS_SIGNALS
               │
       #RAW_ANALOG ─┤ RAW_ANALOG
               │
                0 ─┤ RAW_MIN
               │
             27648 ─┤ RAW_MAX       SCALE_VALUE├─ #VALUE
               │                 │
             -100.0 ─┤ SCALE_MIN        UNDER_RANGE ├─ #ALM_OOR
               │                 │
              100.0 ─┤ SCALE_MAX       OVER_RANGE├─ #ALM_OVER_R
               │                 │
                   2.5 ─┤ OOR_PERCENT       OUT_OF_RANGE├─ #ALM_UNDER_R  
               │                 │
                                 │
                    ─────────────┘


               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━


██████████████ █ █ █ █  END   █ █ █ █ ██████████████
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="6" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="7" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Block description</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="8" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_False" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="22">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'FC18001'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_BLOCK" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="24">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'000.801'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_NUMBER" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="26">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'2021.05.18'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_DATE" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="28">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'M. Gledhill'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_AUTHOR" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="30">
      <Negated Name="operand" />
    </Part>
    <Part Name="S_Move" UId="31" DisabledENO="true" />
    <Part Name="S_Move" UId="32" DisabledENO="true" />
    <Part Name="S_Move" UId="33" DisabledENO="true" />
    <Part Name="S_Move" UId="34" DisabledENO="true" />
  </Parts>
  <Wires>
    <Wire UId="35">
      <Powerrail />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="21" />
      <NameCon UId="30" Name="operand" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="en" />
      <NameCon UId="32" Name="en" />
      <NameCon UId="33" Name="en" />
      <NameCon UId="34" Name="en" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="22" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="31" Name="out" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="24" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="32" Name="out" />
      <IdentCon UId="25" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="26" />
      <NameCon UId="33" Name="in" />
    </Wire>
    <Wire UId="43">
      <NameCon UId="33" Name="out" />
      <IdentCon UId="27" />
    </Wire>
    <Wire UId="44">
      <IdentCon UId="28" />
      <NameCon UId="34" Name="in" />
    </Wire>
    <Wire UId="45">
      <NameCon UId="34" Name="out" />
      <IdentCon UId="29" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="9" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="A" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
MODIFICATION HISTORY


The revision data shown here, in the network comments, contains additional information 
reflecting the software development workflow under the version control system (VCS) employed 
to track all software changes.

The VCS in use is the Git Source Code Management system in conjunction with the GitHub online 
hosting system. The software in its entirety is available in the GitHub remote repository:

     https://github.com/practicalseries/PS2001-pal-software

The repository is public and can be freely copied (forked in GitHub terminology) and used 
under the MIT licence. 

The MIT licence is reproduced in full in the last network of this software module.


 ―――――――――――――――――――――――――――――――――――――――――――
 DATE       REVISION             MASTER BRANCH     DEV
         (nnn.amm)   COMMIT TAG    (Base ---> Merge)    BRANCH   Author
 ———————————————————————————————————————————
 2021.05.18    000.801   D0006A-000.801   D0006 N/A     D0006A   M. Gledhill
                       FC18001 Released for SMT

 2021.05.17    000.101   D0006A-000.101   D0006 N/A     D0006A   M. Gledhill
                       FC18001 Migration to VCS
 ———————————————————————————————————————————
  Where: nnn  =  Major revision
        a  =  Type (1-7 Development, 8 Proving, 9 Qualification, 0 Release)
      mm  =  Minor revision (must be 00 if a = 0)
        Block properties version number should be set to nn.a (only one decimal place)

▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="B" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="C" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Current revision and modification history</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="D" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="RAW_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="RAW_MIN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="SCALE_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="SCALE_MIN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkConfigError" />
      </Symbol>
    </Access>
    <Part Name="Le" UId="26">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Le" UId="27">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="O" UId="28">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="29" />
  </Parts>
  <Wires>
    <Wire UId="30">
      <Powerrail />
      <NameCon UId="26" Name="pre" />
      <NameCon UId="27" Name="pre" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="in1" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="22" />
      <NameCon UId="26" Name="in2" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="28" Name="in1" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="23" />
      <NameCon UId="27" Name="in1" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="24" />
      <NameCon UId="27" Name="in2" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in2" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="25" />
      <NameCon UId="29" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="E" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="F" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Determines if a configuration error has occurred, this is true if either the RAW range or SCALED 
range has not been specified correctly, either:

   •   RAW_MAX &lt;= RAW_MIN (raw range error) OR
   •   SCALE_MAX &lt;= SCALE_MIN (scaled range error)

If either, or both, conditions are true, the wrkConfigError signal is activated
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="10" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="11" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Configuration Error Check</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="12" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_True" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="OOR_PERCENT" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="wrkOORPercent" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="OOR_PERCENT" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="25">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>10.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LiteralConstant" UId="26">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>10.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="wrkOORPercent" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="OOR_PERCENT" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="29">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LiteralConstant" UId="30">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="wrkOORPercent" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="32" />
    <Part Name="Move" UId="33" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Gt" UId="34">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="35" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Lt" UId="36">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="37" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="38">
      <Powerrail />
      <NameCon UId="32" Name="in" />
      <NameCon UId="34" Name="pre" />
      <NameCon UId="36" Name="pre" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="21" />
      <NameCon UId="32" Name="operand" />
    </Wire>
    <Wire UId="40">
      <NameCon UId="32" Name="out" />
      <NameCon UId="33" Name="en" />
    </Wire>
    <Wire UId="41">
      <IdentCon UId="22" />
      <NameCon UId="33" Name="in" />
    </Wire>
    <Wire UId="42">
      <NameCon UId="33" Name="out1" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="43">
      <IdentCon UId="24" />
      <NameCon UId="34" Name="in1" />
    </Wire>
    <Wire UId="44">
      <IdentCon UId="25" />
      <NameCon UId="34" Name="in2" />
    </Wire>
    <Wire UId="45">
      <NameCon UId="34" Name="out" />
      <NameCon UId="35" Name="en" />
    </Wire>
    <Wire UId="46">
      <IdentCon UId="26" />
      <NameCon UId="35" Name="in" />
    </Wire>
    <Wire UId="47">
      <NameCon UId="35" Name="out1" />
      <IdentCon UId="27" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="28" />
      <NameCon UId="36" Name="in1" />
    </Wire>
    <Wire UId="49">
      <IdentCon UId="29" />
      <NameCon UId="36" Name="in2" />
    </Wire>
    <Wire UId="50">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="en" />
    </Wire>
    <Wire UId="51">
      <IdentCon UId="30" />
      <NameCon UId="37" Name="in" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="37" Name="out1" />
      <IdentCon UId="31" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="13" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="14" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The OOR_PERCENT signal is checked to ensure it is within the range 0.0 to 10.0.

The local data wrkOORPercent holds the corrected value and is used in the out of range 
calculations
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="15" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="16" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Ensure Out of Range percentage is 10% or less</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="17" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="RAW_ANALOG" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="RAW_MIN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="calcPart1" />
      </Symbol>
    </Access>
    <Part Name="Sub" UId="24" DisabledENO="false">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="25">
      <Powerrail />
      <NameCon UId="24" Name="en" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="24" Name="in1" />
    </Wire>
    <Wire UId="27">
      <IdentCon UId="22" />
      <NameCon UId="24" Name="in2" />
    </Wire>
    <Wire UId="28">
      <NameCon UId="24" Name="out" />
      <IdentCon UId="23" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="18" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="19" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The following formula is used to calculate the scaled (actual_Value) signal:
┌──────────────────────────────────────────┐
│                                    (RAW_ANALOG ─ RAW_MIN) ╳ (SCALE_MAX ─ SCALE_MIN)          │
│ SCALE_VALUE =  ――――――――――――――――――――――――――  ┼ SCALE_MIN   │
│                                    (RAW_MAX ─ RAW_MIN)                  │
└──────────────────────────────────────────┘

Scale value calculation part 1 is (RAW_ANALOG − RAW_MIN)
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1A" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="1B" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>IO evaluation — Instrument read and scale - Part 1</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="1C" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SCALE_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="SCALE_MIN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="calcPart2" />
      </Symbol>
    </Access>
    <Part Name="Sub" UId="24" DisabledENO="false">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="25">
      <Powerrail />
      <NameCon UId="24" Name="en" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="24" Name="in1" />
    </Wire>
    <Wire UId="27">
      <IdentCon UId="22" />
      <NameCon UId="24" Name="in2" />
    </Wire>
    <Wire UId="28">
      <NameCon UId="24" Name="out" />
      <IdentCon UId="23" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="1D" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="1E" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Scale value calculation part 2 (SCALE_MAX − SCALE_MIN)
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1F" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="20" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>IO evaluation — Instrument read and scale - Part 2</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="21" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="RAW_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="RAW_MIN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="calcPart3" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkConfigError" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="25">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>3.402823E+38</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="calcPart3" />
      </Symbol>
    </Access>
    <Part Name="Sub" UId="27" DisabledENO="false">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="28" />
    <Part Name="Move" UId="29" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="30">
      <Powerrail />
      <NameCon UId="27" Name="en" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="21" />
      <NameCon UId="27" Name="in1" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="in2" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="27" Name="eno" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="34">
      <NameCon UId="27" Name="out" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="24" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="en" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="25" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="29" Name="out1" />
      <IdentCon UId="26" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="22" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="23" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Scale value calculation part 3 (RAW_MAX − RAW_MIN)

Note:    To prevent inconsistencies and divide by zero errors, if a configuration error is present
     (resulting from incorrect range data and indicated by status_ConfigError = TRUE), the
     denominator of the calculation (CalcPart3) is set to 3.402823 × 1038 (i.e. a very large 
     number), the result of this is that the  SCALE_VALUE will equal SCALE_MIN for 
     all permitted values of RAW_ANALOG.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="24" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="25" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>IO evaluation — Instrument read and scale - Part 3</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="26" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="calcPart1" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="calcPart2" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="calcPart3" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="SCALE_MIN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="SCALE_VALUE" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="wrkConfigError" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="31">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="SCALE_VALUE" />
      </Symbol>
    </Access>
    <Part Name="Mul" UId="33" DisabledENO="false">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Div" UId="34" DisabledENO="false">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Add" UId="35" DisabledENO="false">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="36" />
    <Part Name="Move" UId="37" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="38">
      <Powerrail />
      <NameCon UId="33" Name="en" />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="21" />
      <NameCon UId="33" Name="in1" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="22" />
      <NameCon UId="33" Name="in2" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="33" Name="eno" />
      <NameCon UId="34" Name="en" />
    </Wire>
    <Wire UId="42">
      <NameCon UId="33" Name="out" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="43">
      <IdentCon UId="24" />
      <NameCon UId="34" Name="in1" />
    </Wire>
    <Wire UId="44">
      <IdentCon UId="25" />
      <NameCon UId="34" Name="in2" />
    </Wire>
    <Wire UId="45">
      <NameCon UId="34" Name="eno" />
      <NameCon UId="35" Name="en" />
    </Wire>
    <Wire UId="46">
      <NameCon UId="34" Name="out" />
      <IdentCon UId="26" />
    </Wire>
    <Wire UId="47">
      <IdentCon UId="27" />
      <NameCon UId="35" Name="in1" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="28" />
      <NameCon UId="35" Name="in2" />
    </Wire>
    <Wire UId="49">
      <NameCon UId="35" Name="out" />
      <IdentCon UId="29" />
    </Wire>
    <Wire UId="50">
      <IdentCon UId="30" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="51">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="en" />
    </Wire>
    <Wire UId="52">
      <IdentCon UId="31" />
      <NameCon UId="37" Name="in" />
    </Wire>
    <Wire UId="53">
      <NameCon UId="37" Name="out1" />
      <IdentCon UId="32" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="27" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="28" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                                                                             (calcPart1 x CalcPart2)
Complete the calculation SCALE_VALUE =  —————————— + SCALE_MIN
                                                                                        calcPart3

If a configuration error exists, the SCALE_VALUE is set to zero for all conditions
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="29" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="2A" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>IO evaluation — Instrument read and scale - Part 4</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="2B" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="calcPart3" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkOORPercent" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="calcRawOOR" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="calcRawOOR" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="25">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>100.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="calcRawOOR" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="RAW_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="calcRawOOR" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="calcOverRange" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="RAW_MIN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="calcRawOOR" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="calcUnderRange" />
      </Symbol>
    </Access>
    <Part Name="Mul" UId="33" DisabledENO="false">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Div" UId="34" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Add" UId="35" DisabledENO="false">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Sub" UId="36" DisabledENO="false">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="37">
      <Powerrail />
      <NameCon UId="33" Name="en" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="21" />
      <NameCon UId="33" Name="in1" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="22" />
      <NameCon UId="33" Name="in2" />
    </Wire>
    <Wire UId="40">
      <NameCon UId="33" Name="eno" />
      <NameCon UId="34" Name="en" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="33" Name="out" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="24" />
      <NameCon UId="34" Name="in1" />
    </Wire>
    <Wire UId="43">
      <IdentCon UId="25" />
      <NameCon UId="34" Name="in2" />
    </Wire>
    <Wire UId="44">
      <NameCon UId="34" Name="eno" />
      <NameCon UId="35" Name="en" />
      <NameCon UId="36" Name="en" />
    </Wire>
    <Wire UId="45">
      <NameCon UId="34" Name="out" />
      <IdentCon UId="26" />
    </Wire>
    <Wire UId="46">
      <IdentCon UId="27" />
      <NameCon UId="35" Name="in1" />
    </Wire>
    <Wire UId="47">
      <IdentCon UId="28" />
      <NameCon UId="35" Name="in2" />
    </Wire>
    <Wire UId="48">
      <NameCon UId="35" Name="out" />
      <IdentCon UId="29" />
    </Wire>
    <Wire UId="49">
      <IdentCon UId="30" />
      <NameCon UId="36" Name="in1" />
    </Wire>
    <Wire UId="50">
      <IdentCon UId="31" />
      <NameCon UId="36" Name="in2" />
    </Wire>
    <Wire UId="51">
      <NameCon UId="36" Name="out" />
      <IdentCon UId="32" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="2C" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="2D" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The out of range limits are calculated from the raw span of the instrument 
(RAW_MAX - RAW_MIN, stored in calcPart3).

The absolute value of the out of range tolerance is stored in calcRawOOR and is calculated as
follows:


                               (RAW_MAX - RAW_MIN) x wrkOORPercent
calcRawOOR  =  ——————————————————
                                                               100

OR

                              calcPart3 x wrkOORPercent
calcRawOOR  =  ————————————
                                                100


The instrument is over range if the RAW_ANALOG exceeds RAW_MAX + calcRawOOR

The instrument is under range if the RAW_ANALOG is less than RAW_MIN - calcRawOOR
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="2E" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="2F" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>IO evaluation — Calculate out of range value</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="30" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_True" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="RAW_ANALOG" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="calcUnderRange" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkConfigError" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="UNDER_RANGE" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="RAW_ANALOG" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="calcOverRange" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="wrkConfigError" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="OVER_RANGE" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="RAW_ANALOG" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="calcUnderRange" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="RAW_ANALOG" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="calcOverRange" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="wrkConfigError" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="OUT_OF_RANGE" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="36" />
    <Part Name="Lt" UId="37">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="38" />
    <Part Name="O" UId="39">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="40" />
    <Part Name="Gt" UId="41">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="42" />
    <Part Name="O" UId="43">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="44" />
    <Part Name="Lt" UId="45">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Gt" UId="46">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="47" />
    <Part Name="O" UId="48">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
    </Part>
    <Part Name="Coil" UId="49" />
  </Parts>
  <Wires>
    <Wire UId="50">
      <Powerrail />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="51">
      <IdentCon UId="21" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="pre" />
      <NameCon UId="38" Name="in" />
      <NameCon UId="41" Name="pre" />
      <NameCon UId="42" Name="in" />
      <NameCon UId="45" Name="pre" />
      <NameCon UId="46" Name="pre" />
      <NameCon UId="47" Name="in" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="22" />
      <NameCon UId="37" Name="in1" />
    </Wire>
    <Wire UId="54">
      <IdentCon UId="23" />
      <NameCon UId="37" Name="in2" />
    </Wire>
    <Wire UId="55">
      <NameCon UId="37" Name="out" />
      <NameCon UId="39" Name="in1" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="24" />
      <NameCon UId="38" Name="operand" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="in2" />
    </Wire>
    <Wire UId="58">
      <NameCon UId="39" Name="out" />
      <NameCon UId="40" Name="in" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="25" />
      <NameCon UId="40" Name="operand" />
    </Wire>
    <Wire UId="60">
      <IdentCon UId="26" />
      <NameCon UId="41" Name="in1" />
    </Wire>
    <Wire UId="61">
      <IdentCon UId="27" />
      <NameCon UId="41" Name="in2" />
    </Wire>
    <Wire UId="62">
      <NameCon UId="41" Name="out" />
      <NameCon UId="43" Name="in1" />
    </Wire>
    <Wire UId="63">
      <IdentCon UId="28" />
      <NameCon UId="42" Name="operand" />
    </Wire>
    <Wire UId="64">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="in2" />
    </Wire>
    <Wire UId="65">
      <NameCon UId="43" Name="out" />
      <NameCon UId="44" Name="in" />
    </Wire>
    <Wire UId="66">
      <IdentCon UId="29" />
      <NameCon UId="44" Name="operand" />
    </Wire>
    <Wire UId="67">
      <IdentCon UId="30" />
      <NameCon UId="45" Name="in1" />
    </Wire>
    <Wire UId="68">
      <IdentCon UId="31" />
      <NameCon UId="45" Name="in2" />
    </Wire>
    <Wire UId="69">
      <NameCon UId="45" Name="out" />
      <NameCon UId="48" Name="in1" />
    </Wire>
    <Wire UId="70">
      <IdentCon UId="32" />
      <NameCon UId="46" Name="in1" />
    </Wire>
    <Wire UId="71">
      <IdentCon UId="33" />
      <NameCon UId="46" Name="in2" />
    </Wire>
    <Wire UId="72">
      <NameCon UId="46" Name="out" />
      <NameCon UId="48" Name="in2" />
    </Wire>
    <Wire UId="73">
      <IdentCon UId="34" />
      <NameCon UId="47" Name="operand" />
    </Wire>
    <Wire UId="74">
      <NameCon UId="47" Name="out" />
      <NameCon UId="48" Name="in3" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="48" Name="out" />
      <NameCon UId="49" Name="in" />
    </Wire>
    <Wire UId="76">
      <IdentCon UId="35" />
      <NameCon UId="49" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="31" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="32" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The instrument is over range if the RAW_ANALOG is greater than or equal to calcOverRange.

The instrument is under range if the RAW_ANALOG is less than or equal to calcUnderRange.

If either of these conditions is true, the common out of range signal is activated

Note:    If the range information is incorrect (wrkConfigError = TRUE),
     Then all the out of range signals are activated (UNDER_RANGE, 
     OVER_RANGE and OUT_OF_RANGE) simultaneously
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="33" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="34" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>IO evaluation — Out of range signals</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="35" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_False" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="22">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'MIT LICENSE'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="licInfo" />
        <Component Name="LICENCE_TYPE" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="24">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'2020 Michael Gledhill'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="licInfo" />
        <Component Name="COPYRIGHT" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26">
      <Negated Name="operand" />
    </Part>
    <Part Name="S_Move" UId="27" DisabledENO="true" />
    <Part Name="S_Move" UId="28" DisabledENO="true" />
  </Parts>
  <Wires>
    <Wire UId="29">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="30">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="31">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="en" />
      <NameCon UId="28" Name="en" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="27" Name="out" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="24" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="28" Name="out" />
      <IdentCon UId="25" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="36" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="37" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
LICENCE AND CONTACT INFORMATION

This software and its associated documentation is made available under the MIT Licence:

════════════════════════════════════════════

The MIT License (MIT)

Copyright © 2020 Michael Gledhill

Permission is hereby granted, free of charge, to any person obtaining a copy of this software 
and associated documentation files (the “Software”), to deal in the Software without restriction, 
including without limitation the rights to use, copy, modify, merge, publish, distribute, 
sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is 
furnished to do so, subject to the following conditions: 

The above copyright notice and this permission notice shall be included in all copies or 
substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF 
CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE 
OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

════════════════════════════════════════════
                   ┌────────────┐
You can reach the author by email here:   │  mg@practicalseries.com  │
                   └────────────┘
Questions, corrections, constructive criticism and complaints (polite ones) are invited.

▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="38" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="39" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>LICENCE AND CONTACT INFORMATION</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <MultilingualText ID="3A" CompositionName="Title">
        <ObjectList>
          <MultilingualTextItem ID="3B" CompositionName="Items">
            <AttributeList>
              <Culture>en-US</Culture>
              <Text>Standard - Sub — Analog Input Scale</Text>
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
    </ObjectList>
  </SW.Blocks.FC>
</Document>