<?xml version="1.0" encoding="utf-8"?>
<Document>
  <Engineering version="V16" />
  <DocumentInfo>
    <Created>2022-08-20T11:08:34.8647748Z</Created>
    <ExportSetting>WithDefaults</ExportSetting>
    <InstalledProducts>
      <Product>
        <DisplayName>Totally Integrated Automation Portal</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>TIA Portal Version Control Interface</DisplayName>
        <DisplayVersion>V16 Update 2</DisplayVersion>
      </OptionPackage>
      <OptionPackage>
        <DisplayName>TIA Portal Openness</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>STEP 7 Professional</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>STEP 7 Safety</DisplayName>
        <DisplayVersion>V16</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>WinCC Professional</DisplayName>
        <DisplayVersion>V16 Update 3</DisplayVersion>
      </Product>
    </InstalledProducts>
  </DocumentInfo>
  <SW.Blocks.FC ID="0">
    <AttributeList>
      <AutoNumber>false</AutoNumber>
      <HeaderAuthor>M_Gledhill</HeaderAuthor>
      <HeaderFamily>DeviceDriver</HeaderFamily>
      <HeaderName>StdDevValveBi</HeaderName>
      <HeaderVersion>0.1</HeaderVersion>
      <Interface><Sections xmlns="http://www.siemens.com/automation/Openness/SW/Interface/v4">
  <Section Name="Input">
    <Member Name="SYS_SIGNALS" Datatype="&quot;UT21000_Dy_SysSignals&quot;" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Common system signals — logic and timing signals</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="revInfo" Datatype="&quot;UT01000_St_SysRevision&quot;">
            <Sections>
              <Section Name="None">
                <Member Name="REV_BLOCK" Datatype="String[7]" />
                <Member Name="REV_NUMBER" Datatype="String[20]" />
                <Member Name="REV_DATE" Datatype="String[10]" />
                <Member Name="REV_AUTHOR" Datatype="String[20]" />
              </Section>
            </Sections>
          </Member>
          <Member Name="___________0010_0" Datatype="Bool" />
          <Member Name="___________0010_1" Datatype="Bool" />
          <Member Name="_False" Datatype="Bool" />
          <Member Name="_True" Datatype="Bool" />
          <Member Name="_50ms" Datatype="Bool" />
          <Member Name="_100ms" Datatype="Bool" />
          <Member Name="_200ms" Datatype="Bool" />
          <Member Name="_500ms" Datatype="Bool" />
          <Member Name="_1s" Datatype="Bool" />
          <Member Name="_2s" Datatype="Bool" />
          <Member Name="_CycleTick" Datatype="Bool" />
          <Member Name="_CycleTock" Datatype="Bool" />
          <Member Name="_CycleFirst" Datatype="Bool" />
          <Member Name="_100msSqW" Datatype="Bool" />
          <Member Name="_200msSqW" Datatype="Bool" />
          <Member Name="_500msSqW" Datatype="Bool" />
          <Member Name="_1sSqW" Datatype="Bool" />
          <Member Name="_2sSqW" Datatype="Bool" />
        </Section>
      </Sections>
    </Member>
    <Member Name="FBK_OPEN" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Positive open position feedback (1 = valve open, 0 = valve not open)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="FBK_CLOSED" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Positive closed position feedback (1 = valve closed, 0 = valve not closed)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="EXT_FAULT" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Device external fault signal (1 = fault, 0 = healthy)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="E_STOP" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Safety (E-STOP) signal (1 = ESTOP active, 0 = healthy)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="TRIP" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Interlock (TRIP) signal (1 = TRIP active, 0 = healthy)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="INTERLOCK" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Interlock (INTERLOCK) signal (1 = INTERLOCK active, 0 = healthy)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="PERMISSIVE" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Interlock (PERMISSIVE) signal (1 = PERMISSIVE active, 0 = healthy)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="STATIC_DATA" Datatype="&quot;UT11101_St_DevValveBi&quot;" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Static data storage (UDT)</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="revInfo" Datatype="&quot;UT01000_St_SysRevision&quot;">
            <Sections>
              <Section Name="None">
                <Member Name="REV_BLOCK" Datatype="String[7]" />
                <Member Name="REV_NUMBER" Datatype="String[20]" />
                <Member Name="REV_DATE" Datatype="String[10]" />
                <Member Name="REV_AUTHOR" Datatype="String[20]" />
              </Section>
            </Sections>
          </Member>
          <Member Name="___________0010_0" Datatype="Int" />
          <Member Name="___________0010_1" Datatype="Int" />
          <Member Name="CONFIG_NO_NC" Datatype="Bool" />
          <Member Name="CONFIG_FBK_OPEN_EN" Datatype="Bool" />
          <Member Name="CONFIG_FBK_CLOSED_EN" Datatype="Bool" />
          <Member Name="CONFIG_ESTOP_DIS" Datatype="Bool" />
          <Member Name="CONFIG_TRIP_DIS" Datatype="Bool" />
          <Member Name="CONFIG_ILOCK_DIS" Datatype="Bool" />
          <Member Name="CONFIG_PERM_DIS" Datatype="Bool" />
          <Member Name="CONFIG_TRIP_OP_CL" Datatype="Bool" />
          <Member Name="CONFIG_ILOCK_OP_CL" Datatype="Bool" />
          <Member Name="CONFIG_PERM_OP_CL" Datatype="Bool" />
          <Member Name="CONFIG_FP_DIS" Datatype="Bool" />
          <Member Name="CONFIG_MAN_DIS" Datatype="Bool" />
          <Member Name="CONFIG_BYPASS_DIS" Datatype="Bool" />
          <Member Name="CONFIG_SIM_DIS" Datatype="Bool" />
          <Member Name="CONFIG_RL_EN" Datatype="Bool" />
          <Member Name="___________0020_0" Datatype="Int" />
          <Member Name="___________0020_1" Datatype="Int" />
          <Member Name="INFO_TAG" Datatype="String[20]" />
          <Member Name="___________0030_0" Datatype="Int" />
          <Member Name="___________0030_1" Datatype="Int" />
          <Member Name="TIME_OPENING_MAX" Datatype="Real" />
          <Member Name="TIME_CLOSING_MAX" Datatype="Real" />
          <Member Name="TIME_DER_OPEN" Datatype="Real" />
          <Member Name="TIME_DER_CLOSED" Datatype="Real" />
        </Section>
      </Sections>
    </Member>
  </Section>
  <Section Name="Output">
    <Member Name="OPERATE" Datatype="Bool" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Valve operate signal (1 = energise the valve, 0 = deenergise the valve)</MultiLanguageText>
      </Comment>
    </Member>
  </Section>
  <Section Name="InOut">
    <Member Name="DYNAMIC_DATA" Datatype="&quot;UT31101_Dy_DevValveBi&quot;" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Dynamic data storage (UDT)</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="revInfo" Datatype="&quot;UT01000_St_SysRevision&quot;">
            <Sections>
              <Section Name="None">
                <Member Name="REV_BLOCK" Datatype="String[7]" />
                <Member Name="REV_NUMBER" Datatype="String[20]" />
                <Member Name="REV_DATE" Datatype="String[10]" />
                <Member Name="REV_AUTHOR" Datatype="String[20]" />
              </Section>
            </Sections>
          </Member>
          <Member Name="___________0010_0" Datatype="Int" />
          <Member Name="___________0010_1" Datatype="Int" />
          <Member Name="status_Closed" Datatype="Bool" />
          <Member Name="status_Open" Datatype="Bool" />
          <Member Name="status_Closing" Datatype="Bool" />
          <Member Name="status_Opening" Datatype="Bool" />
          <Member Name="status_Operating" Datatype="Bool" />
          <Member Name="status_Fault" Datatype="Bool" />
          <Member Name="status_Energised" Datatype="Bool" />
          <Member Name="status_Aut" Datatype="Bool" />
          <Member Name="status_Man" Datatype="Bool" />
          <Member Name="status_EStop" Datatype="Bool" />
          <Member Name="status_Trip" Datatype="Bool" />
          <Member Name="status_Ilock" Datatype="Bool" />
          <Member Name="status_Perm" Datatype="Bool" />
          <Member Name="status_BypassOn" Datatype="Bool" />
          <Member Name="status_SimOn" Datatype="Bool" />
          <Member Name="status_RemoteOn" Datatype="Bool" />
          <Member Name="status_LocalOn" Datatype="Bool" />
          <Member Name="status_RLOff" Datatype="Bool" />
          <Member Name="___________0020_0" Datatype="Int" />
          <Member Name="___________0020_1" Datatype="Int" />
          <Member Name="msg_FailToOpen" Datatype="Bool" />
          <Member Name="msg_FailToClose" Datatype="Bool" />
          <Member Name="msg_FailWhileOpen" Datatype="Bool" />
          <Member Name="msg_FailWhileClosed" Datatype="Bool" />
          <Member Name="msg_Flt_External" Datatype="Bool" />
          <Member Name="___________0030_0" Datatype="Int" />
          <Member Name="___________0030_1" Datatype="Int" />
          <Member Name="mode_AutMan" Datatype="Bool" />
          <Member Name="mode_BypassOn" Datatype="Bool" />
          <Member Name="mode_SimOn" Datatype="Bool" />
          <Member Name="mode_SimValue" Datatype="Int" />
          <Member Name="mode_RemoteOn" Datatype="Bool" />
          <Member Name="mode_LocalOn" Datatype="Bool" />
          <Member Name="mode_Reset" Datatype="Bool" />
          <Member Name="___________0040_0" Datatype="Int" />
          <Member Name="___________0040_1" Datatype="Int" />
          <Member Name="ctrl_Aut_OpenClose" Datatype="Bool" />
          <Member Name="ctrl_Man_OpenClose" Datatype="Bool" />
          <Member Name="___________0050_0" Datatype="Int" />
          <Member Name="___________0050_1" Datatype="Int" />
          <Member Name="batch_ID" Datatype="UInt" />
          <Member Name="___________0060_0" Datatype="Int" />
          <Member Name="___________0060_1" Datatype="Int" />
          <Member Name="actual_Operating_Timer" Datatype="Real" />
          <Member Name="actual_Last_Op_Time" Datatype="Real" />
          <Member Name="___________0090_0" Datatype="Int" />
          <Member Name="___________0090_1" Datatype="Int" />
          <Member Name="$derived_fbk_open" Datatype="Bool" />
          <Member Name="$derived_fbk_closed" Datatype="Bool" />
          <Member Name="$sim_fbk_open" Datatype="Bool" />
          <Member Name="$sim_fbk_closed" Datatype="Bool" />
          <Member Name="$ctrl_OpenClose" Datatype="Bool" />
          <Member Name="$pret_Open" Datatype="Bool" />
          <Member Name="$nret_Close" Datatype="Bool" />
        </Section>
      </Sections>
    </Member>
  </Section>
  <Section Name="Temp">
    <Member Name="revInfo" Datatype="&quot;UT01000_St_SysRevision&quot;">
      <Comment>
        <MultiLanguageText Lang="en-US">Revision information for this block</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="REV_BLOCK" Datatype="String[7]" />
          <Member Name="REV_NUMBER" Datatype="String[20]" />
          <Member Name="REV_DATE" Datatype="String[10]" />
          <Member Name="REV_AUTHOR" Datatype="String[20]" />
        </Section>
      </Sections>
    </Member>
    <Member Name="licInfo" Datatype="&quot;UT01001_St_SysLicence&quot;">
      <Comment>
        <MultiLanguageText Lang="en-US">Licensing information for this block</MultiLanguageText>
      </Comment>
      <Sections>
        <Section Name="None">
          <Member Name="LICENCE_TYPE" Datatype="String[20]" />
          <Member Name="COPYRIGHT" Datatype="String[30]" />
        </Section>
      </Sections>
    </Member>
    <Member Name="calClosedElapsedTime" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Calculation - Derived closed signal elapsed time limit</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="calOpenElapsedTime" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Calculation - Derived open signal elapsed time limit</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkOpen" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - open position feedback signal (actual or derived)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkClosed" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - closed position feedback signal (actual or derived)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkCtrlPriority40" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - priority 40 condition controls the valve</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkCtrlPriority30" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - priority 30 condition controls the valve</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkCtrlPriority20" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - priority 20 condition controls the valve</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkCtrlPriority10" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - priority 10 condition controls the valve</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkCtrlPriority00" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - priority 00 condition controls the valve</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkCtrlAutManOpCl" Datatype="Bool">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - consolidated auto/manual open or close request</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkTimeFbkOpenSim" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - value of opening timer before derived open feedback</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkTimeFbkClosedSim" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - value of closing timer before derived closed feedback</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkInt" Datatype="Int">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - storage area (integer)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkReal" Datatype="Real">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - storage area (Real)</MultiLanguageText>
      </Comment>
    </Member>
    <Member Name="wrkDInt" Datatype="DInt">
      <Comment>
        <MultiLanguageText Lang="en-US">Working - storage area (double integer)</MultiLanguageText>
      </Comment>
    </Member>
  </Section>
  <Section Name="Constant">
    <Member Name="k_TIME_OP_MIN" Datatype="Real" Accessibility="Public">
      <Comment>
        <MultiLanguageText Lang="en-US">Minimum value for the valve operation timer</MultiLanguageText>
      </Comment>
      <StartValue>0.21</StartValue>
    </Member>
  </Section>
  <Section Name="Return">
    <Member Name="Ret_Val" Datatype="Void" Accessibility="Public" />
  </Section>
</Sections></Interface>
      <IsIECCheckEnabled>true</IsIECCheckEnabled>
      <MemoryLayout>Optimized</MemoryLayout>
      <Name>FC11101_StdDevValveBi</Name>
      <Number>11101</Number>
      <ProgrammingLanguage>LAD</ProgrammingLanguage>
      <SetENOAutomatically>false</SetENOAutomatically>
      <UDABlockProperties />
      <UDAEnableTagReadback>false</UDAEnableTagReadback>
    </AttributeList>
    <ObjectList>
      <MultilingualText ID="1" CompositionName="Comment">
        <ObjectList>
          <MultilingualTextItem ID="2" CompositionName="Items">
            <AttributeList>
              <Culture>en-US</Culture>
              <Text>
PRACTICAL SERIES AUTOMATION LIBRARY (PAL)   —   COPYRIGHT 2020 – M. GLEDHILL (MIT LICENCE)
                  ———— ◆ ————
FULL ONLINE DOCUMENTATION IS AVAILABLE AT: https://practicalseries.com/2001-pal/index.html</Text>
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
      <SW.Blocks.CompileUnit ID="3" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="4" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="5" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄  ＳＴＡＮＤＡＲＤ  ▄▄ 


TITLE:    DEVICE DRIVER — BISTABLE VALVE


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀ 

┌──────────────────────────────────────────┐
│                                          │
│          FC11101 — SOFTWARE MODULE DESIGN SPECIFICATION (SMDS)            │
│                                          │
│      The PDF version of the SMDS for this module is available online here:        │
│              https://psop.uk/pal-smds-fc11101-p               │
│                                          │
│      It is also available as part of the Project User Defined Documentation,      │
│      it can be accessed by selecting this module in the Project Tree          │
│      (on the left) and pressing SHIFT+F1                        │
│                                          │
└─────────────────────────────────────── ʷᴵᴰ⁻ᵇʰᵒ ┘

FC11101_StdDevValveBi controls the operation of a bistable valve configured with either open, 
closed, both open and closed or no position feedback (depending on the valve type).

The module supports automatic and manual control and can be configured with simulation 
mode to allow the valve limit switch signals to be overwritten and set to follow the demand 
position.

The module can be configured to either de-energise the outputs when the valve reaches the 
demanded position, or maintain the outputs when position is reached.

The module generates fault logic for the valve that will trigger specific alarms depending on the 
fault in question. The alarms within this block are: 


   •   Failed to Open 

   •   Failed to Close 

   •   Failed while Open

   •   Failed while Closed

   •   External Fault 

Separate operation times for opening and closing can be defined. 

The valve module supports all forms of interlock, permissive and trip signals, and emergency 
stop signals. The module has the conditional facility to allow the operator to bypass interlocks, 
permissive and trip conditions.

Various status signals are generated for supervisory systems:

   •   Closed

   •   Closing

   •   Open

   •   Opening

   •   Fault

The module also generates status signals for the selected operating modes and conditions.



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
1.     BLOCK TECHNICAL SUMMARY


 ――――――――――――――――――――――――――――――――――――――――――
 NOMENCLATURE &amp; ADDRESSING
 ――――――――――――――――――――――――――――――――――――――――――
 BLOCK TITLE         Bistable Valve
 BLOCK FUNCTION GROUP    Device Driver 
 BLOCK ADDRESS       FC11101
 BLOCK SYMBOL        FC11101_StdDevValveBi
 BLOCK USER ID         StdDevValveBi

 ――――――――――――――――――――――――――――――――――――――――――
 BLOCK TYPE &amp; USAGE
 ――――――――――――――――――――――――――――――――――――――――――
 BLOCK TYPE         Function (FC)
 BLOCK NUMBER        11101
 LANGUAGE           LAD
 OPTIMISED ACCESS     Yes
 PAL USAGE TYPE       Standard block

 ――――――――――――――――――――――――――――――――――――――――――
 METRICS
 ――――――――――――――――――――――――――――――――――――――――――
 EXECUTION TIME       80.0 μs¹
 LOAD MEMORY       99.7 kB
 WORK MEMORY           2.2 kB  
 ――――――――――――――――――――――――――――――――――――――――――
               ¹ Measured on: CPU-1515-2PN (order no. 6ES7512-2AM02-0AB0) 
                            https://psop.uk/pal-ds-cpu1515



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
1.1      Additional document references


Only those documents specified in OB1 (section DOCUMENT REFERENCES) are listed within this 
block. There are no additional document references.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
2.     FUNCTIONAL DESCRIPTION


FC11101 is the Bistable Valve block, it is a comprehensive block designed to operate and monitor 
a standard bistable valve. 



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.1     Defining a bistable valve


A bistable valve is any valve that has two signals to make it change state; it has two mutually 
exclusive output signals: an OPEN_CMD output that must be energised to drive the valve to the 
open position and a CLOSE_CMD output that must be energised to drive the valve to the closed 
position.

To open the valve the OPEN_CMD signal must be energised and the CLOSE_CMD signal 
deenergised. When the valve reaches the opened position, both signals will be deenergised² and 
the valve will remain in the opened state (it is stable in this condition and does not require any 
signal to maintain it in this state, if there were a power failure the valve would remain opened).

To close the valve the CLOSE_CMD signal must be energised and the OPEN_CMD signal 
deenergised. When the valve reaches the closed position, both signals will again be 
deenergised² and the valve will remain in the closed state (again the valve is stable in this 
condition and does not require any signal to maintain it in this state, if there were a power failure 
the valve would remain closed).

This is said to be a bistable device because once it is in a particular state, it does not (generally) 
require any signal to be energised to maintain that state.

――――――――――
²         The module can also be configured to maintain the appropriate output signal once 
     the required state is achieved (see § 3.2.1).
――――――――――



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.1.1     Comparison with an isolating valve


In many ways a bistable valve is very similar to an isolating valve (controlled by FC11001), it 
generally has only two states (it is either opened or closed); however, because the bistable valve 
is electrically driven (usually by a motor), if the driving signals are removed while the valve is in 
transit (say via an emergency stop being activated), the valve will simply stop in its current 
(intermediate) position and remain there until a driving signal is re-applied. This situation is 
discussed in §§ 2.3.1 and 3.4.1.

Additionally, because the bistable valve is stable in both the open and closed positions, the 
bistable valve does not have the normally open and normally closed³  types available to an 
isolating valve. A Bistable valve does not return to a specific state if power is removed from the 
actuator; it simply remains in its current state (even if this is an indeterminate state).

――――――――――
³         For an isolating valve, normally closed refers to a valve that is deenergised in the 
     closed state and will open when an energising signal is applied. A normally open 
     valve operates in the reverse arrangement, the valve is open in the deenergised 
     state and will only close when the energising signal is present. Normally open valves 
     are used in fail-safe applica-tions where a power failure causes the valve to open by 
     default, usually to vent pressure or release some other motive force from the vessel 
     to which it is connected.
――――――――――




▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.1.2     Valve operating times


A bistable valve, will move from its closed state to its open state when the OPEN_CMD signal is 
applied; this transition will occur in a specified time (the time taken will depend on the size and 
operating mechanism within the valve itself), this is referred to as the opening operation time.

Similarly, the transition from open to closed will occur when the CLOSE_CMD signal is applied, 
and again, this will occur in a specified time. This is referred to as the closing operation time. 

The opening and closing times can be different for a given valve. 

Collectively, the opening and closing times are referred to as the operating times (sometimes 
operation times) of the valve.

The maximum opening and closing times for a valve are generally given as part of the 
specification for the valve itself.

If a valve does not reach the required state within the specified maximum operating times, the 
valve is generally considered to be in a fault condition (either failed to open or failed to close 
depending on the action being undertaken).



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.1.3     Valve position feedback arrangements


Bistable valves can be equipped with limit switch signals that positively identify the current 
position of the valve. There are four combinations of limit switches:

   1.  No limit switches         There is no positive indication of the current state 
                     of the valve, it is assumed to be in the expected 
                     state.

   2.  Closed limit switch only       Positive indication is given for the closed state 
                     only. The valve is assumed to be open (after a 
                     predetermined time) if the closed signal is 
                     inactive

   3.  Open limit switch only      Positive indication is given for the open state 
                     only. The valve is assumed to be closed (after a 
                     predetermined time) if the open signal is 
                     inactive.

   4.  Open and closed limit switches    Positive indication is given for both states. 
                     This allows the true state of the valve to be 
                     determined under all circumstances.

Note:    Positive indication of a valve state need not be determined by a limit switch 
     (though this is by far the most common arrangement), it could for example, be 
     determined by some process value: if a flow is detected after the opening of a valve, 
     for example.

     In practice, limit switches are the preferred mechanism for the positive indication 
     of a given valve state.

Where a limit switch is absent, the valve is assumed to have reached the correct position when 
the relevant operation time has counted for an adjustable percentage of its maximum operating 
time.

The valve can be configured to “run-on” for a specified time after the demanded position has been 
achieved (i.e. the block will maintain the driving signal for a time period after the limit switch is 
activated to ensure the valve is firmly in position).

The valve can also be configured to maintain either the OPEN_CMD signal or the CLOSE_CMD 
signal permanently once the valve has reached the desired position; i.e. the OPEN/CLOSE_CMD 
signals do not deenergise when the valve has reached the correct position. 



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.2     Module operation


FC11101 is used to control (operate) a bistable valve, the module also monitors the various 
configurations of valve position feedback signals to determine if the valve is in a fault condition.

The module will drive the valve to the requested state by energising and deenergising two 
separate (mutually exclusive) digital signals (usually digital output signals), one signal to open 
the valve and one to close it.

These digital output signals can be configured to either deenergise when the valve reaches the 
required state (with a configurable run-on time) or to remain energised when the final state is 
reached.

If the requested state signal changes (either from closed to open, or from open to closed), the 
module will start either an opening operation timer (request has changed from closed to open) 
or a closing operation timer (request has changed from open to closed); these timers can have 
different values.

The valve will be expected to reach the requested state before the relevant operation timer 
expires; if it does not, the valve will enter a fault state and an appropriate alarm will be generated 
when the operation timer expires.

Once the valve has reached its requested state, the operation time will reset and the module 
will continue to monitor the state of the valve. 

If the request signal changes whilst the valve is in the process of changing state (e.g. the valve 
is requested to change from closed to open and whilst the opening operation timer is running, 
the request is changed back to closed), the running operation timer will be reset and the 
operation timer for the second request will start from its specified value. I.e. no allowance is 
made for how far the valve may have moved following the first request change.

If the valve is stable, in a given state (i.e. is not in the process of changing state) and the valve 
position signals no longer match the required state (e.g. the valve had correctly opened, but at 
some time after this, the open position feedback is lost), the valve will instantly generate an 
alarm condition.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.3     Safety and interlocks


The module, optionally, accommodates a single safety signal (emergency stop), and the 
standard arrangement of up to three interlock signals (interlock, permissive and trip) as follows:



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.3.1     Safety (emergency stop) signal


Safety or emergency stop signals are hardwired signals that remove power from a device forcing 
it to a safe state. Such signals act independently of the software (the pressing of an emergency 
stop button will physically remove power from the affected devices).

In the case of a bistable valve, the removing of the power under emergency stop conditions, 
simply deenergises both outputs leaving the valve in its current state¹: if the valve were already 
open, it would remain open, similarly if the valve were closed, it would remain closed.

The leads to the question, what happens if an emergency stop activates when the valve is 
changing state? The answer is that the valve simply stops where it is in mid-transition (in some 
indeterminate, intermediate state between open and closed). To accommodate this condition, 
the active operation timer will simply pause at its elapsed value (the valve will remain in either 
the opening or closing state) until the emergency stop condition is removed, at this point, the 
operation timer will continue from its last elapsed value .

Note:    The resumption of the operation timer can be delayed by a recovery time, this is
     to allow the physical aspects of the valve itself to reset and resume operation 
     (e.g. to allow the valve motor to ramp to the correct speed &amp;c.), this recovery time 
     is configurable.

The emergency stop signal passed to the module is used to allow the condition of the valve to 
be correctly interpreted within the software under emergency stop conditions.

The presence of an emergency stop signal is indicated via the block icon status signals generated 
by the module (see §§ 2.7 and 4.2).

Emergency stop signals cannot be bypassed under any circumstances (cf. interlock signals, 
below).

――――――――――
¹         This is unlike the isolating valve of FC11001; the isolating valve returns to a particular 
     state (either open or closed depending on the normally open/closed arrangement of 
     the valve). By comparison, the bistable simply stops in the condition it is in.
――――――――――



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.3.2     Interlock signals


There are three types of interlock signal:

   1.  Interlock
     A simple interlock that is active whenever a set of conditions is true; if active, it will 
     force the devices to a specified state.


   2.  Permissive
     Designates a specified “permitted” state for the device. A permissive interlock takes 
     no action if the device is in the non-permitted state, but once the device changes to 
     the permitted state, it will be prevented from changing back to the non-permitted state 
     (e.g. if the permitted state was closed and the valve was currently open when the 
     permissive signal activated, it would not force the valve to close, but once it was 
     closed, it would prevent it from re-opening).

   3.  Trip
     A latching interlock, it activates whenever a set of events are true (like an interlock), 
     but will not deactivate until the triggering conditions are removed and a reset signal 
     has been given (effectively a latching interlock); if active, it will force the device to a 
     specified state.

Note:    The trip reset signal is handled by the trip logic, the valve module will simply respond 
     to the presence or absence of a trip signal.

Each type of interlock has its own individual signal passed to the module (three signals in total).

Interlock signals can be optionally bypassed (effectively disabled) under specific, manually 
selected operations.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.3.3     Priority of safety and interlock signals


The presence of any interlock stop signal is indicated via the block icon status signals generated 
by the module (see § 4). The priority order of the various types of interlock (if more than one is 
active at the same time) is as follows:


 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL TYPE        PRIORITY        CAN BE BYPASSED
 ――――――――――――――――――――――――――――――――――――――――――
 Emergency Stop         High               NO
 Trip             ↑              YES
 Interlock             ↑              YES
 Permissive          Low               YES
 ――――――――――――――――――――――――――――――――――――――――――
 High priority signal take precedence over lower priority signals.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.4     Alarms and warnings


The module can generate up to five distinct alarms:


   1.  FAILED TO OPEN
     Indicates that the valve did not open when requested to do so. The alarm is generated 
     when the opening operation timer expires without the corresponding position feedback 
     activating

   2.  FAILED TO CLOSE
     Indicates that the valve did not close when requested to do so. The alarm is generated 
     when the closing operation timer expires without the corresponding position feedback 
     activating


   3.  FAILED WHILE OPEN
     Indicates that the valve opened correctly, but then at some later point, the position 
     feedback signals, indicating the open state of the valve, were lost.

   4.  FAILED WHILE CLOSED
     Indicates that the valve closed correctly, but then at some later point, the position 
     feedback signals, indicating the closed state of the valve, were lost.


   5.  EXTERNAL FAULT
     External fault is a separate (and optional) hardwired signal from the valve that 
     indicates the valve itself has detected a problem (e.g. a trip signal from a 
     motorised valve)

The module does not generate any warnings.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.4.1     Alarm — Failed to open/close


Failed to open and failed to close alarms are generated if the valve is required to change state 
and fails to do so within the time set by the relevant operation timer.

For example, if the valve were in a closed state and was requested to open, the failed to open 
alarm would be generated if the valve had not received positive indication that the valve was 
correctly open (from the valve limit switches) by the time the opening operation timer expired.

If the valve is not equipped with any limit switches, then there are no circumstances under 
which the failed to open and failed to close alarms can be generated (the valve is always 
assumed to operate correctly and be in the required position).



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.4.2     Alarm — Failed while open/closed


Failed while open and failed while closed are generated if the valve is in a steady state (not in 
the process of changing from open to closed or vice versa) and the positive indication of the 
valve position changes to indicate the steady state position has changed.

An example would be for a normally closed valve, with both open and closed limit switches, 
to be in the open (energised) state, where the open limit is active and closed limit is inactive 
(positively indicating the valve is open). If the power to the valve failed (a blown fuse or broken 
wire, for example), the valve would deenergise and return to the closed state and this would be 
reflected in the state of the limit switches. The module, knowing nothing of the power failure, 
would expect the valve to still be open and would instantly generate a failed while open alarm.

If the valve is not equipped with any limit switches, then there are no circumstances under which 
the failed while open and failed while closed alarms can be generated (the valve is always 
assumed to operate correctly and be in the required position).



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.4.3     Alarm — External fault


The external fault alarm is activated whenever the external fault signal provided to the module 
is active. The external fault signal is an optional signal that indicates that the valve itself is 
experiencing a problem. The signal is more commonly associated with motorised valves where 
thermal overload signals are used to indicate that the valve motor has experienced a fault, 
it could also be used to indicate the loss of pneumatic pressure for pneumatic solenoid valves.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.4.4     Resetting alarm conditions


The four alarms derived from valve position feedback signals:

   1.  FAILED TO OPEN

   2.  FAILED TO CLOSE

   3.  FAILED WHILE OPEN

   4.  FAILED WHILE CLOSED

Are latching alarms, if the alarm conditions occur, the valve will be placed in a fault condition 
(see § 2.5) and will no longer be operable, the valve will remain in a deenergised condition until 
the fault is corrected.

The alarm conditions are only reset when the module receives a RESET command (usually 
from the operator).

The fifth alarm:

   5.  EXTERNAL FAULT

Is a non-latching alarm that is reset automatically whenever the external fault signal is 
deactivated. It should be noted however, that the cause of the external fault (say a thermal 
overload) may itself, require some form of manual or physical reset, before the fault condition 
is removed.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.5     Fault conditions


The valve is in a fault condition if any alarm conditions is active:

   1.  FAILED TO OPEN

   2.  FAILED TO CLOSE

   3.  FAILED WHILE OPEN

   4.  FAILED WHILE CLOSED

   5.  EXTERNAL FAULT

A valve cannot operate if any fault condition is active and it will return to its deenergised state.

For a normally closed valve, the deenergised state is closed and for a normally open valve, 
the deenergised state is open.

A valve that is in a fault state will ignore any request that would move it to an energised state, 
irrespective of the source of the command: automatic operation, manual operation or even an 
interlock condition.


The valve will remain in a fault state until all alarms have been reset, in the case of the four limit 
switch derived alarms the module must receive a RESET command (see § 2.4.4) to remove the 
alarms, and consequently, the fault conditions.

The EXTERNAL FAULT alarm is a non-latching alarm that is reset automatically whenever the 
external fault signal is deactivated, consequently, the fault state will automatically reset when 
the external fault signal deactivates.

It should be noted however, that the cause of the external fault (say a thermal overload) may 
itself, require some form of manual or physical reset, before the fault condition is removed.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.6     Operating modes


The module supports the following optional modes of operation:

   •   Automatic/manual mode (allows the operator to take manual control of the valve 
     and open or close it irrespective of the control system requirements)

   •   Interlock bypass mode (allows the operator to override permissive, interlock and 
     trip signals

   •   Simulation mode (allows the operator to override the current instrument position 
     feedback signals  simulated values)

   •   Remote/local/all selection (allows control of the instrument to be restricted to a 
     specific SCADA/HMI device) 

   •   Faceplate disabled (informs the supervisory system not to display any faceplates 
     for the device, preventing graphical operator selections)



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.6.1     Automatic and manual control modes


By default, the module will be in automatic mode; this means that any open or close instruction 
received by the module from the control software (continuous or sequential control) will cause 
the valve to adopt the requested state (if the valve is not in fault and is free of interlock and 
safety conditions).

If the module is switched to manual mode, the automatic control signals will be ignored and the 
module will adopt the state required by the manual request signals set by the operator 
(again, the valve must not be in fault and must be free of interlock and safety conditions).

Selecting automatic or manual mode is an operator action and can be implemented at any time. 
Changing from automatic mode to manual mode is a bumpless operation, in which the initial 
manual state of the valve is set to match the current automatic state. For example, if a valve 
were open under automatic control, switching the valve to manual would cause the initial 
manual state to be set to open (matching the automatic state), ensuring that the valve does not 
initially change state when changing to manual mode.

Once manual mode is established, the operator is free to open and close the valve as required.

There is no bumpless transfer back to automatic mode, the valve will simply adopt the state 
required by the control software.

Interlocks and safety signals operate in exactly the same way for a valve in manual mode 
as they do for a valve in automatic mode and will take priority over any command issued in either 
automatic or manual mode.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.6.2     Interlock bypass mode


Interlock bypass mode allows the three interlock types (trip, interlock and permissive) to be 
overridden (bypassed) by the operator.

If bypass mode is activated, any interlock signal will be ignored by the module.

Bypass mode is an entirely manual operation that can only be initiated by an operator, usually 
via a supervisory system (SCADA or HMI).



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
2.6.3     Simulation mode


The module can be switched to a simulation mode, under which any positive position feedback 
signals from valve limit switches are replaced by simulated signals selected by the operator. 
Simulation mode can be used during testing and can also be applied in a process environment 
if a fault condition is detected within the valve.

The operator can select any one of the following possible simulation arrangements (only one 
can be active at any given time):


   •   Follow demand    The simulation will generate open and closed signals that 
                match the requested state of the valve

   •   Open          The simulation will generate signals to give a permanently 
                open state for the valve, irrespective of any valve state 
                request (allows failed open conditions to be simulated)

   •   Closed           The simulation will generate signals to give a permanently 
                closed state for the valve, irrespective of any valve state 
                request (allows failed closed conditions to be simulated)
                request (allows failed open conditions to be simulated)

   •   No limits       No position feedback signals will be simulated

Simulation mode is a manual operation that can only be initiated by an operator.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
2.6.4     Remote/local/all mode

Remote and local operating modes refer to the device that has control of the module; where 
a plant has more than one SCADA/HMI, say a SCADA in a remote control room and a field 
mounted HMI local to the device, it is possible to restrict the operator control of the module to 
one, or the other, or both supervisor systems as follows

   •   Remote Only the remote system in the control room can control the device

   •   Local     A local system has taken control of the device and the remote system can 
           no longer issue commands to it

   •    All    Any system can control the device

The default arrangement if for all systems to have access to the device.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
2.6.5     Faceplate disabled mode

Prevents the supervisory system from displaying the faceplate from which the above options are 
selected. If the faceplate is disabled, the operator will not be able to select or change any of the 
various operating modes.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
2.7      Supervisory system interface

See the online documentation for this block — select the block in the project tree and press:
     SHIFT + F1 or follow the link: https://psop.uk/pal-smds-fc11101-p 

The supervisory system interface is available in sections 2.5 and 4 of the online SMDS 
document.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="6" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="7" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Block description — Sections 1 to 2</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="8" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="9" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="A" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
3.     DETAILED BLOCK DESCRIPTION


This module, FC11101_StdDevValveBi uses user data types to provide the primary interface to 
the module, it also uses direct digital signals to provide an interface for the position feedback 
signals and for the fault, safety and interlock signals. It also has a single output signal used to 
operate the valve. 

These are the formal module parameters: 

 ――――――――――――――――――――――――――――――――――――――――――
 PARAM         FUNCTION                    TYPE      IN-OUT 
 ――――――――――――――――――――――――――――――――――――――――――
 SYS_SIGNALS      Common system signals              UT21000    In
          logic and timing signals for parametric access

 FBK_OPEN     Optional open state positive feedback        Bool      In
          (1 = open, 0 = not open) If not required, set 
          permanently to _False

 FBK_CLOSED    Optional closed state positive feedback        Bool      In
          (1 = closed 0 = not closed) If not required, set 
          permanently to _False

 EXT_FAULT     Optional external fault signal for the device     Bool      In
          (1 = fault, 0 = healthy). If not required, set 
          permanently to _False

 E_STOP        Optional emergency stop (safety) signal        Bool      In
          (1 = emergency stop active, 0 = healthy) If not 
          required, set permanently to _False

 TRIP        Optional trip signal                  Bool      In
          (1 = trip condition active, 0 = healthy) If not 
          required, set permanently to _False

 INTERLOCK     Optional interlock signal               Bool      In
          (1 = interlock condition active, 0 = healthy) If 
          not required, set permanently to _False

 PERMISSIVE      Optional permissive signal             Bool      In
          (1 = permissive condition active, 0 = healthy) 
          If not required, set permanently to _False

 STATIC_DATA     Data structure that holds the configuration data     UT11101    In
          for the device (limit switch, timer presets 
          and interlock configuration &amp;c.)

 DYNAMIC_DATA      Data structure that holds the live data for the       UT31101    InOut
          device (its mode, status, messages and 
          other dynamic information)

 OPEN_CMD       Output to drive the valve to an open state    Bool      Out
          (1 = Open valve, 0 = no action)

 CLOSE_CMD     Output to drive the valve to a closed state       Bool      Out
          (1 = Close valve, 0 = no action)
 ――――――――――――――――――――――――――――――――――――――――――

FBK_OPEN, FBK_CLOSED and EXT_FAULT parameters are input signals provided directly from the 
device itself (via digital input cards). 

The E-STOP parameter is the interface to any safety signal that might apply to the valve; 
similarly, the PERMISSIVE, INTERLOCK and TRIP parameters are the links to any such interlock 
signals that may be applied to the device.

The STATIC_DATA and DYNAMIC_DATA parameters are UDTs that hold (respectively) the 
configuration information and the live data for the device.

 ――――――――――――――――――――――――――――――――――――――――――
 PARAM         ASSOCIATED UDT          ASSOCIATED DATA BLOCK
 ――――――――――――――――――――――――――――――――――――――――――
 STATIC_DATA     UT11101_St_DevValveBi           DB11101_St_DevValveBi
 DYNAMIC_DATA   UT31101_Dy_DevValveBi           DB31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――


Section 6 contains a full list of all variables within these UDTs.

This arrangement conforms with the PAL philosophy where IO card connections, safety 
signals and interlocks have unique formal parameters; all remaining signals are passed as 
variables within UDTs, see the Software Design Specification [Ref. 008].



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.1      Typical wiring arrangement


The typical wiring arrangements for a valve with all signals is as follows:

    24VDC  
     ─┬─                                ┌──────┬───┐
      │                                 │         │   │
      ├────┬────┐                 │         │  ─┴─
      │       │       │                 │         │    GND
      │       │       │             ┌┻┐ ▁▁ ┌┻┐
   ▁│ ○   ▁│○   ▁│○             │ │▁＼／▁│ │
   ▔│ ○   ▔│○   ▔│○             │ │ ／＼ │ │
    FAULT│ CLOSED│   OPEN│             └┬┘ ▔▔ └┬┘
      │       │       │                 │         │
      │       │       │              │         │
    ┌─┻─┐┌─┻─┐┌─┻─┐          ┌─┻─┐  ┌─┻─┐
    │  I1.0  ││  I1.1  ││  I1.2  │DI CARD        │  Q1.0 │  │  Q1.1 │DO CARD
    └─┬─┘└─┬─┘└─┬─┘          └─┬─┘  └─┬─┘
      │       │       │ ┌────────    │      │
      │       │       │ │ FC11101          │      │
      │       │       │ ├──────────┤ │      │
      │       │       │ │          │ │      │
      │       │       │ │          OPEN_CMD ├─┘      │
      │       │       │ │          │        │
      │       │       │ │     CLOSE_CMD ├────────┘
      │       │       │ │          │
      │       │       └─┤ FBK_OPEN        │
      │       │         │          │
      │       └──────┤ FBK_CLOSED       │
      │                 │          │
      └───────────┤ EXT_FAULT        │
                        │
                        │



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.2      Normal operation 


Normal operation can generally be considered the operation of both normally open and normally 
closed valves under automatic or manual control (see § 3.5.1 for a full explanation of how 
automatic and manual modes are selected). And the mechanisms used to determine the state 
of the valve.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.1     Opening and closing the valve


Under automatic mode, the valve is controlled by separate software within the Controller (this 
is usually derived from either continuous control logic or sequential control logic and 
implemented by the command handling application module).

The result of this software will be to either open the valve or close the valve.

Under manual mode, the valve is controlled directly by the operator via some form of 
supervisory system (SCADA or HMI). Again, the result of the manual operator action will be to 
either open or close the valve.

There are two signals that, under normal operation, can cause the valve to move to a particular 
state, one for automatic mode and one for manual mode, both are passed to the module as 
part of the DYNAMIC_DATA parameter (UT31101_Dy_DevValveBi):


 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 ctrl_Aut_OpenClose Causes the valve to open and close     Bool  1 = open the valve
           if automatic mode is active            0 = close the valve
           (mode_AutMan = 1). If auto mode is 
           not active, signal is ignored

 ctrl_Man_OpenClose  Causes the valve to open and close     Bool  1 = open the valve
           if manual mode is active             0 = close the valve
           (mode_AutMan = 0). If man mode is 
           not active, signal is ignored
 ――――――――――――――――――――――――――――――――――――――――――

The operating mode (either automatic or manual) is specified within the DYNAMIC_DATA 
parameter UDT (UT31101_Dy_DevValveBi) mode_AutMan as follows:


 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 Mode_AutMan     Identifies the operating mode of     Bool  1 = automatic mode
           the valve.                   0 = manual mode
 ――――――――――――――――――――――――――――――――――――――――――

It is possible to configure the module such that manual mode is permanently disabled; this uses 
the following STATIC_DATA parameter:

 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_MAN_DIS     Prevents manual mode being       Bool  1 = no manual mode
           activated under all circumstances            0 = manual permitted
           device is in auto, Mode_AutMan is 
           set permanently to 1
 ――――――――――――――――――――――――――――――――――――――――――

If manual mode is disabled (configuration signal CONFIG_MAN_DIS is set to 1), then manual 
mode cannot be turned on under any circumstances, the option will be greyed out on the 
supervisory system faceplate and the module will constantly set the mode_AutMan signal to 1.

By default the device will be in automatic mode.

The state of the OPEN_CMD and CLOSE_CMD parameters is determined by either the 
ctrl_Aut_OpenClose or ctrl_Man_OpenClose (depending on whether automatic mode or 
manual mode is active) and whether the outputs are configured to deenergise or remain active 
(maintained) when the valve reaches the desired state.

The facility to deenergise outputs or for them to be maintained once the required state is reached 
is determined using the following STATIC_DATA parameter:


 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_MAINT_OP    If set to 1, either the OPEN _CMD or   Bool  1 = Maintain outputs
           CLOSE_CMD will remain active when       0 = deenergise output
           the valve reaches the required state.

           If set to 0, the OPEN _CMD and  
           CLOSE_CMD will deenergise after the 
           run-on timer is complete.
 ――――――――――――――――――――――――――――――――――――――――――

The various states of the valve for both automatic and manual operations are given in the following 
tables. The first table shows the output states for deenergising outputs, the second for maintained 
outputs:


 ――――――――――――――――――――――――――――――――――――――――――
 MODE:   AUTOMATIC MODE (mode_AutMan = 1)
     and outputs configured to deenergise (CONFIG_MAINT_OP = 0)

 ctrl_Aut_OpenClose ctrl_Man_OpenClose OPEN_CMD      CLOSE_CMD  VALVE STATE
 ――――――――――――――――――――――――――――――――――――――――――
     0         N/A      0         1          Closing
     1         N/A      1         0          Opening
     0         N/A      0         0          Closed
     1         N/A      0         0          Open
 ――――――――――――――――――――――――――――――――――――――――――

 MODE:   MANUAL MODE (mode_AutMan = 0)
     and outputs configured to deenergise (CONFIG_MAINT_OP = 0)

 ctrl_Aut_OpenClose ctrl_Man_OpenClose OPEN_CMD      CLOSE_CMD  VALVE STATE
 ――――――――――――――――――――――――――――――――――――――――――
      N/A          0       0         1          Closing
      N/A          1       1         0          Opening
      N/A          0       0         0          Closed
      N/A          1       0         0          Open
 ――――――――――――――――――――――――――――――――――――――――――
   Once the valve has reached its requested state (open or closed), the OPEN_CMD and 
   CLOSE_CMD outputs are deenergised after the run-on timer is complete


 ――――――――――――――――――――――――――――――――――――――――――
 MODE:   AUTOMATIC MODE (mode_AutMan = 1)
     and outputs configured to be maintained  (CONFIG_MAINT_OP = 1)

 ctrl_Aut_OpenClose ctrl_Man_OpenClose OPEN_CMD      CLOSE_CMD  VALVE STATE
 ――――――――――――――――――――――――――――――――――――――――――
     0         N/A      0         1          Closing
     1         N/A      1         0          Opening
     0         N/A      0         0          Closed
     1         N/A      0         0          Open
 ――――――――――――――――――――――――――――――――――――――――――

 MODE:   MANUAL MODE (mode_AutMan = 0)
     and outputs configured to be maintained  (CONFIG_MAINT_OP = 1)

 ctrl_Aut_OpenClose ctrl_Man_OpenClose OPEN_CMD      CLOSE_CMD  VALVE STATE
 ――――――――――――――――――――――――――――――――――――――――――
      N/A          0       0         1          Closing
      N/A          1       1         0          Opening
      N/A          0       0         0          Closed
      N/A          1       1         1          Open
 ――――――――――――――――――――――――――――――――――――――――――
   Once the valve has reached its requested state (open or closed), the OPEN_CMD and 
   CLOSE_CMD outputs remain active

If the valve is in a fault state (see § 3.3), both the OPEN_CMD and CLOSE_CMD parameters will be 
set to 0 (deenergised), irrespective of any other signals.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.2     A note on maintained output signals


A bistable valve is usually configured to either deenergise the OPEN_CMD and CLOSE_CMD 
output signals when the valve reaches its demanded position (after a specified run-on time), 
it can also be configured to permanently maintain the ap-propriate output the signal when the 
demanded position is reached.

The default arrangement is for the output signals to automatically deenergise once the valve 
reaches position (bistable valves generally only require the driving signals to be applied when 
the valve is changing state). 

The maintain option is selected by setting CONFIG_MAINT_OP to a value of 1, deenergise mode 
is selected by setting CONFIG_MAINT_OP to a value of 0.

The option to maintain the outputs when the demanded state is reached, although not normally 
required, is provided and may be used if deemed necessary.

Note:    If the option to maintain the outputs is activated, the valve must be rated to have its 
     actuating signals permanently energised.

If the maintain option is active, the outputs will still deenergise if a fault is detected.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.3     Operation timers


The module an operation timer used for both opening the valve and for closing the valve.

The timer is loaded with either the opening operation time or closing operation time whenever 
the valve is requested to change state. The timer counts down from the loaded value to zero 
(the valve can have different times for opening and closing).

The specific operating times are given within the STATIC_DATA parameter 
UDT (UT11101_St_DevValveBi) as follows:


 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 TIME_OPENING_MAX The maximum time required for the     Real     Time in seconds
           valve to travel from a closed state to
           an open state

 TIME_CLOSING_MAX The maximum time required for the     Real     Time in seconds
           valve to travel from an open state to 
           a closed state
 ――――――――――――――――――――――――――――――――――――――――――

If the timer is running, the elapsed (counting down) time is stored within the DYNAMIC_DATA 
parameter UDT (UT31101_Dy_DevValveBi) as follows:


 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL           FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 actual_Operating_Timer    The actual elapsed operation time       Real     Time in seconds
 ――――――――――――――――――――――――――――――――――――――――――

There is a single operating timer for both opening and closing (opening and closing are mutually 
exclusive operations, hence only one timer is needed. The timer is preloaded with either the 
opening time preset or the closing time preset prior to the timer starting).

The preset signals TIME_OPENING_MAX and TIME_CLOSING_MAX are the maximum possible 
times it can take for the valve to reach the expected position. This should be set to between 
110% and 120% of the normal opening and closing times specified for the valve. For example, 
if a valve has a normal opening time of 5 seconds and a normal closing time of 3 seconds, 
sensible values for TIME_OPENING_MAX and TIME_CLOSING_MAX would be between 5.5-6.0 s 
and 3.3-4.0 s respectively.

A valve will enter a fault state (see § 3.4) if the operation timer counts down to a value of zero 
without confirmation that the valve has reached the required state. Such confirmation is 
provided by positive feedback from the valve limit switches (or other indicating devices) or 
by simulated signal within the module itself (see § 3.2.3).

The operation timer always counts down from a preset value to zero, this is in accordance 
with the general requirements and practices of the PAL software.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.4     Run-on timers


The module has a run-on timer that activates whenever a valve that is changing state, reaches 
the demanded position. The run-on timer is used to maintain either the OPEN_CMD or 
CLOSE_CMD output for a short time period after the valve has reached the demanded position 
to ensure that the valve is firmly in position (it pre-vents the valve stopping the instant the limit 
switch confirms the valve position, it provides some hysteresis to ensure that the valve is 
positively in position before deactivating the driving signals).

Different values can be specified for the run-on timer, depending whether the valve is opening 
or closing.

The run-on timer is loaded with either the opening run-on time or closing run-on time 
whenever the valve is requested to change state. The timer begins to count down from the 
loaded value to zero, the instant the valve reaches position (and the operation timer stops). The 
valve can have different run-on times for opening and closing.

The specific run-on times are given within the STATIC_DATA parameter UDT 
(UT11101_St_DevValveBi) as follows:


 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL           FUNCTION               TYPE DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 TIME_OPENING_RUNON    The run-on time period activated when     Real  Time in seconds
             the valve reaches the open position
             OPEN_CMD will be maintained for this 
             period

 TIME_CLOSING_RUNON    The run-on time period activated when     Real  Time in seconds
             the valve reaches the closed position
             CLOSE_CMD will be maintained for this 
             period
 ――――――――――――――――――――――――――――――――――――――――――

If the run-on timer is active, the elapsed (counting down) time is stored within the DYNAMIC_DATA 
parameter UDT (UT31101_Dy_DevValveBi) as follows:


 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL           FUNCTION               TYPE DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 actual_Runon_Timer     Actual (elapsed) value of the run-on timer   Real  Time in seconds
 ――――――――――――――――――――――――――――――――――――――――――

There is a single run-on timer for both the opening and closing run-on operations (opening and 
closing are mutually exclusive operations, hence only one timer is needed. The timer is 
preloaded with either the opening run-on time preset or the closing run-on time preset prior to 
the timer starting).

The effect of the run-on timer is shown graphically below: 


│   ┌────────────────┐
│   │                │
│   │                │            ctrl_Aut_OpenClose
│   │                │
┼───┘┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈└───────────────
    ╎                ╎
    ╎                ╎
│   ╎      ┌──────────┐
│   ╎      │         ╎│
│   ╎      │         ╎│             FBK_OPEN
│   ╎      │         ╎│
┼──────────┘┈┈┈┈┈┈┈┈┈┈└────────────────
    ╎
│────┐     ╎         ╎       ┌───────
│   ╎│     ╎         ╎       │
│   ╎│     ╎         ╎       │               FBK_CLOSED
│   ╎│     ╎         ╎       │
┼┈┈┈┈└───────────────────────┘┈┈┈┈┈┈┈
    ╎      ╎         ╎       ╎
    ↓            ↓                  ↓       ↓          
│   ┌──────┐         ┌───────┐   
│   │      │         │       │  
│   │←    Ａ  →│         │←      Ｂ    →│  actual_Operating_Timer
│   │      │         │       │  
┼───┘┈┈┈┈┈┈└─────────┘┈┈┈┈┈┈┈└───────
    ╎      ╎         ╎       ╎
    ╎      ↓         ╎       ↓
│   ╎      ┌──┐      ╎       ┌─┐   
│   ╎      │  Ｃ  │      ╎       │Ｄ│  
│   ╎      │  │      ╎       │ │    actual_Runon_Timer
│   ╎      │  │      ╎       │ │  
┼──────────┘┈┈└──────────────┘┈└───────
    ╎         ╎      ╎         ╎
    ↓               ↓      ╎         ╎         
│   ┌─────────┐      ╎         ╎   
│   │         │      ╎         ╎  
│   │         │      ╎         ╎    OPEN_CMD
│   │         │      ╎         ╎  
┼───┘┈┈┈┈┈┈┈┈┈└────────────────────────

                     ╎         ╎
                     ↓               ↓ 
│                    ┌─────────┐  
│                    ╎         ╎  
│                    ╎         ╎    CLOSE_CMD
│                    ╎         ╎  
┼────────────────────┘┈┈┈┈┈┈┈┈┈└───────


  Ａ Operation timer (opening)
  Ｂ Operation timer (closing)
  Ｃ Run-on timer (opening)
  Ｄ Run-on timer (closing)

The run-on timer starts on the falling edge of the operation timer (this in turn is determined by 
the valve reaching the correct position).

The preset signals TIME_OPENING_RUNON and TIME_CLOSING_RUNON cause the OPEN_CMD and 
CLOSE_CMD signals (respectively) to remain active for a period after the appropriate limit switch 
positions have been reached

The run-on timer always counts down from a preset value to zero, this is in accordance with the 
general requirements and practices of the PAL software.

If the valve is in a fault condition (i.e. if the valve did not achieve the correct state), the run-on 
timer will not activate.

The run-on timer will not activate if the module is configured to maintain its outputs 
(CONFIG_MAINT_OP = 1).



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.5     Operation with maintained outputs

If the module is configured to maintain the OPEN_CMD and CLOSE_CMD signals when the 
required state is reached (CONFIG_MAINT_OP = 1), the run-on timer will not activate under any 
circumstances and the operation diagram becomes:




│   ┌────────────────┐
│   │                │
│   │                │            ctrl_Aut_OpenClose
│   │                │
┼───┘┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈└───────────────
    ╎                ╎
    ╎                ╎
│   ╎      ┌──────────┐
│   ╎      │         ╎│
│   ╎      │         ╎│             FBK_OPEN
│   ╎      │         ╎│
┼──────────┘┈┈┈┈┈┈┈┈┈┈└────────────────
    ╎
│────┐     ╎         ╎       ┌───────
│   ╎│     ╎         ╎       │
│   ╎│     ╎         ╎       │               FBK_CLOSED
│   ╎│     ╎         ╎       │
┼┈┈┈┈└───────────────────────┘┈┈┈┈┈┈┈
    ╎      ╎         ╎       ╎
    ↓            ↓                  ↓       ↓          
│   ┌──────┐         ┌───────┐   
│   │      │         │       │  
│   │←    Ａ  →│         │←      Ｂ    →│  actual_Operating_Timer
│   │      │         │       │  
┼───┘┈┈┈┈┈┈└─────────┘┈┈┈┈┈┈┈└───────
    ╎                ╎          
    ↓                      ↓                   
│   ┌────────────────┐                    
│   │                │                   
│   │                │              OPEN_CMD
│   │                │                   
┼───┘┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈└─────────────────
    ╎                ╎
    ↓                      ↓
│───┐                ┌─────────────────  
│   ╎                ╎            
│   ╎                ╎              CLOSE_CMD
│   ╎                ╎            
┼┈┈┈└────────────────┘┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈


  Ａ Operation timer (opening)
  Ｂ Operation timer (closing)


</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="B" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="C" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Block description — Section 3 to 3.2.5</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="D" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="E" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="F" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.6     Position feedback signals


The module can accommodate either none, one or two positive position indication signals:


   1.  No limit switches         There is no positive indication of the current state 
                     of the valve, it is assumed to be in the expected 
                     state.

   2.  Closed limit switch only       Positive indication is given for the closed state 
                     only. The valve is assumed to be open if the 
                     closed signal is inactive.

   3.  Open limit switch only      Positive indication is given for the open state 
                     only. The valve is assumed to be closed if the 
                     open signal is inactive.

   4.  Open and closed limit switches    Positive indication is given for both states. 
                     This allows the true state of the valve to be 
                     determined under all circumstances.

There are two configuration signals that determine the position feedback arrangements, these 
are stored within the STATIC_DATA parameter UDT as follows:


 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL           FUNCTION              TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_FBK_OPEN_EN    Indicates that positive feedback for    Bool  1 = open feedback
             the open state is present           0 = no feedback

 CONFIG_FBK_CLOSED_EN  Indicates that positive feedback for    Bool  1 = closed feedback
             the closed state is present            0 = no feedback
 ――――――――――――――――――――――――――――――――――――――――――

If the CONFIG_FBK_OPEN_EN signal is activated (set to 1), the module will use the state of the 
signal connected to the FBK_OPEN parameter to determine the open position of the valve. 

If the CONFIG_FBK_OPEN_EN signal is deactivated (set to 0), the module will derive the open 
position of the valve such that it matches the requested state of the valve.

Similarly, if the CONFIG_FBK_CLOSED_EN signal is activated (set to 1), the module will use the 
state of the signal connected to the FBK_CLOSED parameter to determine the closed position of 
the valve. 

If the CONFIG_FBK_CLOSED_EN signal is deactivated (set to 0), the module will derive the 
closed position of the valve such that it matches the requested state of the valve.

Where a CONFIG_FBK_OPEN/CLOSED_EN signal is activated (set to 1), a true state on the 
associated parameter FBK_OPEN/CLOSED indicates that the valve is in that position, a false 
state indicates that the valve is not in that position as follows:

 OPEN SIGNALS  ―――――――――――――――――――――――――――――――――――
 CONFIG_FBK_OPEN_EN    FBK_OPEN    MEANING
 ――――――――――――――――――――――――――――――――――――――――――
      1            0       Not open
      1            1       Confirmed open
      0          N/A     Internally derived open signal matches
                       requested valve state, FBK_OPEN is ignored
 ――――――――――――――――――――――――――――――――――――――――――


 CLOSED SIGNALS ――――――――――――――――――――――――――――――――――
 CONFIG_FBK_CLOSED_EN  FBK_CLOSED  MEANING
 ――――――――――――――――――――――――――――――――――――――――――
      1            0       Not closed
      1            1       Confirmed closed
      0          N/A     Internally derived closed signal matches
                       requested valve state, FBK_CLOSED is ignored
 ――――――――――――――――――――――――――――――――――――――――――   




▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Position status signals


The true position of the valve is given as status signals:

 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL          FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 status_Closed      Valve is confirmed closed         Bool     1 = closed
                                   0 = not closed

 status_Opening      Valve is opening             Bool     1 = opening
                                   0 = not opening

 status_Open      Valve is confirmed open         Bool     1 = open
                                   0 = not open

 status_Closing     Valve is closing               Bool     1 = closing
                                   0 = not closing

 status_Operating      Valve is changing state          Bool     1 = changing state
            (either opening or closing)           0 = fixed state

 status_Fault       Valve is in a fault condition          Bool     1 = fault
                                   0 = healthy
 ――――――――――――――――――――――――――――――――――――――――――   

The standard arrangement is for symbols to show discrete opening and closing symbols; there 
are some instances (usually on less sophisticated HMIs) where it is necessary to show only that 
the valve is in the process of changing state.

This is achieved through the use of the status_Operating signal (this is active whenever either 
status_Opening or status_Closing is active), status_Operating indicates that the valve is either 
opening or closing, but does not distinguish which.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Understanding derived position signals


Where either the CONFIG_FBK_OPEN_EN or CONFIG_FBK_CLOSED_EN signal is deactivated 
(set to 0), the associated position feedback is internally determined by the module according to 
the actual state of the valve (determined by the OPERATE parameter and the type of valve in use).

These internally derived signals are themselves configurable and can be set such that the 
position feedback signal occurs after a particular percentage of the associated operation timer 
has expired.

For the derived FBK_OPEN signal, the configurable percentage signal is TIME_DER_OPEN 
stored within the STATIC_DATA parameter. Similarly, for the derived FBK_CLOSED signal, the 
configurable percentage signal is TIME_DER_CLOSED, again, stored within the STATIC_DATA 
parameter.

The operation of these parameters can be seen below:

    ①                ③
│   ┌────────────────┐
│   │                │
│   │                │      ctrl_Aut_OpenClose
│   │                │
┼───┘┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈└───────────────


                     TIME_OPENING_MAX            TIME_CLOSING_MAX
     ←         →       ←                →
│   ┌──────┐┄┄┐      ┌───────┐┄┄┐
│   │      │  ┆      │       │  ┆
│   │←    Ａ  →│  ┆      │←      Ｂ    →│  ┆actual_Operating_Timer
│   │      │  ┆      │       │  ┆
┼───┘┈┈┈┈┈┈└──┴──────┘┈┈┈┈┈┈┈└──┴────
    ╎      ②         ╎       ④
    ╎      ╎         ╎       ╎
    ↓      ╎         ╎       ↓
│───┐      ╎         ╎       ┌───────
│   │      ╎         ╎       │
│   │      ╎         ╎       │                FBK_CLOSED (derived)
│   │      ╎         ╎       │
┼┈┈┈└────────────────────────┘┈┈┈┈┈┈┈
    Ｃ      ╎         ╎       Ｆ
           ╎         ╎
           ╎         ╎
           ↓         ↓
│          ┌─────────┐
│          │         │
│          │         │               FBK_OPEN (derived)
│          │         │
┼──────────┘┈┈┈┈┈┈┈┈┈└────────────────
           Ｄ         Ｅ

  Ａ TIME_DER_OPEN  (95%)
  Ｂ TIME_DER_CLOSED  (80%)
  Ｃ Closed signal deactivates instantly when the valve is asked to open
  Ｄ Open signal activates when actual_Operating_Timer reaches TIME_DER_OPEN 
    as a percentage of TIME_OPENING_MAX
  Ｅ Open signal deactivates instantly when the valve is asked to close
  Ｆ Closed signal activates when actual_Operating_Timer reaches TIME_DER_CLOSED 
    as a percentage of TIME_CLOSING_MAX

The figure above assumes a normally closed valve with no position feedback signals (both 
CONFIG_FBK_OPEN_EN and CONFIG_FBK_CLOSED_EN are set to 0) operating in automatic mode. 
It also assumes that the valve is free to operate without restriction (there are no active interlock 
or safety signals).

The valve is initially closed with the derived FBK_CLOSED signal active (1) and the derived 
FBK_OPEN signal deactivated (0). At some point 1, the module receives a request to open the 
valve.

At this point two things happen, firstly the operation timer starts, with a countdown from the 
value TIME_OPENING_MAX, which in this case is 3 seconds. Secondly, the derived FBK_CLOSED 
signal is deenergised (indicating the valve is no longer closed).

The simulated opening time (TIME_DER_OPEN) is set to 95%, this means that the derived 
FBK_OPEN signal will activate when the actual_Operating_Timer value has counted down for 
95% of the TIME_OPENING_MAX value (i.e. when the timer has counted down to 0.15s or less). 

The exact formula used is:

┌───────────────────────────────────────────┐
│Derived FBK_OPEN=1 when:                                     │
│                                 TIME_DER_OPEN        │
│actual_Operating_Timer ≤ TIME_OPENING_MAX ─ TIME_OPENING_MAX ╳ --------------------------------        │
│                                     100     │
└───────────────────────────────────────────┘

This can be seen at point ②, where the derived FBK_OPEN signal activates. The valve now 
remains in the open state (FBK_OPEN = 1. FBK_CLOSED = 0) until there is a request to close 
the valve, point ③.

Again, at point ③, the module receives a request to close the valve.

At this point two things happen, firstly the operation timer starts, with a countdown from the 
value TIME_CLOSING_MAX, which in this case is 4 seconds. Secondly, the derived FBK_OPEN signal 
is deenergised (indicating the valve is no longer open).

The simulated closing time (TIME_DER_CLOSED) is set to 80%, this means that the derived 
FBK_CLOSED signal will activate when the actual_Operating_Timer value has counted down 
for 80% of the TIME_CLOSING_MAX value (i.e. when the timer has counted down to 0.80s or less). 

The exact formula used is:

┌────────────────────────────────────────────┐
│Derived FBK_CLOSED=1 when:                               │
│                                 TIME_DER_CLOSED          │
│actual_Operating_Timer ≤ TIME_CLOSING_MAX ─ TIME_CLOSING_MAX ╳ ------------------------------------         │
│                                     100            │
└────────────────────────────────────────────┘

This can be seen at point ④, where the derived FBK_CLOSED signal activates. The valve now 
remains in the closed state (FBK_OPEN = 0. FBK_CLOSED = 1) until there is a request a 
subsequent request to reopen the valve.

If only one position feedback is derived (the other being an actual signal), then the derived signal 
will be generated in exactly the same way as above, the non-derived signal will simply use the 
true status of the signal passed as a parameter to the module.

The simulated time signals are passed to the module within the STATIC_DATA parameter 
UDT (UT11101_St_DevValveBi) as follows:

 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL        FUNCTION              TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 TIME_DER_CLOSED           Specifies the percentage of the     Real     Percentage
             TIME_OPENING_MAX value that 
             must expire before the derived 
             FBK_OPEN signal activates.


 TIME_DER_OPEN             Specifies the percentage of the     Real     Percentage
             TIME_CLOSING_MAX value that 
             must expire before the derived 
             FBK_CLOSED signal activates.
 ――――――――――――――――――――――――――――――――――――――――――

Both configuration signals are restricted to the range 0.00-100.00, the default value is 90% for 
both open and closed.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.7    Recording the last operation time


The module records the last complete operation time value, it records the actual time taken for 
the valve to reach the correct designated position.

For example if the valve received a request to open, and it required 4.8 seconds for the position 
feedback to report the correct (open) state, the module would record a value of 4.8 seconds in 
the actual_Last_Op_Time value (passed as part of the DYNAMIC_DATA parameter).

Similarly, if the valve were requested to close, and required 6.2 seconds for the position feedback 
to report the correct (closed) state, the module would record a value of 6.2 seconds in the 
actual_Last_Op_Time value.

The actual_Last_Op_time value forms part of the DYNAMIC_DATA parameter UDT as follows:


 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL        FUNCTION              TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 actual_Last_Op_Time     Stores the actual time taken for     Real     Time in seconds
            the valve to achieve the correct 
            open or closed state.

            Receives a value of -1.0 if the 
            valve did not achieve the correct 
            position in the specified 
            operation time
 ――――――――――――――――――――――――――――――――――――――――――

If the valve does not achieve the requested position (within either the TIME_OPENING_MAX or 
TIME_CLOSING_MAX limits), a value of -1.0 is returned as the actual_Last_Op_Time value, 
indicating a fault occurred.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.2.8    Detecting position faults


There are two types of position faults: dynamic and static. 

Dynamic faults occur when the valve is changing state (from open to closed or closed to open) 
and fails to achieve the requested position within the relevant operation time.

The dynamic faults are:

   •   Failed to open

   •   Failed to close

Static faults occur when a valve is stable in the requested state (either open or closed) and is 
not in the process of moving between states, and some fault occurs such that the position 
feedback no longer matches the requested state (e.g. the valve was correctly in the open 
state, and then at some point, the open feedback signal was lost without any change being 
made to the state of the valve by the module. Such a fault could be a power failure at the valve).

The static faults are:

   •   Failed while open

   •   Failed while closed

If the valve is not equipped with any limit switches (both CONFIG_FBK_OPEN_EN and 
CONFIG_FBK_CLOSED_EN are set to 0), then there are no circumstances under which any 
position fault can be generated (the valve is always assumed to operate correctly and be in the 
required position). 

The following table indicates the conditions under which the various alarms can be generated 
for the various position feedback combinations:

 ――――――――――――――――――――――――――――――――――――――――――
                   FAILED TO OPEN         FAILED TO CLOSE
       LIMIT SWITCH         Opening operation timer    Closing operation timer 
     ARRANGEMENT         expired and:                 expired and:
 ――――――――――――――――――――――――――――――――――――――――――
       No feedback
    CONFIG_FBK_OPEN_EN = 0     Not applicable       Not applicable
 CONFIG_FBK_CLOSED_EN = 0 

      Open feedback only
    CONFIG_FBK_OPEN_EN = 1   Open feedback is INACTIVE     Open feedback is ACTIVE
 CONFIG_FBK_CLOSED_EN = 0

     Closed feedback only
    CONFIG_FBK_OPEN_EN = 0    Closed feedback is ACTIVE     Closed feedback is INACTIVE
 CONFIG_FBK_CLOSED_EN = 1

   Open and closed feedback    Closed feedback is ACTIVE     Closed feedback is INACTIVE
    CONFIG_FBK_OPEN_EN = 1          OR                   OR
 CONFIG_FBK_CLOSED_EN = 1    Open feedback is INACTIVE     Open feedback is ACTIVE
 ――――――――――――――――――――――――――――――――――――――――――

 ――――――――――――――――――――――――――――――――――――――――――
                   FAILED WHILE OPEN       FAILED WHILE CLOSED
       LIMIT SWITCH         Opening operation timer    Closing operation timer 
     ARRANGEMENT         not running and:         not running and:
 ――――――――――――――――――――――――――――――――――――――――――
       No feedback
    CONFIG_FBK_OPEN_EN = 0     Not applicable       Not applicable
 CONFIG_FBK_CLOSED_EN = 0 

      Open feedback only
    CONFIG_FBK_OPEN_EN = 1   Open feedback is INACTIVE     Open feedback is ACTIVE
 CONFIG_FBK_CLOSED_EN = 0

     Closed feedback only
    CONFIG_FBK_OPEN_EN = 0    Closed feedback is ACTIVE     Closed feedback is INACTIVE
 CONFIG_FBK_CLOSED_EN = 1

   Open and closed feedback    Closed feedback is ACTIVE     Closed feedback is INACTIVE
    CONFIG_FBK_OPEN_EN = 1          OR                   OR
 CONFIG_FBK_CLOSED_EN = 1    Open feedback is INACTIVE     Open feedback is ACTIVE
 ――――――――――――――――――――――――――――――――――――――――――

The OR in the alarm conditions is a logical or, it covers the conditions in which both or neither 
limit switches are active; consider the failed to open alarm, if both limits were active, the alarm 
would be generated because the closed limit switch is active (irrespective of the state of the 
open limit). Similarly, if neither switch were active, the alarm would be generated because the 
open limit is inactive (irrespective of the state of the closed limit).

All alarms are reported as message signals, these form part of the DYNAMIC_DATA parameter 
UDT as follows:

 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL          FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 msg_FailToOpen     Valve failed to open in the specified     Bool     1 = alarm active
            opening operation time                0 = no alarm

 msg_FailToClose     Valve failed to close in the specified     Bool     1 = alarm active
            closing operation time               0 = no alarm

 msg_FailWhileOpen  Valve suffered position failure while      Bool     1 = alarm active
            in a static OPEN state              0 = no alarm

 msg_FailWhileClosed   Valve suffered position failure while      Bool     1 = alarm active
            in a static CLOSED state            0 = no alarm
 ――――――――――――――――――――――――――――――――――――――――――   




</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="10" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="11" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Block description — Section 3.2.6 to 3.2.8</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="12" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="13" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="14" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.3     Fault handling


There are five fault conditions, four are derived from position faults and one from an external 
fault signal:

 ――――――――――――――――――――――――――――――――――――――――――
 FAULT         DESCRIPTION                     LATCHING
 ――――――――――――――――――――――――――――――――――――――――――
 Failed to open      Valve failed to open in the specified               YES
            opening operation time

 Failed to close      Valve failed to close in the specified              YES
            closing operation time

 Failed while open   Valve suffered position failure while            YES
            in a static OPEN state

 Failed while closed   Valve suffered position failure while            YES
            in a static CLOSED state

 External fault        The EXT_FAULT signal is active                 NO
  ――――――――――――――――――――――――――――――――――――――――――

If any of the above faults are active, the valve will be deenergised (both the OPEN_CMD and 
CLOSE_CMD parameters will be set to 0) and the module will ig-nore all commands either 
automatic or manual and will ignore all interlock conditions.

Note:    If the maintain output option is activated (CONFIG_MAINT_OP = 1), the outputs will be 
     deenergised if a fault is present (both the OPEN_CMD and CLOSE_CMD parameters 
     will be set to 0).



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.3.1    Position faults


All position faults (derived from position feedback signals) are latching fault conditions that  
require the operator to issue a reset command, this is usually via a faceplate available at the 
supervisory system (SCADA/HMI), but could also be via a hardwired 
(pushbutton) signal. 

The reset signal is specified within the DYNAMIC_DATA parameter UDT as follows:        

 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 mode_Reset        A reset pulse                Bool     1 = reset latched faults
           (active for one Controller cycle)            0 = no action
 ――――――――――――――――――――――――――――――――――――――――――



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.3.2    Resetting position faults


If a position fault has occurred, and the fault is then reset, the appropriate opening or closing 
operation timer will be retriggered, allowing the valve time to achieve the required position.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.3.3    External fault


The external fault is an optional hardwired signal from the valve, it indicates that the device 
itself is registering that there is some problem. Such external fault signals are more commonly 
associated with motorised valves (equipped with thermal overload detectors), but may also be 
associated with pneumatic or hydraulic operated valves to indicate that the is a 
pneumatic/hydraulic system failure.

Such fault signals are generally indicated via a hardwired digital input to the Controller.

The external fault signal (if used) is passed to the module as the parameter: EXT_FAULT .

Any signal connected to the EXT_FAULT parameter must be active high (i.e. the signal must be 
set to 1 to indicate the fault condition is present). 

Where a failsafe response signal is used (active when set to 0) is used, it must be inverted at the 
EXT_FAULT parameter:


                        ┌─────────────
     ───────────────────┤ FC11101 
                        ├───────────────┤
          "V001_FAULT"               │               │
       ────┤╱├──────────┤ EXT_FAULT             │
                        │               
                        │               


If the EXT_FAULT signal is not required, the input should be set to _False  (similar to the safety 
and interlock signals that are not used, see § 3.4).

The EXT_FAULT signal is non-latching; it does not require a mode_Reset signal to clear the fault. 
The external fault will automatically reset whenever the EXT_FAULT signal is set to 0.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.4     Safety and interlocks


Safety and interlock signals are optional signals, passed as individual parameters to the module 
(in the same a manner as IO signals), all such signals are optional, a valve can have all, none or 
any combination of the signals.

Safety and interlock signals all act to override the normal operation of the valve (whether in 
automatic or manual mode) and force the valve to a particular state.

There is one safety signal and three interlock signals, each having its own formal module 
parameter:


 SAFETY SIGNAL
 ――――――――――――――――――――――――――――――――――――――――――
 PARAM        FUNCTION                   TYPE     DETAILS 
 ――――――――――――――――――――――――――――――――――――――――――
 E_STOP       Safety or emergency stop signals are         Bool     1 = E-stop active
         hardwired signals that remove power            0 = healthy
         required, set permanently to _False
 ――――――――――――――――――――――――――――――――――――――――――
 INTERLOCK SIGNALS
 ――――――――――――――――――――――――――――――――――――――――――
 PARAM        FUNCTION                   TYPE     DETAILS  
 ――――――――――――――――――――――――――――――――――――――――――
 TRIP       A latching interlock, it activates whenever a      Bool     1 = Trip active
         set of events are true and forces the devices        0 = healthy
         to a given state. It will not deactivate until the 
         triggering conditions are removed and a 
         reset signal has been given.

 INTERLOCK    A simple interlock that is active whenever a   Bool     1 = Interlock active
         set of conditions is true, it will force the            0 = healthy
         devices to a given state

 PERMISSIVE     Takes no action if a device is in a non-        Bool     1 = Permissive active
         permitted state, but once the device is in           0 = healthy
         that state will prevent a transition back to 
         the non-permitted state.
 ――――――――――――――――――――――――――――――――――――――――――


Each safety and interlock signal has its own configuration signal that must be used to formally 
disable the parameter if the signal is not required, these are all within the STATIC_DATA parameter 
UDT (UT11101_St_DevValveBi) as follows:


 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL        FUNCTION              TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_ESTOP_DIS    Disables the safety signal.        Bool     1 = E_STOP disabled
             If set to 1, any signal on the          0 = E_STOP enabled
             E_STOP parameter will be 
             ignored.

 CONFIG_TRIP_DIS      Disables the trip interlock signal.   Bool     1 = TRIP disabled
             If set to 1, any signal on the          0 = TRIP enabled
             TRIP parameter will be 
             ignored.

 CONFIG_ILOCK_DIS     Disables the interlock signal.    Bool     1 = INTERLOCK disabled
             If set to 1, any signal on the          0 = INTERLOCK enabled
             INTERLOCK parameter will be 
             ignored.

 CONFIG_PERM_DIS   Disables the permissive interlock  Bool     1 = PERMISSIVE disabled
             signal. If set to 1, any signal on the       0 = PERMISSIVE enabled
             TRIP parameter will be 
             ignored.
 ――――――――――――――――――――――――――――――――――――――――――

The disable signals are used to formally configure the valve, they allow any supervisory system to 
know the correct configuration of the valve and display information accordingly.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.4.1    Safety signal operation


Safety or emergency stop signals are hardwired signals that remove power from a device forcing 
it to a safe state. Such signals act independently of the software (the pressing of an emergency 
stop button will physically remove power from the affected devices).

The emergency stop signal is passed to the module as the parameter E_STOP; it informs the 
module that the safety signal has been activated and allows the module to adjust the state of 
the valve to follow the emergency stop conditions.

When the emergency stop signal is removed, the valve will resume the requested state (with the 
appropriate operation timer).

Under emergency stop conditions the valve is always deenergised (both physically by the 
hardware and within the software via the actions of this module), both the OPEN_CMD and 
CLOSE_CMD outputs set to zero (OPEN_CMD = 0 and CLOSE_CMD = 0).

The emergency stop signal is absolute and will override any other demand made of the valve. 
There is no mechanism for bypassing this form of safety signal.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Safety signal operation when valve is changing state (recovery time)


In the case of a bistable valve, the removing of the power under emergency stop conditions, 
simply deenergises both outputs leaving the valve in its current state: if the valve were already 
open, it would remain open, similarly if the valve were closed, it would remain closed.

Additionally, if the valve were in the process of changing state (either opening or closing) when 
the emergency stop occurred, the same thing happens, both outputs are deenergised and the 
valve simply stops where it is in mid-transition (i.e. in some indeterminate, intermediate state 
between open and closed). 

To accommodate this condition, the active operation timer will simply pause at its current 
elapsed value (the value reached when the emergency stop activated) and the valve will 
remain in either the opening or closing state; i.e. status_opening or status_closing will remain 
active until the emergency stop condition is removed.

Under these conditions (an emergency stop while changing state), the removal of the 
emergency stop tiggers a recovery timer, this is used to delay the restarting of the operation 
timer, the recover timer is used to allow the physical aspects of the valve itself to reset and 
resume operation (e.g. to allow the valve to power-up and the motor to ramp to the correct 
speed &amp;c.), this recovery time is configurable.

The recovery time preset is specified in the STATIC_DATA parameter 
UDT (UT11101_St_DevValveBi) as follows. It is the same irrespective of whether the valve was 
opening or closing.


 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL        FUNCTION              TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 TIME_RECOVERY       Recovery delay time, delays the     Real     Seconds
             restarting of the operation time 
             if an E stop occurred while 
             changing state
 ――――――――――――――――――――――――――――――――――――――――――


If the recovery timer is active, the elapsed (counting down) time is stored within the 
DYNAMIC_DATA parameter UDT (UT31101_Dy_DevValveBi) as follows:


 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL        FUNCTION              TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 actual_recovery_Timer    Actual (elapsed) value of     Real     Seconds
             the recovery timer  
 ――――――――――――――――――――――――――――――――――――――――――


Again, the recovery timer counts down from the TIME_RECOVERY value to zero, at which point, the 
operation timer will restart from the elapsed time.

Note:    During the recovery period, the appropriate OPEN_CMD or CLOSE_CMD output will 
     reactivate (depending on whether the valve was originally opening or closing).



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Typical usage of the E_STOP parameter


Any safety signal connected to the E_STOP parameter must be active high (i.e. the signal must be 
set to 1 to activate the safety signal response). It is often the case, where hardwired emergency 
stop signals are used, that the emergency stop condition is activated by the absence of a signal 
(a failsafe response) rather than the application of a signal. The module can accommodate this 
sense of signal by inverting the E_STOP input:


                        ┌─────────────
     ───────────────────┤ FC11101 
                        ├───────────────┤
          "ZONEA_ESTOP"              │               │
       ────┤╱├──────────┤ E_STOP             │
                        │               
                        │               


If no safety signal is used, the parameter is set to the _False tag (note, also that the configuration 
signal CONFIG_ESTOP_DIS should also be set to 1):


                        ┌─────────────
     ───────────────────┤ FC11101 
                        ├───────────────┤
                        │               │
                     _False ──┤ E_STOP             │
                        │               
                        │    



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.4.2    Interlock signals


Interlock signals are a more flexible mechanism for overriding the requested position of the valve. 
Interlock signals can be both hardware driven (similar to a safety signal) or can be purely software 
derived (unlike a safety signal).

Software derived interlock signals can accommodate more complex and more flexible 
arrangements, it would for example, be possible to disable a software derived interlock if the 
process were undergoing some particular function, such as cleaning &amp;c.

There are three different types of interlock arrangements:

There are three types of interlock signal:

   1.  INTERLOCK
     A simple interlock that is active whenever a set of conditions is true, it will force any 
     associated devices to a given safe state.

   2.  PERMISSIVE
     Takes no action if a device is in a non-safe state, but once the device is in a safe 
     state will prevent a transition to a non-safe state (i.e. will not force a valve to close, 
     but once it is closed, will prevent it from re-opening).

   3.  TRIP
     A latching interlock, it activates whenever a set of events are true (like an interlock), 
     but will not deactivate until the triggering conditions are removed and a reset signal 
     has been given (effectively a latching interlock), it will force any associated devices 
     to a given safe state.

For any type of interlock, the specified interlock state (or permitted state) can be either open or 
closed irrespective of the type of valve (normally open or normally closed); unlike the safety signal, 
it does not have to be the deenergised state of the valve.

That said, the most common interlock state is the deenergised state of the valve; i.e. the failsafe 
position of the valve.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Typical usage of interlock signals


Each type of interlock is passed as its own parameter: TRIP, INTERLOCK or PERMISSIVE. Like the 
safety signal (E_STOP), each parameter is active high (i.e. the signal must be set to 1 to activate 
the associated interlock signal response). 

Again, it is often the case, where hardwired interlock signals are used, that the condition is 
activated by the absence of a signal (i.e. a failsafe response) rather than the application of a 
signal. The module can accommodate this sense of signal by inverting the relevant input:


                        ┌─────────────
     ───────────────────┤ FC11101 
                        ├───────────────┤
       "DB23102_Dy_Perm.V001"     │               │
       ────┤╱├──────────┤ PERMISSIVE           │
                        │               

If a particular interlock signal is not used, the parameter is set to the _False tag (note also: that 
the appropriate configuration signal should also be set to 1: CONFIG_TRIP_DIS, CONFIG_ILOCK_DIS 
or CONFIG_PERM_DIS).

                        ┌─────────────
     ───────────────────┤ FC11101 
                        ├───────────────┤
                        │               │
                     _False ──┤ TRIP                    │
                        │               
                        │  



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Configuring the interlock signals


The state adopted by the valve when a particular interlock is active (TRIP or INTERLOCK) or the 
permitted state of the valve (PERMISSIVE) are set individually for each type of interlock signal. 
These configuration signals are stored within the STATIC_DATA parameter UDT as follows:


 DATA STRUCTURE    UT11101_St_DevValveBi

 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL        FUNCTION              TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_TRIP_OP_CL   The required state of a valve if     Bool     1 = valve will open
             the TRIP signal is active            0 = valve will close

 CONFIG_ILOCK_OP_CL  The required state of a valve if     Bool     1 = valve will open
             the INTERLOCK signal is active         0 = valve will close

 CONFIG_PERM_OP_CL  The permitted state of a valve if   Bool     1 = valve may open
             the PERMISSIVE signal is active          0 = valve may close
 ――――――――――――――――――――――――――――――――――――――――――

For example, if CONFIG_ILOCK_OP_CL is set to 1, the valve will open whenever the INTERLOCK 
signal is active (set to 1), this will override any automatic or manual requirement for the valve 
(but will not override a safety signal, see below). If CONFIG_ILOCK_OP_CL were set to 0, the 
valve would close whenever the INTERLOCK signal was active.

The TRIP signal behaves in exactly the same way as the INTERLOCK signal, but uses 
CONFIG_TRIP_OP_CL to set the tripped state of the valve.

Although the TRIP signal requires a reset signal to disengage the interlock conditions, this is 
handled by the trip logic itself (usually handled by the trip application modules: FC23200) and 
not via this module; simply deactivating the TRIP signal removes the trip state from the valve 
and allows it to operate normally.

The PERMISSIVE signal operates in a different way, if CONFIG_PERM_OP_CL were set to 1 
(valve is permitted to open), and the valve was currently closed under automatic control when 
the PERMISSIVE signal became active, nothing would happen to the valve (it would remain 
closed), if the valve then subsequently opened under automatic control, the PERMISSIVE signal
 would allow the valve to do so (the valve permitted state is open). However, any attempt by 
the automatic system to re-close the valve would not be allowed by the PERMISSIVE signal.

Conversely, if CONFIG_PERM_OP_CL were set to 0 (valve is permitted to close), and the valve 
was currently open under automatic control when the PERMISSIVE signal became active, 
nothing would happen to the valve (it would remain open), if the valve then subsequently 
closed under automatic control, the PERMISSIVE signal would allow the valve to do so (the 
valve permitted state is close). However, any attempt by the automatic system to re-open 
the valve would not be allowed by the PERMISSIVE signal.

Note:    Where multiple interlock signals are used, it is possible for the different interlocks 
     to apply different states to the valve, for example an active TRIP could close 
     the valve and an active INTERLOCK open it. Such conflicts are managed by the 
     different priorities applied to the interlock signals (see § 3.5).  



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Bypassing interlocks


Unlike safety signals, all interlock signals can be overridden (or bypassed). The bypass signal is a 
single signal that, if active, overrides and deactivates any TRIP, INTERLOCK or PERMISSIVE signal 
that may have been activated.

The bypass signal is specified within the DYNAMIC_DATA parameter UDT as follows:


 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 mode_BypassOn   Activates bypass mode, if active, any    Bool     1 = bypass mode on
           TRIP, INTERLOCK or PERMISSIVE signal          0 = bypass mode off
           will be ignored
 ――――――――――――――――――――――――――――――――――――――――――


Bypass mode is a manual operation, generally activated by the operator via a faceplate 
available at the supervisory system (SCADA/HMI), or via some hardwired signal, such as 
a key-switch.

It is possible to configure the module such that bypass mode is permanently disabled, this uses 
the following STATIC_DATA parameter:


 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL       FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_BYPASS_DIS    Prevents bypass mode being      Bool     1 = no bypass mode
            activated under all circumstances         0 = bypass permitted
 ――――――――――――――――――――――――――――――――――――――――――
  
If bypass mode is disabled (configuration signal CONFIG_BYPASS_DIS is set to 1), then the bypass 
mode cannot be turned on under any circumstances, the option will be greyed out on the 
supervisory system faceplate and the module will constantly reset the mode_BypassOn signal.

Note:    Safety (E_STOP) signals cannot be bypassed.  

     Similarly, if an interlock signal has a hardwired component (that will override any 
     software actions), it also must not be bypassed.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.5     Priority of operation


The valve is normally controlled by either the automatic system or by manual (operator) control; 
however, this operation can be overridden by the various safety and interlock conditions 
that can apply to the valve. Each of these operations is assigned a priority and if more than one 
is active at the same time, the one with the highest priority will take precedence.

The priorities for the various operations is as follows:


 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL TYPE       PRIORITY   ASSIGNED VALUE       CAN BE BYPASSED
 ――――――――――――――――――――――――――――――――――――――――――
 Emergency Stop        High        40                NO
 Trip            ↑           30             YES
 Interlock            ↑           20             YES
 Permissive          ↑           10             YES
 Auto/manual control    Low         00                NO
 ――――――――――――――――――――――――――――――――――――――――――
 High priority signal take precedence over lower priority signals.

Thus, if both the TRIP signal, the INTERLOCK signal and automatic control signal were all active at 
the same time, the module will respond only to the TRIP signal (with the higher priority) and will 
react accordingly. 
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="15" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="16" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Block description — Section 3.3 to 3.5</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="17" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="18" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="19" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
3.6     Operating modes


This module FC11101_StdDevValveBi supports various operating modes:

   •   Automatic/manual mode

   •   Interlock bypass mode

   •   Simulation mode

   •   Remote/local mode

   •   Faceplate disabled mode

Examining these in turn:   



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.6.1    Automatic and manual modes


Under normal operation, the valve is in automatic mode and is controlled directly by the 
Controller software (usually, sequential or continuous logic); however, it is possible for the 
operator to take direct control of the valve by switching it to manual mode.

If manual mode is active, the valve will open and close directly at the command of the operator 
and will ignore any automatic mode open and close requests.

If the valve is operating under automatic mode, the manual open/close request follows that of 
the automatic mode; this ensures that the valve remains in the same state when initially 
switched from automatic mode to manual mode, referred to as bumpless transfer. This approach 
minimises any disturbance to the process should the valve be inadvertently switched to manual 
mode.

The following data points are associated with automatic/manual mode:

 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_MAN_DIS     Prevents manual mode being       Bool  1 = no manual mode
           activated under all circumstances            0 = manual permitted
 ――――――――――――――――――――――――――――――――――――――――――

 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION               TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 Mode_AutMan     Identifies the operating mode of     Bool  1 = automatic mode
           the valve.                   0 = manual mode

 ctrl_Aut_OpenClose Causes the valve to open and close     Bool  1 = open the valve
           if automatic mode is active            0 = close the valve

 ctrl_Man_OpenClose  Causes the valve to open and close     Bool  1 = open the valve
           if manual mode is active             0 = close the valve

 status_Aut      The valve is in automatic mode      Bool  1 = auto mode
                                 0 = no in auto

 status_Man       The valve is in manual mode     Bool  1 = manual mode
                                 0 = no in manual
 ――――――――――――――――――――――――――――――――――――――――――

Manual mode can only be activated by the operator via a faceplate available at the supervisory 
system (SCADA/HMI).

If the manual mode is disabled (CONFIG_MAN_DIS = 1), then manual mode cannot be turned on 
under any circumstances, the option will be greyed out on the supervisory system faceplate and 
the valve will be permanently set to automatic mode (Mode_AutMan = 1).



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.6.2    Interlock bypass mode


All interlock signals (TRIP, INTERLOCK or PERMISSIVE) can be overridden (bypassed). The bypass 
signal is a single signal that, if active, overrides and deactivates any TRIP, INTERLOCK or 
PERMISSIVE signal that may have been activated.

It is possible to permanently disable the bypass mode for any given valve (preventing the 
operator from activating it).

The following data points are associated with the bypass mode:

 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL       FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_BYPASS_DIS    Prevents bypass mode being      Bool     1 = no bypass mode
            activated under all circumstances         0 = bypass permitted
 ――――――――――――――――――――――――――――――――――――――――――

 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 mode_BypassOn   Activates bypass mode, if active, any    Bool     1 = bypass mode on
           TRIP, INTERLOCK or PERMISSIVE signal          0 = bypass mode off
           will be ignored

 status_BypassOn   Status indication, shows if bypass      Bool     1 = bypass active
           mode is active                 0 = bypass inactive
 ――――――――――――――――――――――――――――――――――――――――――

Bypass mode can only be activated by the operator usually via a faceplate available at the 
supervisory system (SCADA/HMI), alternatively it may be via some form of hardwired signal such 
as a key-switch &amp;c. 

If bypass mode is disabled (configuration signal CONFIG_BYPASS_DIS is set to 1), then the bypass 
mode cannot be turned on under any circumstances, the option will be greyed out on the 
supervisory system faceplate and the module will constantly reset the mode_BypassOn signal.  



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.6.3    Simulation mode


The module can be switched to a simulation mode, in which the position feedback for the valve 
is replaced by simulated signals specified by the operator. 

Simulation mode is generally used during testing, but can also be applied in a process 
environment if a fault condition is detected; this scenario allows the plant to continue operating 
(albeit under some degree of manual control) until the valve is repaired or replaced.

The following data points are associated with the simulation mode:

 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL       FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_SIM_DIS     Prevents simulation mode being     Bool     1 = no sim mode
            activated under all circumstances         0 = sim permitted
 ――――――――――――――――――――――――――――――――――――――――――

 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL         FUNCTION                TYPE     DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 mode_SimOn      Activates simulation mode, if active, the   Bool     1 = sim mode on
           position feedback will be specified by         0 = sim mode off
           mode_SimValue      
 mode_SimValue    Specifies the type of simulated position     Int     0 = no feedback
           feedback in use                  1 = permanently open
                                     2 = permanently closed
                                     3 = follow demand

 status_SimOn     Status indication, shows if simulation     Bool     1 = sim active
           mode is active                 0 = sim inactive
 ――――――――――――――――――――――――――――――――――――――――――

Simulation mode can only be activated by the operator via a faceplate available at the 
supervisory system (SCADA/HMI).

If simulation mode is activated, the position feedback for the valve is forced to one of four 
states specified by the mode_SimValue variable (this is an enumerated variable):

 ――――――――――――――――――――――――――――――――――――――――――
 mode_SimValue  DESCRIPTION               FBK_OPEN FBK_CLOSED
 ――――――――――――――――――――――――――――――――――――――――――
     0        Permanently disables all position feedback    0     0
            (irrespective of any valve position)

     1        Permanently sets valve position to open         1     0
            (irrespective of any valve position)

     2        Permanently sets valve position to closed      0     1
            (irrespective of any valve position)

     3        Position feedback follows the requested        1/0    0/1
            state of the valve              (if valve is open/closed)
 ――――――――――――――――――――――――――――――――――――――――――

The mode_SimValue is restricted to the range 0-3.

If simulation mode is disabled (configuration signal CONFIG_SIM_DIS is set to 1), then the 
simulation mode cannot be turned on under any circumstances, the option will be greyed out on 
the supervisory system faceplate and the module will constantly reset the mode_SimOn signal.

If simulation mode is permitted (CONFIG_SIM_DIS = 0), then setting mode_SimOn to 1 will activate 
simulation mode and the any position feedback signals (connected to FBK_OPEN and 
FBK_CLOSED) will be overridden according to the value stored in mode_SimValue (see Table above).

The operator can set and adjust the simulation value (mode_SimValue) from the instrument 
faceplate on the supervisory system. The simulation value can be adjusted at any time by the 
operator (even if simulation mode has not been activated), but will not be applied until 
simulation mode is turned on (mode_SimOn = 1). 

If simulation mode is completely disabled (CONFIG_SIM_DIS is set to 1) then the operator will not 
be able to adjust the simulated value (mode_SimValue will be greyed out on the faceplate).



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
A note on the follow demand simulation mode

The follow demand simulation mode for a bistable valve is subtly different to that of an isolating 
valve (cf. FC11001). With the isolating valve, the follow demand simulation mode changes the 
state of the valve instantly when the demand changes (it does not wait for any operation time), 
this is an acceptable response for an isolating valve which maintains its output signal in the 
required state whilever the demand is present.

With a bistable valve, the outputs (generally) deenergise when the correct state is reached. Thus 
the follow demand simulation mode for a bistable valve will switch to the required state just prior 
to the expiration of the operation timer. This allows the output signals to be maintained for the 
maximum length of time ensuring the valve has actually reached the required state.

In practice, the simulated state signals will be generated approximately 200ms before the 
operation timer would expire.



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.6.4     Remote/local mode

Remote and local operating modes refer to the supervisory system that has control of the 
device (i.e. which system can write to the device and change the operating mode of the 
device). 

This type of mode is usual present where a plant has a remote central control location (a control 
room) that normally controls the device (remote control), but also has a field panel with a local 
HMI that an operator in the field can select to take over control of the device (local control) for 
maintenance purposes.

The modes are as follows (and are mutually exclusive, only one will be active):

   Remote        Only the remote system in the control room can 
                control the device

   Local            A local system has taken control of the device and the remote 
                system can no longer issue commands to it

   Remote/local disabled   The system does not use remote/local modes and any 
     (ALL mode)     supervisory system can issue commands to the device 
 
Remote/local control is generally handled by the supervisory systems themselves; however, the 
supervisory systems need a storage area per device to record which mode that device is in, local 
control is often activated by a panel key-switch, that changes the state of several devices from 
remote to local (usually all the devices controlled by the local panel).

The module simply identifies the remote/local mode from the mode signals and configuration 
signals provided to the module.

For systems that do not use remote/local modes (any supervisory system can control the device, 
or control is determined by operator privileges), the remote/local modes can be disabled 
(CONFIG_RL_EN is set to zero) and the device is effectively in ALL mode (any system can 
control the device).

If remote/local operation is in use, the supervisory system that does not have control will still 
display all the information from the device, but will not be able to control the device (it could not 
for example, activate simulation mode) and all control function (faceplate functions) will be 
greyed out.

The following signals are associated with remote/local/all modes:

 DATA STRUCTURE    UT11101_St_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL           FUNCTION            TYPE   DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_RL_EN      Allows Remote and Local      Bool    1 = Remote/local selected
                modes to be selected        0 = All mode is active

 DATA STRUCTURE    UT31101_Dy_DevValveBi
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL           FUNCTION            TYPE   DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 mode_RemoteOn       Activates remote mode     Bool    1 = remote mode on, 
                CONFIG_RL_EN must = 1       0 = remote mode off

 mode_LocalOn     Activates local mode          Bool    1 = local mode on, 
                CONFIG_RL_EN must = 1       0 = remote mode off

 status_RemoteOn      Status remote mode on     Bool    1 = remote mode on, 
                              0 = remote mode off

 status_LocalOn       Status local mode on      Bool 1 = local mode on, 
                              0 = local mode off

 status_RLOff       Status ALL mode is on = 0    Bool 1 = ALL mode on, 
                              0 = ALL mode off
 ――――――――――――――――――――――――――――――――――――――――――
 Block remote/local signals 

By default, remote/local is disabled — ALL mode is selected (CONFIG_RL_EN = 0).




▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
3.6.5     Faceplate disable mode

It is possible to disable the supervisory system faceplate from within the module, the 
configuration signal:


 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL           FUNCTION            TYPE   DETAILS
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_FP_DIS        Disable the supervisory      Bool    1 = Faceplate disabled
                system faceplate           0 = normal
 ――――――――――――――――――――――――――――――――――――――――――

If the faceplate is disabled (CONFIG_FP_DIS = 1), the supervisory system must not allow the 
device faceplate to be opened (normally achieved by clicking the block icon or device symbol), 
this in turn prevents the operator from affecting the device in anyway, it would not, for example, 
be possible to put the device into simulation mode.

Similarly, if the faceplate is disabled, the operator will not have access to the mode_Reset signal, 
meaning that alternative reset mechanisms must be in place (such as a hardwired pushbutton 
for example).

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
4.     Supervisory system interface


See the online documentation for this block — select the block in the project tree and press:
     SHIFT + F1 or follow the link: https://psop.uk/pal-smds-fc11101-p 

An explanation of the block icons and faceplates available to the supervisory system for this 
module is given in section 4 of the SMDS document [Ref. 011].

A downloadable copy of the SMDS (and all other project documentation) is available here:

     https://practicalseries.com/2001-pal/21-project/01-00-docs.html

For this module, the document number is: PS2001-5-2312-fc11101

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━

</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1A" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="1B" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Block description — Section 3.6 to 4</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="1C" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="1D" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="1E" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
5.     PARAMETERS


The following parameters are associated with the block:

 
 ――――――――――――――――――――――――――――――――――――――――――
 PARAM         FUNCTION                    TYPE      IN-OUT 
 ――――――――――――――――――――――――――――――――――――――――――
 SYS_SIGNALS      Common system signals              UT21000    In
          logic and timing signals for parametric access

 FBK_OPEN     Optional open state positive feedback        Bool      In
          (1 = open, 0 = not open) If not required, set 
          permanently to _False

 FBK_CLOSED    Optional closed state positive feedback        Bool      In
          (1 = closed 0 = not closed) If not required, set 
          permanently to _False

 EXT_FAULT     Optional external fault signal for the device     Bool      In
          (1 = fault, 0 = healthy). If not required, set 
          permanently to _False

 E_STOP        Optional emergency stop (safety) signal        Bool      In
          (1 = emergency stop active, 0 = healthy) If not 
          required, set permanently to _False

 TRIP        Optional trip signal                  Bool      In
          (1 = trip condition active, 0 = healthy) If not 
          required, set permanently to _False

 INTERLOCK     Optional interlock signal               Bool      In
          (1 = interlock condition active, 0 = healthy) If 
          not required, set permanently to _False

 PERMISSIVE      Optional permissive signal             Bool      In
          (1 = permissive condition active, 0 = healthy) 
          If not required, set permanently to _False

 STATIC_DATA     Data structure that holds the configuration data     UT11101    In
          for the device (limit switch, timer presets 
          and interlock configuration &amp;c.)

 DYNAMIC_DATA      Data structure that holds the live data for the       UT31101    InOut
          device (its mode, status, messages and 
          other dynamic information)

 OPEN_CMD       Output to drive the valve to an open state    Bool      Out
          (1 = Open valve, 0 = no action)

 CLOSE_CMD     Output to drive the valve to a closed state       Bool      Out
          (1 = Close valve, 0 = no action)
 ――――――――――――――――――――――――――――――――――――――――――

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
6.     DATA STRUCTURES AND USAGE


The block has the following associated data structure:


 ――――――――――――――――――――――――――――――――――――――――――
 DATA STRUCTURE             DESCRIPTION
 ――――――――――――――――――――――――――――――――――――――――――
 UT01000_St_SysRevision          Revision information for this block    See FC01101
 UT01101_St_SysLicence           Licence information for this block  See FC01101
 UT21000_Dy_SysSignals           System signals for logic and timing  See FC01101

 UT11101_St_DevValveBi        Static data that holds the configuration data
                    for the device (timer presets, limit switch 
                    and interlock configuration &amp;c.)

 UT31101_Dy_DevValveBi          Dynamic data that holds the live data for the
                    device (its mode, status and messages and 
                    any other dynamic information required by the 
                    module)

 ――――――――――――――――――――――――――――――――――――――――――



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
6.1     UT11101_St_DevValveBi

The static data structure for an isolating valve.


 UT11101_St_DevValveBi (full contents)
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL NAME          FUNCTION                     TYPE
 ――――――――――――――――――――――――――――――――――――――――――
 CONFIG_FBK_OPEN_EN    CONFIG — Open feedback is enabled        Bool
                     (1 = open feedback, 0 = no feedback)
 CONFIG_FBK_CLOSED_EN   CONFIG — Closed feedback is enabled         Bool
                     (1 = closed feedback, 0 = no feedback)
 CONFIG_MAINT_OP      CONFIG — Maintains or deenergises the outputs   Bool
                     (1 = maintain OP, 0 = deenergise OP)
 CONFIG_ESTOP_DIS     CONFIG — E_STOP signal disabled           Bool
                     (1 = E_STOP not used, 0 = in use)
 CONFIG_TRIP_DIS      CONFIG — TRIP signal disabled           Bool
                     (1 = TRIP not used, 0 = in use)
 CONFIG_ILOCK_DIS     CONFIG — INTERLOCK signal disabled        Bool
                     (1 = INTERLOCK not used, 0 = in use)
 CONFIG_PERM_DIS      CONFIG — PERMISSIVE signal disabled         Bool
                     (1 = PERMISSIVE not used, 0 = in use)
 CONFIG_TRIP_OP_CL       CONFIG — TRIP state                  Bool
                     (1 = open, 0 = close)
 CONFIG_ILOCK_OP_CL      CONFIG — INTERLOCK state              Bool
                     (1 = open, 0 = close)
 CONFIG_PERM_OP_CL       CONFIG — PERMISSIVE permitted state         Bool
                     (1 = open, 0 = closed)
 CONFIG_FP_DIS               CONFIG — Faceplate is disabled           Bool
                     (1 = no Faceplate, 0 = normal)
 CONFIG_MAN_DIS              CONFIG — Manual mode is disabled          Bool
                     (1 = no manual mode, 0 = normal)
 CONFIG_BYPASS_DIS     CONFIG — Bypass mode is disabled           Bool
                     (1 = no bypass mode, 0 = normal)
 CONFIG_SIM_DIS             CONFIG — Simulation is disabled            Bool
                     (1 = no simulation, 0 = normal)
 CONFIG_RL_EN       CONFIG — Remote/local mode enabled       Bool
                     (1 = enabled, 0 = all mode)

 INFO_TAG          INFORMATION — Instrument ID tag          String[20]

 TIME_OPENING_MAX    TIMER — Initial value of opening operation timer      Real
                     (counts down from this value), [seconds]
 TIME_CLOSING_MAX       TIMER — Initial value of closing operation timer     Real
                     (counts down from this value), [seconds]
 TIME_OPENING_RUNON     TIMER — Initial value of opening runon timer          Real
                     (counts down from this value), [seconds]
 TIME_CLOSING_RUNON        TIMER — Initial value of closing runon timer            Real
                     (counts down from this value), [seconds]
 TIME_DER_OPEN              TIMER — Percentage of opening timer to expired      Real
                     before simulating FBK_OPEN, [percent]
 TIME_DER_CLOSED            TIMER — Percentage of closing timer to expired        Real
                     before simulating FBK_CLOSED, [percent]
 TIME_RECOVERY              TIMER — Initial value of the recovery timer      Real
                     (counts down from this value), [seconds]

 ――――――――――――――――――――――――――――――――――――――――――



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
6.2      UT31101_Dy_DevValveBi

The static data structure for an isolating valve.



 UT31101_Dy_DevValveBi (full contents)
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL NAME          FUNCTION                     TYPE
 ――――――――――――――――――――――――――――――――――――――――――
 status_Closed        STATUS — Valve is confirmed closed          Bool
                     (1 = closed, 0 = not closed)
 status_Open        STATUS — Valve is confirmed open         Bool
                     (1 = open, 0 = not open)
 status_Closing       STATUS — Valve is closing             Bool
                     (1 = closing, 0 = not closing)
 status_Opening        STATUS — Valve is opening              Bool
                     (1 = opening, 0 = not opening)
 status_Operating        STATUS — Valve is changing state           Bool
                     (1 = changing state, 0 = fixed state)
 status_Fault            STATUS — Valve is in fault              Bool
                     (1 = fault present, 0 = healthy)
 status_OpenOn        STATUS — Valve OPEN_CMD output is on        Bool
                     (1 = OPEN_CMD on, 0 = OPEN_CMD off)
 status_CloseOn        STATUS — Valve CLOSE_CMD output is on         Bool
                     (1 = CLOSE_CMD on, 0 = CLOSE_CMD off)
 status_Aut           STATUS — Automatic mode active           Bool
                     (1 = auto mode on, 0 = auto mode off)
 status_Man          STATUS — Manual mode active             Bool
                     (1 = man mode on, 0 = man mode off)
 status_EStop          STATUS — E_STOP safety signal is active         Bool
                     (1 = active, 0 = healthy)
 status_Trip        STATUS — TRIP signal is active             Bool
                     (1 = active, 0 = healthy)
 status_Ilock         STATUS — INTERLOCK signal is active            Bool
                     (1 = active, 0 = healthy)
 status_Perm        STATUS — PERMISSIVE signal is active           Bool
                     (1 = active, 0 = healthy)
 status_BypassOn        STATUS — Valve is in bypass mode          Bool
                     (1 = Simulation mode, 0 = normal)
 status_SimOn           STATUS — Valve is in simulation mode               Bool
                     (1 = Simulation mode, 0 = normal)
 status_RemoteOn       STATUS — Valve is in remote mode                  Bool
                     (1 = Remote mode, 0 = normal)
 status_LocalOn         STATUS — Valve is in local mode                    Bool
                     (1 = Local mode, 0 = normal)
 status_RLOff         STATUS — Valve is in ALL mode                   Bool
                     (1 = ALL mode, 0 = normal)

 msg_FailToOpen       MESSAGE — Alarm – “Fail to open” is active         Bool
 msg_FailToClose       MESSAGE — Alarm – “Fail to close” is active        Bool
 msg_FailWhileOpen    MESSAGE — Alarm – “Fail while open” is active      Bool
 msg_FailWhileClosed     MESSAGE — Alarm – “Fail while closed” is active   Bool
 msg_Flt_External         MESSAGE — Alarm – “external fault" is active      Bool

 mode_AutMan        MODE — Automatic or manual mode selection     Bool
                   (1 = auto mode active, 0 = man mode)
 mode_BypassOn      MODE — Bypass mode                Bool
                   (1 = bypass mode active, 0 = normal)
 mode_SimOn         MODE — Simulation mode               Bool
                   (1 = sim mode active, 0 = normal)
 mode_SimValue       MODE — Simulation value               Int
                   (0 = no limits, 1 = always open, 
                   2 = always closed, 3 = follow demand)
 mode_RemoteOn        MODE — Remote SCADA control enabled       Bool
                   (1 = active, 0 = disabled or N/A)
 mode_LocalOn         MODE — Local HMI control enabled           Bool
                   (1 = active, 0 = disabled or N/A)
 mode_Reset        MODE — Fault reset – 1 cycle only           Bool
                   (1 = Reset faults, 0 = does nothing)
 ctrl_Aut_OpenClose       CONTROL — Auto mode open or close valve     Bool
                         (1 = open valve , 0 = close valve)
 ctrl_Man_OpenClose      CONTROL — Manual mode open or close valve   Bool
                         (1 = open valve , 0 = close valve)

 batch_ID         BATCH — Booking ID (optional for batch operations)   UInt

 actual_Operating_Timer     ACTUAL — Timer value — operating opening/closing  Real
                     timer actual value [seconds]
 actual_Runon_Timer      ACTUAL — Timer value — run-on opening/closing  Real
                     timer actual value [seconds]
 actual_Recovery_Timer     ACTUAL — Timer value — recovery timer         Real
                     timer actual value [seconds]
 actual_Last_Op_Time       ACTUAL — actual time taken to achieve the last    Real
                     good valve position [seconds]

 $derived_fbk_open     INTERNAL — Derived feedback open signal       Bool
                         (1 = open , 0 = not open)
 $derived_fbk_closed      INTERNAL — Derived feedback closed signal        Bool
                         (1 = closed, 0 = not closed)
 $sim_fbk_open         INTERNAL — Simulated feedback open signal         Bool
                         (1 = open , 0 = not open)
 $sim_fbk_closed          INTERNAL — Simulated feedback closed signal      Bool
                         (1 = closed, 0 = not closed)
 $ctrl_OpenClose       INTERNAL — actual open or close request,         Bool
                         incorporates all priorities
                        (1 = open valve, 0 = close valve)
 $pret_Open             INTERNAL — Edge retention (+ve) rising edge of    Bool
                         ctrl_OpenClose (change to opening)
 $nret_Close            INTERNAL — Edge retention (-ve) falling edge of        Bool
                         ctrl_OpenClose (change to closing)
 ――――――――――――――――――――――――――――――――――――――――――


With the exception of the flowing, all these signals are discussed in the previous sections, the 
outstanding items are firstly:

     batch_ID

The batch_ID is not required for normal use; it is only used where a “booking” system is used 
(common in batch and routing applications). Such booking applications can acquire the device 
if it is free and reserve it for a particular phase of the batch. Batch applications are a topic in 
their own right and are discussed separately in the online User Guide.

There are internal working signals (all signals the start with a $ are internal working signals used 
by the module). In this instance they are used as follows: 
 
The $derived_fbk_open and $derived_fbk_closed are the internally derived open and closed 
feedback signal used in place of FBK_OPEN and FBK_CLOSED if either CONFIG_FBK_OPEN_EN 
or CONFIG_FBK_CLOSED_EN is set to zero.

The $sim_fbk_open and $sim_fbk_closed are the simulated position feedback signal used in 
place of FBK_OPEN and FBK_CLOSED if simulation mode is active.

$ctrl_OpenClose is the required state of the valve, it takes into account the auto/manual 
requested state and modifies this according to any interlocks, safety signals or faults that 
may be present.

The $pret_Open and $nret_Close are edge retention signals used to detect either a rising 
(a change to opening) or a falling (a change to closing) edge on the $ctrl_OpenClose signal.


               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
7.     CONSTANTS AND TEMPORARY (LOCAL) DATA



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
7.1     Constants


The following constants data is used:

 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL NAME       Value    FUNCTION                  TYPE
 ――――――――――――――――――――――――――――――――――――――――――
 k_TIME_OP_MIN      0.21      Minimum value for the operation timer     Real
 k_TIME_SIM_MIN     0.21      Elapsed op timer value for sim mode 3        Real
 ――――――――――――――――――――――――――――――――――――――――――



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
7.2     Temporary (local) data


The following temporary data is used:

 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL NAME          FUNCTION                  TYPE
 ――――――――――――――――――――――――――――――――――――――――――
 revInfo             Revision information for the block         UT01000
 licInfo           Licensing information for the block      UT01101
 calClosedElapsedTime     Calc - Derived closed signal elapsed time   Real
 calOpenElapsedTime       Calc - Derived open signal elapsed time   Real
 wrkOpen            Working - open position feedback signal      Bool
 wrkClosed         Working - closed position feedback signal   Bool
 wrkCtrlPriority40        Working - priority 40 controls the valve      Bool
 wrkCtrlPriority30        Working - priority 30 controls the valve      Bool
 wrkCtrlPriority20        Working - priority 20 controls the valve      Bool
 wrkCtrlPriority10        Working - priority 10 controls the valve      Bool
 wrkCtrlPriority00        Working - priority 00 controls the valve      Bool
 wrkCtrlAutManOpCl     Working - aut/man open or close request     Bool
 wrkTimeFbkOpenSim     Working - Err checked TIME_FBK_OPEN            Real
 wrkTimeFbkClosedSim     Working - Err checked TIME_FBK_CLOSED           Real
 wrkInt           Working storage area (integer)          Int
 wrkReal           Working storage (Real)             Real
 wrkDInt           Working storage area (double integer)         DInt
 ――――――――――――――――――――――――――――――――――――――――――

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
8.     BLOCK CALLS AND ASSOCIATIONS


This section details any blocks which may be called from within this software module (subroutine 
functions for example), any partner blocks with which it may be associated (for example a 
receive module that is partner with a transmit module &amp;c.). It lists any system functions which 
may be called (e.g. reading the real time clock) and any system data types that may be used.

Finally, it lists any special calling requirements for the block (for example, must be called from 
within a cyclic interrupt organisation block) and if the block is using “optimised access” (this is 
the default arrangement).



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
8.1     Block calls from within this module


There are no PAL block calls from within this block.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
8.2     Blocks associated with this module


This is a stand-alone block and is not associated with any other blocks.



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
8.3     System block calls and system data types

There are no system block calls



▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂
8.4     Special properties and requirements



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
8.4.1     Block optimisation, IEC compatibility and library conformance


   •   Block optimisation is ACTIVE for this block.

   •   The block has been checked for IEC compatibility and is compliant.

   •   The block is compatible with all IEC library-conformance module constraints



▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
8.4.2     Calling requirements


There are no special calling requirements for this block.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
9.     EXAMPLE USAGE


The following shows a typical deployment of FC11101:

                        ┌─────────────
     ───────────────────┤ FC11101 
                        ├───────────────┤
   "DB21101_DY_StdGlobalData".SysSignals ─┤ SYS_SIGNALS            %Q1.0
                        │            OPEN_CMD ├─  "V001_OPEN_CMD"
                  %I1.2     │               │
                "V001_FBK_OPEN" ─┤ FBK_OPEN             │  %Q1.1
                        │          CLOSE_CMD ├─  "V001_CLOSE_CMD"
                  %I1.1     │               │
              "V001_FBK_CLOSED" ─┤ FBK_CLOSED            │
                        │               │
           %I1.0            │               │
          "V001_FAULT"             │               │
       ────┤╱├──────────┤ EXT_FAULT                │
                        │               │
           %I1.4            │               │
         "ZONEA_ESTOP"               │               │
       ────┤╱├──────────┤ E_STOP                │
                        │               │
                   "_False" ─┤ TRIP                    │
                        │               │
           "DB23002_Dy_ILock.V001"─┤ INTERLOCK             │
                        │               │
                   "_False" ─┤ PERMISSIVE            │
                        │               │
                        │               │
                        │               │
           "DB11101_St_DevValveBi".V001 ─┤ STATIC_DATA             │
                        │
           "DB31101_Dy_DevValveBi".V001 ─┤ DYNAMIC_DATA
                        │
                        │
                                        │
                               ─────────┘


              ━━━   ⬙⬙⬙⬙⬙⬙   ━━━



▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
10.     TEST AND VERIFICATION PATH


The following diagram shows the full test and verification path for the formal release of each 
version of the software module. See the Test Plan [Ref. 003] for full details, available here:
        https://psop.uk/pal-tp-p


        FC11101-T001

    Test version: 000.801
 Released version: 001.000
Released commit: D0009 

       SCR      SMT 
＿＿＿＿＿＿┌┐＿＿ ▛▜ ＿
      └┘   ▙▟  
Initial test           

Initial test to release the      Comments updated &amp; 
module following the      minor typographical 
development stage.       corrections
Full SMT              SCV only


Where:
――――――――――――――――――――――――――――――――――――――――――――
 SCR    Source Code Review      A visual inspection of the software to ensure it has been written  
┌┐             to the correct standards, uses the correct structures within the
└┘             software and is generally suitable for deployment.               

 SMT Software Module Test    A full and detailed test of an individual software module in
  ▛▜              isolation; such testing requires that all branches of the 
  ▙▟              software are tested. 

               It tests all the interfaces to the module, any data recorded or 
               stored by the module, all error and exception handling functions 
               and tests all timed and interrupt driven operations.

 SCV Software Compatibility     A mechanism for verifying that no executable code software 
╓╖    Verification          changes have been made to a module following changes to
╙╜             comment fields.

               Allows typographical errors &amp;c. to be corrected without forcing 
               a full SMT on a module that has not functionally changed.
――――――――――――――――――――――――――――――――――――――――――――

An SCV can only be performed on a module that has at some point previously, successfully 
completed both an SCR and SMT. Where an SCV is implemented, it replaces the requirement for 
both the SCR and the SMT for the test iteration in question.

               ━━━   ⬙⬙⬙⬙⬙⬙   ━━━


██████████████ █ █ █ █  END   █ █ █ █ ██████████████
   </Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1F" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="20" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Block description — Sections 5 to 11</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="21" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_False" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="22">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'FC11101'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_BLOCK" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="24">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'000.101'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_NUMBER" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="26">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'2022.08.15'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_DATE" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="28">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'M. Gledhill'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="revInfo" />
        <Component Name="REV_AUTHOR" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="30">
      <Negated Name="operand" />
    </Part>
    <Part Name="S_Move" UId="31" DisabledENO="true" />
    <Part Name="S_Move" UId="32" DisabledENO="true" />
    <Part Name="S_Move" UId="33" DisabledENO="true" />
    <Part Name="S_Move" UId="34" DisabledENO="true" />
  </Parts>
  <Wires>
    <Wire UId="35">
      <Powerrail />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="21" />
      <NameCon UId="30" Name="operand" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="en" />
      <NameCon UId="32" Name="en" />
      <NameCon UId="33" Name="en" />
      <NameCon UId="34" Name="en" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="22" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="31" Name="out" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="24" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="32" Name="out" />
      <IdentCon UId="25" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="26" />
      <NameCon UId="33" Name="in" />
    </Wire>
    <Wire UId="43">
      <NameCon UId="33" Name="out" />
      <IdentCon UId="27" />
    </Wire>
    <Wire UId="44">
      <IdentCon UId="28" />
      <NameCon UId="34" Name="in" />
    </Wire>
    <Wire UId="45">
      <NameCon UId="34" Name="out" />
      <IdentCon UId="29" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="22" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="23" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
MODIFICATION HISTORY


The revision data shown here, in the network comments, contains additional information 
reflecting the software development workflow under the version control system (VCS) employed 
to track all software changes.

The VCS in use is the Git Source Code Management system in conjunction with the GitHub online 
hosting system. The software in its entirety is available in the GitHub remote repository:

     https://github.com/practicalseries/PS2001-pal-software

The repository is public and can be freely copied (forked in GitHub terminology) and used 
under the MIT licence. 

The MIT licence is reproduced in full in the last network of this software module.


 ―――――――――――――――――――――――――――――――――――――――――――
 DATE       REVISION             MASTER BRANCH     DEV
         (nnn.amm)   COMMIT TAG    (Base ---> Merge)    BRANCH   Author
 ———————————————————————————————————————————
 2022.08.15    000.101   D0015A-000.101   D0015 N/A     D0015A   M. Gledhill
                       FC11101 Block created — Comments added
 ———————————————————————————————————————————
  Where: nnn  =  Major revision
        a  =  Type (1-7 Development, 8 Proving, 9 Qualification, 0 Release)
      mm  =  Minor revision (must be 00 if a = 0)
        Block properties version number should be set to nn.a (only one decimal place)

▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="24" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="25" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Current revision and modification history</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="26" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_DER_OPEN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkTimeFbkOpenSim" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_DER_OPEN" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="24">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LiteralConstant" UId="25">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="wrkTimeFbkOpenSim" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_DER_OPEN" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="28">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>100.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LiteralConstant" UId="29">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>100.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="wrkTimeFbkOpenSim" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_DER_CLOSED" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="wrkTimeFbkClosedSim" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_DER_CLOSED" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="34">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LiteralConstant" UId="35">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="wrkTimeFbkClosedSim" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_DER_CLOSED" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="38">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>100.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LiteralConstant" UId="39">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>100.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="40">
      <Symbol>
        <Component Name="wrkTimeFbkClosedSim" />
      </Symbol>
    </Access>
    <Part Name="Move" UId="41" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Lt" UId="42">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="43" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Gt" UId="44">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="45" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Move" UId="46" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Lt" UId="47">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="48" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Gt" UId="49">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="50" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="51">
      <Powerrail />
      <NameCon UId="41" Name="en" />
      <NameCon UId="46" Name="en" />
    </Wire>
    <Wire UId="52">
      <IdentCon UId="21" />
      <NameCon UId="41" Name="in" />
    </Wire>
    <Wire UId="53">
      <NameCon UId="41" Name="eno" />
      <NameCon UId="42" Name="pre" />
      <NameCon UId="44" Name="pre" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="41" Name="out1" />
      <IdentCon UId="22" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="23" />
      <NameCon UId="42" Name="in1" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="24" />
      <NameCon UId="42" Name="in2" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="en" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="25" />
      <NameCon UId="43" Name="in" />
    </Wire>
    <Wire UId="59">
      <NameCon UId="43" Name="out1" />
      <IdentCon UId="26" />
    </Wire>
    <Wire UId="60">
      <IdentCon UId="27" />
      <NameCon UId="44" Name="in1" />
    </Wire>
    <Wire UId="61">
      <IdentCon UId="28" />
      <NameCon UId="44" Name="in2" />
    </Wire>
    <Wire UId="62">
      <NameCon UId="44" Name="out" />
      <NameCon UId="45" Name="en" />
    </Wire>
    <Wire UId="63">
      <IdentCon UId="29" />
      <NameCon UId="45" Name="in" />
    </Wire>
    <Wire UId="64">
      <NameCon UId="45" Name="out1" />
      <IdentCon UId="30" />
    </Wire>
    <Wire UId="65">
      <IdentCon UId="31" />
      <NameCon UId="46" Name="in" />
    </Wire>
    <Wire UId="66">
      <NameCon UId="46" Name="eno" />
      <NameCon UId="47" Name="pre" />
      <NameCon UId="49" Name="pre" />
    </Wire>
    <Wire UId="67">
      <NameCon UId="46" Name="out1" />
      <IdentCon UId="32" />
    </Wire>
    <Wire UId="68">
      <IdentCon UId="33" />
      <NameCon UId="47" Name="in1" />
    </Wire>
    <Wire UId="69">
      <IdentCon UId="34" />
      <NameCon UId="47" Name="in2" />
    </Wire>
    <Wire UId="70">
      <NameCon UId="47" Name="out" />
      <NameCon UId="48" Name="en" />
    </Wire>
    <Wire UId="71">
      <IdentCon UId="35" />
      <NameCon UId="48" Name="in" />
    </Wire>
    <Wire UId="72">
      <NameCon UId="48" Name="out1" />
      <IdentCon UId="36" />
    </Wire>
    <Wire UId="73">
      <IdentCon UId="37" />
      <NameCon UId="49" Name="in1" />
    </Wire>
    <Wire UId="74">
      <IdentCon UId="38" />
      <NameCon UId="49" Name="in2" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="49" Name="out" />
      <NameCon UId="50" Name="en" />
    </Wire>
    <Wire UId="76">
      <IdentCon UId="39" />
      <NameCon UId="50" Name="in" />
    </Wire>
    <Wire UId="77">
      <NameCon UId="50" Name="out1" />
      <IdentCon UId="40" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="27" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="28" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Ensures that the derived position feedback signal percentages are in the range 0-100
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="29" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="2A" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Configuration error check</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="2B" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_MAN_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_AutMan" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="23" />
    <Part Name="SCoil" UId="24" />
  </Parts>
  <Wires>
    <Wire UId="25">
      <Powerrail />
      <NameCon UId="23" Name="in" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="operand" />
    </Wire>
    <Wire UId="27">
      <NameCon UId="23" Name="out" />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="22" />
      <NameCon UId="24" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="2C" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="2D" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If manual mode is disabled (CONFIG_MAN_DIS = 1), then permanently deactivate
manual mode and activate automatic mode.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="2E" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="2F" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Manual mode disabled</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="30" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_AutMan" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="ctrl_Aut_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="ctrl_Man_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="ctrl_Aut_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="ctrl_Man_OpenClose" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27" />
    <Part Name="SCoil" UId="28" />
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="30" />
  </Parts>
  <Wires>
    <Wire UId="31">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="25" />
      <NameCon UId="30" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="31" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="32" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If automatic mode is active, set the manual mode open/close request to match the automatic
mode request (bumpless transfer to manual mode)
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="33" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="34" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Manual mode bumpless transfer</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="35" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_BYPASS_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="23" />
    <Part Name="RCoil" UId="24" />
  </Parts>
  <Wires>
    <Wire UId="25">
      <Powerrail />
      <NameCon UId="23" Name="in" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="operand" />
    </Wire>
    <Wire UId="27">
      <NameCon UId="23" Name="out" />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="22" />
      <NameCon UId="24" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="36" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="37" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If bypass mode is disabled (CONFIG_BYPASS_DIS = 1), then permanently deactivate
bypass mode.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="38" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="39" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Bypass mode disabled</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="3A" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_SIM_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="23" />
    <Part Name="RCoil" UId="24" />
  </Parts>
  <Wires>
    <Wire UId="25">
      <Powerrail />
      <NameCon UId="23" Name="in" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="operand" />
    </Wire>
    <Wire UId="27">
      <NameCon UId="23" Name="out" />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="22" />
      <NameCon UId="24" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="3B" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="3C" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If simulation mode is disabled (CONFIG_SIM_DIS = 1), then permanently deactivate
simulation mode.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="3D" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="3E" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Simulation mode disabled</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="3F" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_RL_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="24">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="25" />
    <Part Name="RCoil" UId="26" />
  </Parts>
  <Wires>
    <Wire UId="27">
      <Powerrail />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="21" />
      <NameCon UId="24" Name="operand" />
    </Wire>
    <Wire UId="29">
      <NameCon UId="24" Name="out" />
      <NameCon UId="25" Name="in" />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="30">
      <IdentCon UId="22" />
      <NameCon UId="25" Name="operand" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="23" />
      <NameCon UId="26" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="40" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="41" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If remote/local mode is not enabled (CONFIG_RL_EN = 0), then reset both 
mode_RemoteOn and mode_LocalOn.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="42" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="43" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Remote/local modes disabled</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="44" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_RL_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="34" />
    <Part Name="Contact" UId="35">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="36">
      <Negated Name="operand" />
    </Part>
    <Part Name="SCoil" UId="37" />
    <Part Name="Contact" UId="38" />
    <Part Name="Contact" UId="39">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="40" />
    <Part Name="Contact" UId="41" />
    <Part Name="Contact" UId="42">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="43" />
    <Part Name="Contact" UId="44" />
    <Part Name="Contact" UId="45" />
    <Part Name="RCoil" UId="46" />
  </Parts>
  <Wires>
    <Wire UId="47">
      <Powerrail />
      <NameCon UId="34" Name="in" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="21" />
      <NameCon UId="34" Name="operand" />
    </Wire>
    <Wire UId="49">
      <NameCon UId="34" Name="out" />
      <NameCon UId="35" Name="in" />
      <NameCon UId="38" Name="in" />
      <NameCon UId="41" Name="in" />
      <NameCon UId="44" Name="in" />
    </Wire>
    <Wire UId="50">
      <IdentCon UId="22" />
      <NameCon UId="35" Name="operand" />
    </Wire>
    <Wire UId="51">
      <NameCon UId="35" Name="out" />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="52">
      <IdentCon UId="23" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="53">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="in" />
    </Wire>
    <Wire UId="54">
      <IdentCon UId="24" />
      <NameCon UId="37" Name="operand" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="25" />
      <NameCon UId="38" Name="operand" />
    </Wire>
    <Wire UId="56">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="in" />
    </Wire>
    <Wire UId="57">
      <IdentCon UId="26" />
      <NameCon UId="39" Name="operand" />
    </Wire>
    <Wire UId="58">
      <NameCon UId="39" Name="out" />
      <NameCon UId="40" Name="in" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="27" />
      <NameCon UId="40" Name="operand" />
    </Wire>
    <Wire UId="60">
      <IdentCon UId="28" />
      <NameCon UId="41" Name="operand" />
    </Wire>
    <Wire UId="61">
      <NameCon UId="41" Name="out" />
      <NameCon UId="42" Name="in" />
    </Wire>
    <Wire UId="62">
      <IdentCon UId="29" />
      <NameCon UId="42" Name="operand" />
    </Wire>
    <Wire UId="63">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="in" />
    </Wire>
    <Wire UId="64">
      <IdentCon UId="30" />
      <NameCon UId="43" Name="operand" />
    </Wire>
    <Wire UId="65">
      <IdentCon UId="31" />
      <NameCon UId="44" Name="operand" />
    </Wire>
    <Wire UId="66">
      <NameCon UId="44" Name="out" />
      <NameCon UId="45" Name="in" />
    </Wire>
    <Wire UId="67">
      <IdentCon UId="32" />
      <NameCon UId="45" Name="operand" />
    </Wire>
    <Wire UId="68">
      <NameCon UId="45" Name="out" />
      <NameCon UId="46" Name="in" />
    </Wire>
    <Wire UId="69">
      <IdentCon UId="33" />
      <NameCon UId="46" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="45" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="46" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If remote/local mode is enabled (CONFIG_RL_EN = 1), and:

   1.  Neither mode_RemoteOn or mode_LocalOn is active, default to remote mode
   2.  A rising edge is detected on mode_LocalOn, reset mode_RemoteOn (in local)
   3.  A rising edge is detected on mode_RemoteOn, reset mode_LocalOn (in remote)
   4.  Both mode_RemoteOn and mode_LocalOn is active, default to remote mode
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="47" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="48" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Remote/Local selection if enabled</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="49" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_OPEN_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkTimeFbkOpenSim" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="23">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>100.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_OPENING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_OPENING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="calOpenElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="calOpenElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalConstant" UId="32">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalConstant" UId="33">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="calOpenElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="calOpenElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="38">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_open" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="39">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_OPEN_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="40">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="41">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_open" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="42">
      <Negated Name="operand" />
    </Part>
    <Part Name="Div" UId="43" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Mul" UId="44" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Sub" UId="45" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Le" UId="46">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="47" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Contact" UId="48" />
    <Part Name="Le" UId="49">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="SCoil" UId="50" />
    <Part Name="Contact" UId="51" />
    <Part Name="Contact" UId="52">
      <Negated Name="operand" />
    </Part>
    <Part Name="O" UId="53">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="RCoil" UId="54" />
  </Parts>
  <Wires>
    <Wire UId="55">
      <Powerrail />
      <NameCon UId="42" Name="in" />
      <NameCon UId="51" Name="in" />
      <NameCon UId="52" Name="in" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="21" />
      <NameCon UId="42" Name="operand" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="en" />
      <NameCon UId="46" Name="pre" />
      <NameCon UId="48" Name="in" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="22" />
      <NameCon UId="43" Name="in1" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="23" />
      <NameCon UId="43" Name="in2" />
    </Wire>
    <Wire UId="60">
      <NameCon UId="43" Name="eno" />
      <NameCon UId="44" Name="en" />
    </Wire>
    <Wire UId="61">
      <NameCon UId="43" Name="out" />
      <IdentCon UId="24" />
    </Wire>
    <Wire UId="62">
      <IdentCon UId="25" />
      <NameCon UId="44" Name="in1" />
    </Wire>
    <Wire UId="63">
      <IdentCon UId="26" />
      <NameCon UId="44" Name="in2" />
    </Wire>
    <Wire UId="64">
      <NameCon UId="44" Name="eno" />
      <NameCon UId="45" Name="en" />
    </Wire>
    <Wire UId="65">
      <NameCon UId="44" Name="out" />
      <IdentCon UId="27" />
    </Wire>
    <Wire UId="66">
      <IdentCon UId="28" />
      <NameCon UId="45" Name="in1" />
    </Wire>
    <Wire UId="67">
      <IdentCon UId="29" />
      <NameCon UId="45" Name="in2" />
    </Wire>
    <Wire UId="68">
      <NameCon UId="45" Name="out" />
      <IdentCon UId="30" />
    </Wire>
    <Wire UId="69">
      <IdentCon UId="31" />
      <NameCon UId="46" Name="in1" />
    </Wire>
    <Wire UId="70">
      <IdentCon UId="32" />
      <NameCon UId="46" Name="in2" />
    </Wire>
    <Wire UId="71">
      <NameCon UId="46" Name="out" />
      <NameCon UId="47" Name="en" />
    </Wire>
    <Wire UId="72">
      <IdentCon UId="33" />
      <NameCon UId="47" Name="in" />
    </Wire>
    <Wire UId="73">
      <NameCon UId="47" Name="out1" />
      <IdentCon UId="34" />
    </Wire>
    <Wire UId="74">
      <IdentCon UId="35" />
      <NameCon UId="48" Name="operand" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="48" Name="out" />
      <NameCon UId="49" Name="pre" />
    </Wire>
    <Wire UId="76">
      <IdentCon UId="36" />
      <NameCon UId="49" Name="in1" />
    </Wire>
    <Wire UId="77">
      <IdentCon UId="37" />
      <NameCon UId="49" Name="in2" />
    </Wire>
    <Wire UId="78">
      <NameCon UId="49" Name="out" />
      <NameCon UId="50" Name="in" />
    </Wire>
    <Wire UId="79">
      <IdentCon UId="38" />
      <NameCon UId="50" Name="operand" />
    </Wire>
    <Wire UId="80">
      <IdentCon UId="39" />
      <NameCon UId="51" Name="operand" />
    </Wire>
    <Wire UId="81">
      <NameCon UId="51" Name="out" />
      <NameCon UId="53" Name="in1" />
    </Wire>
    <Wire UId="82">
      <IdentCon UId="40" />
      <NameCon UId="52" Name="operand" />
    </Wire>
    <Wire UId="83">
      <NameCon UId="52" Name="out" />
      <NameCon UId="53" Name="in2" />
    </Wire>
    <Wire UId="84">
      <NameCon UId="53" Name="out" />
      <NameCon UId="54" Name="in" />
    </Wire>
    <Wire UId="85">
      <IdentCon UId="41" />
      <NameCon UId="54" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="4A" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="4B" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If there is no open position feedback (CONFIG_FBK_OPEN_EN = 0), then the open state of the 
valve is derived from the elapsed time of the operation timer using the following formulae:

┌───────────────────────────────────────────┐
│$derived_fbk_open =1 when:                                │
│                                 wrkTimeFbkOpenSim  │
│actual_Operating_Timer ≤ TIME_OPENING_MAX ─ TIME_OPENING_MAX ╳ ----------------------------------------│
│                                     100     │
└───────────────────────────────────────────┘
Note:    wrkTimeFbkOpenSim is the error checked equivalent of TIME_FBK_OPEN

If the calculated elapsed time is close to or less than k_TIME_OP_MIN (210ms),
the calculated elapsed time (calOpenElapsedTime) is set to k_TIME_OP_MIN. This ensures at
least one timing pulse is required before the timer reaches zero.

The derived open signal ($derived_fbk_open) is reset if the valve is requested to be closed
($ctrl_OpenClose = 0).
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="4C" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="4D" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Derived open position</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="4E" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_CLOSED_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkTimeFbkClosedSim" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="23">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>100.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_CLOSING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_CLOSING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="wrkReal" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="calClosedElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="calClosedElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalConstant" UId="32">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalConstant" UId="33">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="calClosedElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="calClosedElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="38">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_closed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="39">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_CLOSED_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="40">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="41">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_closed" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="42">
      <Negated Name="operand" />
    </Part>
    <Part Name="Div" UId="43" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Mul" UId="44" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Sub" UId="45" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Le" UId="46">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="47" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Contact" UId="48" />
    <Part Name="Le" UId="49">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="SCoil" UId="50" />
    <Part Name="Contact" UId="51" />
    <Part Name="Contact" UId="52" />
    <Part Name="O" UId="53">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="RCoil" UId="54" />
  </Parts>
  <Wires>
    <Wire UId="55">
      <Powerrail />
      <NameCon UId="42" Name="in" />
      <NameCon UId="51" Name="in" />
      <NameCon UId="52" Name="in" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="21" />
      <NameCon UId="42" Name="operand" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="en" />
      <NameCon UId="46" Name="pre" />
      <NameCon UId="48" Name="in" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="22" />
      <NameCon UId="43" Name="in1" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="23" />
      <NameCon UId="43" Name="in2" />
    </Wire>
    <Wire UId="60">
      <NameCon UId="43" Name="eno" />
      <NameCon UId="44" Name="en" />
    </Wire>
    <Wire UId="61">
      <NameCon UId="43" Name="out" />
      <IdentCon UId="24" />
    </Wire>
    <Wire UId="62">
      <IdentCon UId="25" />
      <NameCon UId="44" Name="in1" />
    </Wire>
    <Wire UId="63">
      <IdentCon UId="26" />
      <NameCon UId="44" Name="in2" />
    </Wire>
    <Wire UId="64">
      <NameCon UId="44" Name="eno" />
      <NameCon UId="45" Name="en" />
    </Wire>
    <Wire UId="65">
      <NameCon UId="44" Name="out" />
      <IdentCon UId="27" />
    </Wire>
    <Wire UId="66">
      <IdentCon UId="28" />
      <NameCon UId="45" Name="in1" />
    </Wire>
    <Wire UId="67">
      <IdentCon UId="29" />
      <NameCon UId="45" Name="in2" />
    </Wire>
    <Wire UId="68">
      <NameCon UId="45" Name="out" />
      <IdentCon UId="30" />
    </Wire>
    <Wire UId="69">
      <IdentCon UId="31" />
      <NameCon UId="46" Name="in1" />
    </Wire>
    <Wire UId="70">
      <IdentCon UId="32" />
      <NameCon UId="46" Name="in2" />
    </Wire>
    <Wire UId="71">
      <NameCon UId="46" Name="out" />
      <NameCon UId="47" Name="en" />
    </Wire>
    <Wire UId="72">
      <IdentCon UId="33" />
      <NameCon UId="47" Name="in" />
    </Wire>
    <Wire UId="73">
      <NameCon UId="47" Name="out1" />
      <IdentCon UId="34" />
    </Wire>
    <Wire UId="74">
      <IdentCon UId="35" />
      <NameCon UId="48" Name="operand" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="48" Name="out" />
      <NameCon UId="49" Name="pre" />
    </Wire>
    <Wire UId="76">
      <IdentCon UId="36" />
      <NameCon UId="49" Name="in1" />
    </Wire>
    <Wire UId="77">
      <IdentCon UId="37" />
      <NameCon UId="49" Name="in2" />
    </Wire>
    <Wire UId="78">
      <NameCon UId="49" Name="out" />
      <NameCon UId="50" Name="in" />
    </Wire>
    <Wire UId="79">
      <IdentCon UId="38" />
      <NameCon UId="50" Name="operand" />
    </Wire>
    <Wire UId="80">
      <IdentCon UId="39" />
      <NameCon UId="51" Name="operand" />
    </Wire>
    <Wire UId="81">
      <NameCon UId="51" Name="out" />
      <NameCon UId="53" Name="in1" />
    </Wire>
    <Wire UId="82">
      <IdentCon UId="40" />
      <NameCon UId="52" Name="operand" />
    </Wire>
    <Wire UId="83">
      <NameCon UId="52" Name="out" />
      <NameCon UId="53" Name="in2" />
    </Wire>
    <Wire UId="84">
      <NameCon UId="53" Name="out" />
      <NameCon UId="54" Name="in" />
    </Wire>
    <Wire UId="85">
      <IdentCon UId="41" />
      <NameCon UId="54" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="4F" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="50" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If there is no closed position feedback (CONFIG_FBK_CLOSED_EN = 0), then the closed state of 
the valve is derived from the elapsed time of the operation timer using the following formulae:

┌────────────────────────────────────────────┐
│$derived_fbk_closed = 1 when:                                 │
│                                 wrkTimeFbkClosedSim   │
│actual_Operating_Timer ≤ TIME_CLOSING_MAX ─ TIME_CLOSING_MAX ╳ -------------------------------------------  │
│                                     100            │
└────────────────────────────────────────────┘
Note:    wrkTimeFbkClosedSim is the error checked equivalent of TIME_FBK_CLOSED

If the calculated elapsed time is close to or less than k_TIME_OP_MIN (210ms),
the calculated elapsed time (calClosedElapsedTime) is set to k_TIME_OP_MIN. This ensures at
least one timing pulse is required before the timer reaches zero.

The derived closed signal ($derived_fbk_closed) is reset if the valve is requested to be open
($ctrl_OpenClose = 1).
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="51" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="52" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Derived closed position</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="53" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="23">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="25">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>2</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="27">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>3</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_open" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="31">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>1</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="33">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>3</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_open" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_open" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="38" />
    <Part Name="Eq" UId="39">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Eq" UId="40">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Eq" UId="41">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Contact" UId="42">
      <Negated Name="operand" />
    </Part>
    <Part Name="O" UId="43">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
    </Part>
    <Part Name="RCoil" UId="44" />
    <Part Name="Eq" UId="45">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Eq" UId="46">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Contact" UId="47" />
    <Part Name="O" UId="48">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="SCoil" UId="49" />
    <Part Name="Contact" UId="50">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="51" />
  </Parts>
  <Wires>
    <Wire UId="52">
      <Powerrail />
      <NameCon UId="38" Name="in" />
      <NameCon UId="50" Name="in" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="21" />
      <NameCon UId="38" Name="operand" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="pre" />
      <NameCon UId="40" Name="pre" />
      <NameCon UId="41" Name="pre" />
      <NameCon UId="45" Name="pre" />
      <NameCon UId="46" Name="pre" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="22" />
      <NameCon UId="39" Name="in1" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="23" />
      <NameCon UId="39" Name="in2" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="39" Name="out" />
      <NameCon UId="43" Name="in1" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="24" />
      <NameCon UId="40" Name="in1" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="25" />
      <NameCon UId="40" Name="in2" />
    </Wire>
    <Wire UId="60">
      <NameCon UId="40" Name="out" />
      <NameCon UId="43" Name="in2" />
    </Wire>
    <Wire UId="61">
      <IdentCon UId="26" />
      <NameCon UId="41" Name="in1" />
    </Wire>
    <Wire UId="62">
      <IdentCon UId="27" />
      <NameCon UId="41" Name="in2" />
    </Wire>
    <Wire UId="63">
      <NameCon UId="41" Name="out" />
      <NameCon UId="42" Name="in" />
    </Wire>
    <Wire UId="64">
      <IdentCon UId="28" />
      <NameCon UId="42" Name="operand" />
    </Wire>
    <Wire UId="65">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="in3" />
    </Wire>
    <Wire UId="66">
      <NameCon UId="43" Name="out" />
      <NameCon UId="44" Name="in" />
    </Wire>
    <Wire UId="67">
      <IdentCon UId="29" />
      <NameCon UId="44" Name="operand" />
    </Wire>
    <Wire UId="68">
      <IdentCon UId="30" />
      <NameCon UId="45" Name="in1" />
    </Wire>
    <Wire UId="69">
      <IdentCon UId="31" />
      <NameCon UId="45" Name="in2" />
    </Wire>
    <Wire UId="70">
      <NameCon UId="45" Name="out" />
      <NameCon UId="48" Name="in1" />
    </Wire>
    <Wire UId="71">
      <IdentCon UId="32" />
      <NameCon UId="46" Name="in1" />
    </Wire>
    <Wire UId="72">
      <IdentCon UId="33" />
      <NameCon UId="46" Name="in2" />
    </Wire>
    <Wire UId="73">
      <NameCon UId="46" Name="out" />
      <NameCon UId="47" Name="in" />
    </Wire>
    <Wire UId="74">
      <IdentCon UId="34" />
      <NameCon UId="47" Name="operand" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="47" Name="out" />
      <NameCon UId="48" Name="in2" />
    </Wire>
    <Wire UId="76">
      <NameCon UId="48" Name="out" />
      <NameCon UId="49" Name="in" />
    </Wire>
    <Wire UId="77">
      <IdentCon UId="35" />
      <NameCon UId="49" Name="operand" />
    </Wire>
    <Wire UId="78">
      <IdentCon UId="36" />
      <NameCon UId="50" Name="operand" />
    </Wire>
    <Wire UId="79">
      <NameCon UId="50" Name="out" />
      <NameCon UId="51" Name="in" />
    </Wire>
    <Wire UId="80">
      <IdentCon UId="37" />
      <NameCon UId="51" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="54" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="55" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If simulation mode is active, the simulated open position signal is set as follows:

   •   mode_SimValue = 0 (no feedback), $sim_fbk_open = 0

   •   mode_SimValue = 1 (permanently open), $sim_fbk_open = 1

   •   mode_SimValue = 2 (permanently closed), $sim_fbk_open = 0

   •   mode_SimValue = 3 (follow demand), $sim_fbk_open = $ctrl_OpenClose

If simulation mode is not active,  $sim_fbk_open = 0
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="56" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="57" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Simulation mode — Open signal</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="58" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="23">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="25">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>1</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="27">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>3</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_closed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="31">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>2</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimValue" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="33">
      <Constant>
        <ConstantType>Int</ConstantType>
        <ConstantValue>3</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_closed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_closed" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="38" />
    <Part Name="Eq" UId="39">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Eq" UId="40">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Eq" UId="41">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Contact" UId="42" />
    <Part Name="O" UId="43">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
    </Part>
    <Part Name="RCoil" UId="44" />
    <Part Name="Eq" UId="45">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Eq" UId="46">
      <TemplateValue Name="SrcType" Type="Type">Int</TemplateValue>
    </Part>
    <Part Name="Contact" UId="47">
      <Negated Name="operand" />
    </Part>
    <Part Name="O" UId="48">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="SCoil" UId="49" />
    <Part Name="Contact" UId="50">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="51" />
  </Parts>
  <Wires>
    <Wire UId="52">
      <Powerrail />
      <NameCon UId="38" Name="in" />
      <NameCon UId="50" Name="in" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="21" />
      <NameCon UId="38" Name="operand" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="pre" />
      <NameCon UId="40" Name="pre" />
      <NameCon UId="41" Name="pre" />
      <NameCon UId="45" Name="pre" />
      <NameCon UId="46" Name="pre" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="22" />
      <NameCon UId="39" Name="in1" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="23" />
      <NameCon UId="39" Name="in2" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="39" Name="out" />
      <NameCon UId="43" Name="in1" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="24" />
      <NameCon UId="40" Name="in1" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="25" />
      <NameCon UId="40" Name="in2" />
    </Wire>
    <Wire UId="60">
      <NameCon UId="40" Name="out" />
      <NameCon UId="43" Name="in2" />
    </Wire>
    <Wire UId="61">
      <IdentCon UId="26" />
      <NameCon UId="41" Name="in1" />
    </Wire>
    <Wire UId="62">
      <IdentCon UId="27" />
      <NameCon UId="41" Name="in2" />
    </Wire>
    <Wire UId="63">
      <NameCon UId="41" Name="out" />
      <NameCon UId="42" Name="in" />
    </Wire>
    <Wire UId="64">
      <IdentCon UId="28" />
      <NameCon UId="42" Name="operand" />
    </Wire>
    <Wire UId="65">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="in3" />
    </Wire>
    <Wire UId="66">
      <NameCon UId="43" Name="out" />
      <NameCon UId="44" Name="in" />
    </Wire>
    <Wire UId="67">
      <IdentCon UId="29" />
      <NameCon UId="44" Name="operand" />
    </Wire>
    <Wire UId="68">
      <IdentCon UId="30" />
      <NameCon UId="45" Name="in1" />
    </Wire>
    <Wire UId="69">
      <IdentCon UId="31" />
      <NameCon UId="45" Name="in2" />
    </Wire>
    <Wire UId="70">
      <NameCon UId="45" Name="out" />
      <NameCon UId="48" Name="in1" />
    </Wire>
    <Wire UId="71">
      <IdentCon UId="32" />
      <NameCon UId="46" Name="in1" />
    </Wire>
    <Wire UId="72">
      <IdentCon UId="33" />
      <NameCon UId="46" Name="in2" />
    </Wire>
    <Wire UId="73">
      <NameCon UId="46" Name="out" />
      <NameCon UId="47" Name="in" />
    </Wire>
    <Wire UId="74">
      <IdentCon UId="34" />
      <NameCon UId="47" Name="operand" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="47" Name="out" />
      <NameCon UId="48" Name="in2" />
    </Wire>
    <Wire UId="76">
      <NameCon UId="48" Name="out" />
      <NameCon UId="49" Name="in" />
    </Wire>
    <Wire UId="77">
      <IdentCon UId="35" />
      <NameCon UId="49" Name="operand" />
    </Wire>
    <Wire UId="78">
      <IdentCon UId="36" />
      <NameCon UId="50" Name="operand" />
    </Wire>
    <Wire UId="79">
      <NameCon UId="50" Name="out" />
      <NameCon UId="51" Name="in" />
    </Wire>
    <Wire UId="80">
      <IdentCon UId="37" />
      <NameCon UId="51" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="59" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="5A" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If simulation mode is active, the simulated open position signal is set as follows:

   •   mode_SimValue = 0 (no feedback), $sim_fbk_closed = 0

   •   mode_SimValue = 1 (permanently open), $sim_fbk_closed = 0

   •   mode_SimValue = 2 (permanently closed), $sim_fbk_closed = 1

   •   mode_SimValue = 3 (follow demand), $sim_fbk_closed = NOT $ctrl_OpenClose

If simulation mode is not active,  $sim_fbk_closed = 0
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="5B" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="5C" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal Conditioning — Simulation mode — Closed signal</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="5D" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_OPEN_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="FBK_OPEN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_OPEN_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_open" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_open" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="wrkOpen" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="30" />
    <Part Name="Contact" UId="31">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="32" />
    <Part Name="Contact" UId="33">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="34">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="35" />
    <Part Name="Contact" UId="36" />
    <Part Name="Contact" UId="37" />
    <Part Name="O" UId="38">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
    </Part>
    <Part Name="Coil" UId="39" />
  </Parts>
  <Wires>
    <Wire UId="40">
      <Powerrail />
      <NameCon UId="30" Name="in" />
      <NameCon UId="33" Name="in" />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="41">
      <IdentCon UId="21" />
      <NameCon UId="30" Name="operand" />
    </Wire>
    <Wire UId="42">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="43">
      <IdentCon UId="22" />
      <NameCon UId="31" Name="operand" />
    </Wire>
    <Wire UId="44">
      <NameCon UId="31" Name="out" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="45">
      <IdentCon UId="23" />
      <NameCon UId="32" Name="operand" />
    </Wire>
    <Wire UId="46">
      <NameCon UId="32" Name="out" />
      <NameCon UId="38" Name="in1" />
    </Wire>
    <Wire UId="47">
      <IdentCon UId="24" />
      <NameCon UId="33" Name="operand" />
    </Wire>
    <Wire UId="48">
      <NameCon UId="33" Name="out" />
      <NameCon UId="34" Name="in" />
    </Wire>
    <Wire UId="49">
      <IdentCon UId="25" />
      <NameCon UId="34" Name="operand" />
    </Wire>
    <Wire UId="50">
      <NameCon UId="34" Name="out" />
      <NameCon UId="35" Name="in" />
    </Wire>
    <Wire UId="51">
      <IdentCon UId="26" />
      <NameCon UId="35" Name="operand" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="35" Name="out" />
      <NameCon UId="38" Name="in2" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="27" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="in" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="28" />
      <NameCon UId="37" Name="operand" />
    </Wire>
    <Wire UId="56">
      <NameCon UId="37" Name="out" />
      <NameCon UId="38" Name="in3" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="in" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="29" />
      <NameCon UId="39" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="5E" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="5F" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Generates a working open signal (wrkOpen), that is then used throughout the module as the 
definitive open position feedback signal.

The open signal will be either :

   1.  The same as the FBK_OPEN parameter if this is in use 
     (CONFIG_FBK_OPEN_EN = 1)

   2.  The internally derived open state (based on the requested state of the valve) if the 
     FBK_OPEN signal is NOT in use (CONFIG_FBK_OPEN_EN = 0)

   3.  The simulated state of the valve if simulation mode is active (mode_SimOn = 1)

If an actual open position signal is provided to the module via the FBK_OPEN parameter 
(i.e. if CONFIG_FBK_OPEN_EN = 1) then wrkOpen is set to match the FBK_OPEN signal 
(wrkOpen = FBK_OPEN).

If a derived open signal is to be used (i.e. if CONFIG_FBK_OPEN_EN = 0), then wrkOpen is set to 
match the internally derived $derived_fbk_open signal (wrkOpen = $derived_fbk_open). 
$derived_fbk_open is based on the requested state of the valve. 

Finally, if simulation mode is active (mode_SimOn = 1), then wrkOpen is set to match the internal 
simulation signal $sim_fbk_open signal (wrkOpen = $sim_fbk_open).. 
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="60" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="61" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Determine valve OPEN position status</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="62" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_CLOSED_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="FBK_CLOSED" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_FBK_CLOSED_EN" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_closed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$sim_fbk_closed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="wrkClosed" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="30" />
    <Part Name="Contact" UId="31">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="32" />
    <Part Name="Contact" UId="33">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="34">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="35" />
    <Part Name="Contact" UId="36" />
    <Part Name="Contact" UId="37" />
    <Part Name="O" UId="38">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
    </Part>
    <Part Name="Coil" UId="39" />
  </Parts>
  <Wires>
    <Wire UId="40">
      <Powerrail />
      <NameCon UId="30" Name="in" />
      <NameCon UId="33" Name="in" />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="41">
      <IdentCon UId="21" />
      <NameCon UId="30" Name="operand" />
    </Wire>
    <Wire UId="42">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="43">
      <IdentCon UId="22" />
      <NameCon UId="31" Name="operand" />
    </Wire>
    <Wire UId="44">
      <NameCon UId="31" Name="out" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="45">
      <IdentCon UId="23" />
      <NameCon UId="32" Name="operand" />
    </Wire>
    <Wire UId="46">
      <NameCon UId="32" Name="out" />
      <NameCon UId="38" Name="in1" />
    </Wire>
    <Wire UId="47">
      <IdentCon UId="24" />
      <NameCon UId="33" Name="operand" />
    </Wire>
    <Wire UId="48">
      <NameCon UId="33" Name="out" />
      <NameCon UId="34" Name="in" />
    </Wire>
    <Wire UId="49">
      <IdentCon UId="25" />
      <NameCon UId="34" Name="operand" />
    </Wire>
    <Wire UId="50">
      <NameCon UId="34" Name="out" />
      <NameCon UId="35" Name="in" />
    </Wire>
    <Wire UId="51">
      <IdentCon UId="26" />
      <NameCon UId="35" Name="operand" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="35" Name="out" />
      <NameCon UId="38" Name="in2" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="27" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="in" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="28" />
      <NameCon UId="37" Name="operand" />
    </Wire>
    <Wire UId="56">
      <NameCon UId="37" Name="out" />
      <NameCon UId="38" Name="in3" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="in" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="29" />
      <NameCon UId="39" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="63" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="64" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Generates a working closed signal (wrkClosed), that is then used throughout the module as the 
definitive closed position feedback signal.

The closed signal will be either :

   1.  The same as the FBK_CLOSED parameter if this is in use 
     (CONFIG_FBK_CLOSED_EN = 1)

   2.  The internally derived closed state (based on the requested state of the valve) if the 
     FBK_CLOSED signal is NOT in use (CONFIG_FBK_CLOSED_EN = 0)

   3.  The simulated state of the valve if simulation mode is active (mode_SimOn = 1)

If an actual closed position signal is provided to the module via the FBK_CLOSED parameter 
(i.e. if CONFIG_FBK_CLOSED_EN = 1) then wrkClosed is set to match the FBK_CLOSED signal 
wrkClosed = FBK_CLOSED).

If a derived closed signal is to be used (i.e. if CONFIG_FBK_CLOSED_EN = 0), then wrkClosed is 
set to match the internally derived $derived_fbk_closed signal 
(wrkClosed = $derived_fbk_closed). $derived_fbk_closed is based on the requested state of 
the valve.

Finally, if simulation mode is active (mode_SimOn = 1), then wrkClosed is set to match the 
internal simulation signal $sim_fbk_closed signal (wrkClosed = $sim_fbk_closed). 
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="65" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="66" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Determine valve CLOSED position status</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="67" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Fault" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="E_STOP" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_ESTOP_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkCtrlPriority40" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="25" />
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27">
      <Negated Name="operand" />
    </Part>
    <Part Name="O" UId="28">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="29" />
  </Parts>
  <Wires>
    <Wire UId="30">
      <Powerrail />
      <NameCon UId="25" Name="in" />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="21" />
      <NameCon UId="25" Name="operand" />
    </Wire>
    <Wire UId="32">
      <NameCon UId="25" Name="out" />
      <NameCon UId="28" Name="in1" />
    </Wire>
    <Wire UId="33">
      <IdentCon UId="22" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="34">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="23" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in2" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="68" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="69" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Establishes the priority of signal that has control of the valve, the priorities are assigned as 
follows:

 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL TYPE       PRIORITY   ASSIGNED VALUE       CAN BE BYPASSED
 ――――――――――――――――――――――――――――――――――――――――――
 Emergency Stop        High        40                NO
 Trip            ↑           30             YES
 Interlock            ↑           20             YES
 Permissive          ↑           10             YES
 Auto/manual control    Low         00                NO
 ――――――――――――――――――――――――――――――――――――――――――
 High priority signal take precedence over lower priority signals.

Determine a priority 40 (valve safety (or fault) condition is active)

The priority is active if:

   1.  The valve is in a fault condition (status_Fault = 1)

  OR both the following are true

   1.  Safety signals are not disabled (CONFIG_ESTOP_DIS = 0)

   2.  The E_STOP signal is active
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="6A" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="6B" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Establish control priority (priority 40 safety or fault - highest)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="6C" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="TRIP" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_TRIP_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkCtrlPriority40" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkCtrlPriority30" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="28">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="30" />
  </Parts>
  <Wires>
    <Wire UId="31">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="25" />
      <NameCon UId="30" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="6D" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="6E" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Determine if a priority 30 (trip interlock signal) is active and has priority

The priority is active if:

   1.  A higher priority signal is not active

   2.  Trip signals are not disabled (CONFIG_TRIP_DIS = 0)

   3.  Interlock signals are not bypassed (mode_BypassOn = 0)

   4.  The TRIP signal is active
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="6F" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="70" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Establish control priority (priority 30 Trip)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="71" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="INTERLOCK" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_ILOCK_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkCtrlPriority40" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkCtrlPriority30" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="wrkCtrlPriority20" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="27" />
    <Part Name="Contact" UId="28">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="30">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="31">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="32" />
  </Parts>
  <Wires>
    <Wire UId="33">
      <Powerrail />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="21" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="22" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="23" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="24" />
      <NameCon UId="30" Name="operand" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="25" />
      <NameCon UId="31" Name="operand" />
    </Wire>
    <Wire UId="43">
      <NameCon UId="31" Name="out" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="44">
      <IdentCon UId="26" />
      <NameCon UId="32" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="72" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="73" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Determine if a priority 20 (interlock signal) is active and has priority

The priority is active if:

   1.  A higher priority signal is not active

   2.  Interlock signals are not disabled (CONFIG_ILOCK_DIS = 0)

   3.  Interlock signals are not bypassed (mode_BypassOn = 0)

   4.  The INTERLOCK signal is active
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="74" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="75" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Establish control priority (priority 20 Interlock)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="76" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="PERMISSIVE" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkCtrlPriority40" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkCtrlPriority30" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="wrkCtrlPriority20" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="wrkCtrlPriority10" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="28" />
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="30">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="31">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="32">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="33">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="34" />
  </Parts>
  <Wires>
    <Wire UId="35">
      <Powerrail />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="21" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="22" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="23" />
      <NameCon UId="30" Name="operand" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="24" />
      <NameCon UId="31" Name="operand" />
    </Wire>
    <Wire UId="43">
      <NameCon UId="31" Name="out" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="44">
      <IdentCon UId="25" />
      <NameCon UId="32" Name="operand" />
    </Wire>
    <Wire UId="45">
      <NameCon UId="32" Name="out" />
      <NameCon UId="33" Name="in" />
    </Wire>
    <Wire UId="46">
      <IdentCon UId="26" />
      <NameCon UId="33" Name="operand" />
    </Wire>
    <Wire UId="47">
      <NameCon UId="33" Name="out" />
      <NameCon UId="34" Name="in" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="27" />
      <NameCon UId="34" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="77" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="78" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Determine if a priority 10 (permissive signal) is active and has priority

The priority is active if:

   1.  A higher priority signal is not active

   2.  Permissive signals are not disabled (CONFIG_PERM_DIS = 0)

   3.  Interlock signals are not bypassed (mode_BypassOn = 0)

   4.  The PERMISSIVE signal is active
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="79" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="7A" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Establish control priority (priority 10 permissive)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="7B" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkCtrlPriority40" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkCtrlPriority30" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="wrkCtrlPriority20" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkCtrlPriority10" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkCtrlPriority00" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="27">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="28">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="30" />
  </Parts>
  <Wires>
    <Wire UId="31">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="25" />
      <NameCon UId="30" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="7C" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="7D" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Determine if a priority 00 (automatic or manual control) is active and has priority

The priority is active if:

   1.  A higher priority signal is not active
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="7E" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="7F" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Establish control priority (priority 00 auto/manual - lowest)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="80" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_AutMan" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="ctrl_Aut_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_AutMan" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="ctrl_Man_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27" />
    <Part Name="Contact" UId="28">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="29" />
    <Part Name="O" UId="30">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="31" />
  </Parts>
  <Wires>
    <Wire UId="32">
      <Powerrail />
      <NameCon UId="26" Name="in" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="33">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="34">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="27" Name="out" />
      <NameCon UId="30" Name="in1" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="40">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in2" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="25" />
      <NameCon UId="31" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="81" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="82" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Determine the valve state required by the automatic/manual mode selection:

   1.  If manual mode is active set wrkCtrlAutManOpCl to match the current manual 
     mode requested state (ctrl_Man_OpenClose)

   2.  If automatic mode is active set wrkCtrlAutManOpCl to match the current automatic 
     mode requested state (ctrl_Aut_OpenClose)
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="83" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="84" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Signal conditioning — Consolidate the auto or manual state request</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="85" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkCtrlPriority40" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27" />
    <Part Name="SCoil" UId="28" />
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="30" />
  </Parts>
  <Wires>
    <Wire UId="31">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="25" />
      <NameCon UId="30" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="86" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="87" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If  a priority 40 (safety) condition is active, set the valve to the deenergised 
state:

   •   If the valve is normally open (CONFIG_NO_NC = 1), the deenergised state is open

   •   If the valve is normally closed (CONFIG_NO_NC = 0), the deenergised state is closed
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="88" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="89" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Control — Evaluate priority signals and set open/close request (Priority 40)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="8A" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkCtrlPriority30" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_TRIP_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_TRIP_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27" />
    <Part Name="SCoil" UId="28" />
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="30" />
  </Parts>
  <Wires>
    <Wire UId="31">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="25" />
      <NameCon UId="30" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="8B" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="8C" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If  a priority 30 (trip) condition is active, set the valve to the required state:

   •   If the TRIP state is open (CONFIG_TRIP_OP_CL = 1) set the valve to be open

   •   f the TRIP state is closed (CONFIG_TRIP_OP_CL = 0) set the valve to be closed
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="8D" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="8E" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Control — Evaluate priority signals and set open/close request (Priority 30)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="8F" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkCtrlPriority20" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_ILOCK_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_ILOCK_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27" />
    <Part Name="SCoil" UId="28" />
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="30" />
  </Parts>
  <Wires>
    <Wire UId="31">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="25" />
      <NameCon UId="30" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="90" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="91" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If  a priority 20 (interlock) condition is active, set the valve to the required state:

   •   If the INTERLOCK state is open (CONFIG_ILOCK_OP_CL = 1) set the valve to be open

   •   f the INTERLOCK state is closed (CONFIG_ILOCK_OP_CL = 0) set the valve to be closed
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="92" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="93" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Control — Evaluate priority signals and set open/close request (Priority 20)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="94" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkCtrlPriority10" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Energised" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Energised" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_OP_CL" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="38">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="39">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Energised" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="40">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="41">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Energised" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="42">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="43">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="44" />
    <Part Name="Contact" UId="45" />
    <Part Name="Contact" UId="46" />
    <Part Name="Contact" UId="47" />
    <Part Name="Contact" UId="48">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="49">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="50" />
    <Part Name="O" UId="51">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Contact" UId="52" />
    <Part Name="Contact" UId="53">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="54">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="55" />
    <Part Name="O" UId="56">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
    </Part>
    <Part Name="SCoil" UId="57" />
    <Part Name="Contact" UId="58">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="59">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="60">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="61" />
    <Part Name="Contact" UId="62" />
    <Part Name="Contact" UId="63">
      <Negated Name="operand" />
    </Part>
    <Part Name="O" UId="64">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Contact" UId="65">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="66">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="67" />
    <Part Name="Contact" UId="68" />
    <Part Name="O" UId="69">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
    </Part>
    <Part Name="RCoil" UId="70" />
  </Parts>
  <Wires>
    <Wire UId="71">
      <Powerrail />
      <NameCon UId="44" Name="in" />
    </Wire>
    <Wire UId="72">
      <IdentCon UId="21" />
      <NameCon UId="44" Name="operand" />
    </Wire>
    <Wire UId="73">
      <NameCon UId="44" Name="out" />
      <NameCon UId="45" Name="in" />
      <NameCon UId="47" Name="in" />
      <NameCon UId="49" Name="in" />
      <NameCon UId="58" Name="in" />
      <NameCon UId="60" Name="in" />
      <NameCon UId="62" Name="in" />
    </Wire>
    <Wire UId="74">
      <IdentCon UId="22" />
      <NameCon UId="45" Name="operand" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="45" Name="out" />
      <NameCon UId="46" Name="in" />
    </Wire>
    <Wire UId="76">
      <IdentCon UId="23" />
      <NameCon UId="46" Name="operand" />
    </Wire>
    <Wire UId="77">
      <NameCon UId="46" Name="out" />
      <NameCon UId="56" Name="in1" />
    </Wire>
    <Wire UId="78">
      <IdentCon UId="24" />
      <NameCon UId="47" Name="operand" />
    </Wire>
    <Wire UId="79">
      <NameCon UId="47" Name="out" />
      <NameCon UId="48" Name="in" />
    </Wire>
    <Wire UId="80">
      <IdentCon UId="25" />
      <NameCon UId="48" Name="operand" />
    </Wire>
    <Wire UId="81">
      <NameCon UId="48" Name="out" />
      <NameCon UId="51" Name="in1" />
    </Wire>
    <Wire UId="82">
      <IdentCon UId="26" />
      <NameCon UId="49" Name="operand" />
    </Wire>
    <Wire UId="83">
      <NameCon UId="49" Name="out" />
      <NameCon UId="50" Name="in" />
    </Wire>
    <Wire UId="84">
      <IdentCon UId="27" />
      <NameCon UId="50" Name="operand" />
    </Wire>
    <Wire UId="85">
      <NameCon UId="50" Name="out" />
      <NameCon UId="51" Name="in2" />
    </Wire>
    <Wire UId="86">
      <NameCon UId="51" Name="out" />
      <NameCon UId="52" Name="in" />
      <NameCon UId="54" Name="in" />
    </Wire>
    <Wire UId="87">
      <IdentCon UId="28" />
      <NameCon UId="52" Name="operand" />
    </Wire>
    <Wire UId="88">
      <NameCon UId="52" Name="out" />
      <NameCon UId="53" Name="in" />
    </Wire>
    <Wire UId="89">
      <IdentCon UId="29" />
      <NameCon UId="53" Name="operand" />
    </Wire>
    <Wire UId="90">
      <NameCon UId="53" Name="out" />
      <NameCon UId="56" Name="in2" />
    </Wire>
    <Wire UId="91">
      <IdentCon UId="30" />
      <NameCon UId="54" Name="operand" />
    </Wire>
    <Wire UId="92">
      <NameCon UId="54" Name="out" />
      <NameCon UId="55" Name="in" />
    </Wire>
    <Wire UId="93">
      <IdentCon UId="31" />
      <NameCon UId="55" Name="operand" />
    </Wire>
    <Wire UId="94">
      <NameCon UId="55" Name="out" />
      <NameCon UId="56" Name="in3" />
    </Wire>
    <Wire UId="95">
      <NameCon UId="56" Name="out" />
      <NameCon UId="57" Name="in" />
    </Wire>
    <Wire UId="96">
      <IdentCon UId="32" />
      <NameCon UId="57" Name="operand" />
    </Wire>
    <Wire UId="97">
      <IdentCon UId="33" />
      <NameCon UId="58" Name="operand" />
    </Wire>
    <Wire UId="98">
      <NameCon UId="58" Name="out" />
      <NameCon UId="59" Name="in" />
    </Wire>
    <Wire UId="99">
      <IdentCon UId="34" />
      <NameCon UId="59" Name="operand" />
    </Wire>
    <Wire UId="100">
      <NameCon UId="59" Name="out" />
      <NameCon UId="69" Name="in1" />
    </Wire>
    <Wire UId="101">
      <IdentCon UId="35" />
      <NameCon UId="60" Name="operand" />
    </Wire>
    <Wire UId="102">
      <NameCon UId="60" Name="out" />
      <NameCon UId="61" Name="in" />
    </Wire>
    <Wire UId="103">
      <IdentCon UId="36" />
      <NameCon UId="61" Name="operand" />
    </Wire>
    <Wire UId="104">
      <NameCon UId="61" Name="out" />
      <NameCon UId="64" Name="in1" />
    </Wire>
    <Wire UId="105">
      <IdentCon UId="37" />
      <NameCon UId="62" Name="operand" />
    </Wire>
    <Wire UId="106">
      <NameCon UId="62" Name="out" />
      <NameCon UId="63" Name="in" />
    </Wire>
    <Wire UId="107">
      <IdentCon UId="38" />
      <NameCon UId="63" Name="operand" />
    </Wire>
    <Wire UId="108">
      <NameCon UId="63" Name="out" />
      <NameCon UId="64" Name="in2" />
    </Wire>
    <Wire UId="109">
      <NameCon UId="64" Name="out" />
      <NameCon UId="65" Name="in" />
      <NameCon UId="67" Name="in" />
    </Wire>
    <Wire UId="110">
      <IdentCon UId="39" />
      <NameCon UId="65" Name="operand" />
    </Wire>
    <Wire UId="111">
      <NameCon UId="65" Name="out" />
      <NameCon UId="66" Name="in" />
    </Wire>
    <Wire UId="112">
      <IdentCon UId="40" />
      <NameCon UId="66" Name="operand" />
    </Wire>
    <Wire UId="113">
      <NameCon UId="66" Name="out" />
      <NameCon UId="69" Name="in2" />
    </Wire>
    <Wire UId="114">
      <IdentCon UId="41" />
      <NameCon UId="67" Name="operand" />
    </Wire>
    <Wire UId="115">
      <NameCon UId="67" Name="out" />
      <NameCon UId="68" Name="in" />
    </Wire>
    <Wire UId="116">
      <IdentCon UId="42" />
      <NameCon UId="68" Name="operand" />
    </Wire>
    <Wire UId="117">
      <NameCon UId="68" Name="out" />
      <NameCon UId="69" Name="in3" />
    </Wire>
    <Wire UId="118">
      <NameCon UId="69" Name="out" />
      <NameCon UId="70" Name="in" />
    </Wire>
    <Wire UId="119">
      <IdentCon UId="43" />
      <NameCon UId="70" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="95" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="96" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If  a priority 10 (permissive) condition is active, set the valve to the required state:


PERMITTED STATE IS OPEN — CONDITIONS:

   •   If the Permitted state is open and Aut/Man request is for open, 
     set the valve to be open [Branch 1]

   •   If the Permitted state is open and Aut/Man request is for closed, and the current
     valve output matches this state (closed), set the valve to be closed (maintain the
     current state) [Branch 6]

   •   If the Permitted state is open and Aut/Man request is for closed, and the current
     valve output matches the open state, set the valve to be open (override the
     auto/man request [Branch 2]

PERMITTED STATE IS CLOSED — CONDITIONS:

   •   If the Permitted state is closed and Aut/Man request is for closed,
     set the valve to be  closed [Branch 4]

   •   If the Permitted state is closed and Aut/Man request is for open, and the current
     valve output matches this state (open), set the valve to be open (maintain the
     current state) [Branch 3]

   •   If the Permitted state is closed and Aut/Man request is for open, and the current
     valve output matches the closed state, set the valve to be closed (override the
     auto/man request [Branch 5]
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="97" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="98" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Control — Evaluate priority signals and set open/close request (Priority 10)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="99" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkCtrlPriority00" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="wrkCtrlAutManOpCl" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27" />
    <Part Name="SCoil" UId="28" />
    <Part Name="Contact" UId="29">
      <Negated Name="operand" />
    </Part>
    <Part Name="RCoil" UId="30" />
  </Parts>
  <Wires>
    <Wire UId="31">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="29" Name="out" />
      <NameCon UId="30" Name="in" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="25" />
      <NameCon UId="30" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="9A" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="9B" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If  a priority 00 (auto/manual control) condition is active, set the valve to the required state:

   •   If the auto/manual state is open (wrkCtrlAutManOpCl = 1) set the valve to be open

   •   f the  auto/manual state is closed (wrkCtrlAutManOpCl = 0) set the valve to be closed
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="9C" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="9D" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Control — Evaluate priority signals and set open/close request (Priority 00)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="9E" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Fault" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$pret_Open" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_Reset" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_OPENING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_OPENING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalConstant" UId="31">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalConstant" UId="32">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="34">
      <Negated Name="operand" />
    </Part>
    <Part Name="PContact" UId="35" />
    <Part Name="Contact" UId="36" />
    <Part Name="O" UId="37">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Contact" UId="38" />
    <Part Name="SCoil" UId="39" />
    <Part Name="RCoil" UId="40" />
    <Part Name="Move" UId="41" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Lt" UId="42">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="43" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="44">
      <Powerrail />
      <NameCon UId="34" Name="in" />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="45">
      <IdentCon UId="21" />
      <NameCon UId="34" Name="operand" />
    </Wire>
    <Wire UId="46">
      <NameCon UId="34" Name="out" />
      <NameCon UId="35" Name="pre" />
    </Wire>
    <Wire UId="47">
      <IdentCon UId="23" />
      <NameCon UId="35" Name="bit" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="22" />
      <NameCon UId="35" Name="operand" />
    </Wire>
    <Wire UId="49">
      <NameCon UId="35" Name="out" />
      <NameCon UId="37" Name="in1" />
    </Wire>
    <Wire UId="50">
      <IdentCon UId="24" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="51">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="in2" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="37" Name="out" />
      <NameCon UId="38" Name="in" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="25" />
      <NameCon UId="38" Name="operand" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="in" />
      <NameCon UId="40" Name="in" />
      <NameCon UId="41" Name="en" />
      <NameCon UId="42" Name="pre" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="26" />
      <NameCon UId="39" Name="operand" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="27" />
      <NameCon UId="40" Name="operand" />
    </Wire>
    <Wire UId="57">
      <IdentCon UId="28" />
      <NameCon UId="41" Name="in" />
    </Wire>
    <Wire UId="58">
      <NameCon UId="41" Name="out1" />
      <IdentCon UId="29" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="30" />
      <NameCon UId="42" Name="in1" />
    </Wire>
    <Wire UId="60">
      <IdentCon UId="31" />
      <NameCon UId="42" Name="in2" />
    </Wire>
    <Wire UId="61">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="en" />
    </Wire>
    <Wire UId="62">
      <IdentCon UId="32" />
      <NameCon UId="43" Name="in" />
    </Wire>
    <Wire UId="63">
      <NameCon UId="43" Name="out1" />
      <IdentCon UId="33" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="9F" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="A0" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If a change of state is detected on the ctrl_OpenClose, in this case a rising edge indicating the
valve has been requested to change from a closed state to an open state, the status of the
valve is set to opening and the opening operation time is loaded into the operation timer.

If the opening operation time is less than k_TIME_OP_MIN (210ms), the actual_Operating_Timer 
is set to k_TIME_OP_MIN. This ensure that at least one timing pulse is required, before the timer 
reaches a value of zero (i.e. at least one plc cycle will be required).

If the valve is in a fault condition (status_Fault = true), the change of state is not evaluated
until the fault condition has cleared

Note: the timer is also triggered if the Reset signal is received and the valve is requested open.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="A1" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="A2" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Check for change of state request — Opening</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="A3" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Fault" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$nret_Close" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_Reset" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_CLOSING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_CLOSING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalConstant" UId="31">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalConstant" UId="32">
      <Constant Name="k_TIME_OP_MIN" />
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="34">
      <Negated Name="operand" />
    </Part>
    <Part Name="NContact" UId="35" />
    <Part Name="Contact" UId="36" />
    <Part Name="O" UId="37">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Contact" UId="38">
      <Negated Name="operand" />
    </Part>
    <Part Name="SCoil" UId="39" />
    <Part Name="RCoil" UId="40" />
    <Part Name="Move" UId="41" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="Lt" UId="42">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Move" UId="43" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="44">
      <Powerrail />
      <NameCon UId="34" Name="in" />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="45">
      <IdentCon UId="21" />
      <NameCon UId="34" Name="operand" />
    </Wire>
    <Wire UId="46">
      <NameCon UId="34" Name="out" />
      <NameCon UId="35" Name="pre" />
    </Wire>
    <Wire UId="47">
      <IdentCon UId="23" />
      <NameCon UId="35" Name="bit" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="22" />
      <NameCon UId="35" Name="operand" />
    </Wire>
    <Wire UId="49">
      <NameCon UId="35" Name="out" />
      <NameCon UId="37" Name="in1" />
    </Wire>
    <Wire UId="50">
      <IdentCon UId="24" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="51">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="in2" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="37" Name="out" />
      <NameCon UId="38" Name="in" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="25" />
      <NameCon UId="38" Name="operand" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="in" />
      <NameCon UId="40" Name="in" />
      <NameCon UId="41" Name="en" />
      <NameCon UId="42" Name="pre" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="26" />
      <NameCon UId="39" Name="operand" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="27" />
      <NameCon UId="40" Name="operand" />
    </Wire>
    <Wire UId="57">
      <IdentCon UId="28" />
      <NameCon UId="41" Name="in" />
    </Wire>
    <Wire UId="58">
      <NameCon UId="41" Name="out1" />
      <IdentCon UId="29" />
    </Wire>
    <Wire UId="59">
      <IdentCon UId="30" />
      <NameCon UId="42" Name="in1" />
    </Wire>
    <Wire UId="60">
      <IdentCon UId="31" />
      <NameCon UId="42" Name="in2" />
    </Wire>
    <Wire UId="61">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="en" />
    </Wire>
    <Wire UId="62">
      <IdentCon UId="32" />
      <NameCon UId="43" Name="in" />
    </Wire>
    <Wire UId="63">
      <NameCon UId="43" Name="out1" />
      <IdentCon UId="33" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="A4" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="A5" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If a change of state is detected on the ctrl_OpenClose, in this case a falling edge indicating the
valve has been requested to change from an open state to a closed state, the status of the
valve is set to closing and the closing operation time is loaded into the operation timer.

If the closing operation time is less than k_TIME_OP_MIN (210ms), the actual_Operating_Timer 
is set to k_TIME_OP_MIN. This ensure that at least one timing pulse is required, before the timer 
reaches a value of zero (i.e. at least one plc cycle will be required).

If the valve is in a fault condition (status_Fault = true), the change of state is not evaluated
until the fault condition has cleared

Note: the timer is also triggered if the Reset signal is received and the valve is requested closed.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="A6" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="A7" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Check for change of state request — Closing</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="A8" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Operating" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="calOpenElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_open" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26" />
    <Part Name="Contact" UId="27">
      <Negated Name="operand" />
    </Part>
    <Part Name="Le" UId="28">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="SCoil" UId="29" />
  </Parts>
  <Wires>
    <Wire UId="30">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="32">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="33">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="34">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="pre" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="in1" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="24" />
      <NameCon UId="28" Name="in2" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="25" />
      <NameCon UId="29" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="A9" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="AA" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The $derived_fbk_open logic is set to match the current state of the valve whenever the valve
is in a static state (i.e. not opening or closing), this ensures a clean transition if the 
CONFIG_FBK_OPEN_EN signal changes state during runtime.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="AB" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="AC" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Error check — derived open position feedback</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="AD" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Operating" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="calClosedElapsedTime" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$derived_fbk_closed" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="27">
      <Negated Name="operand" />
    </Part>
    <Part Name="Le" UId="28">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="SCoil" UId="29" />
  </Parts>
  <Wires>
    <Wire UId="30">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="32">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="33">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="34">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="pre" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="in1" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="24" />
      <NameCon UId="28" Name="in2" />
    </Wire>
    <Wire UId="37">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="25" />
      <NameCon UId="29" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="AE" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="AF" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The $derived_fbk_closed logic is set to match the current state of the valve whenever the valve
is in a static state (i.e. not opening or closing), this ensures a clean transition if the 
CONFIG_FBK_CLOSED_EN signal changes state during runtime
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="B0" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="B1" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Error check — derived closed position feedback</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="B2" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkClosed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Open" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="24" />
    <Part Name="Contact" UId="25">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="26" />
  </Parts>
  <Wires>
    <Wire UId="27">
      <Powerrail />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="21" />
      <NameCon UId="24" Name="operand" />
    </Wire>
    <Wire UId="29">
      <NameCon UId="24" Name="out" />
      <NameCon UId="25" Name="in" />
    </Wire>
    <Wire UId="30">
      <IdentCon UId="22" />
      <NameCon UId="25" Name="operand" />
    </Wire>
    <Wire UId="31">
      <NameCon UId="25" Name="out" />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="23" />
      <NameCon UId="26" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="B3" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="B4" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The valve is confirmed open (status_Open = 1) if there is positive indication of the open state 
(wrkOpen = 1) and not of the closed signal (wrkClosed = 0). 

I.e. the valve is showing open and not closed
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="B5" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="B6" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Status — Determine if the valve is confirmed open</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="B7" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="wrkClosed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="wrkOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closed" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="24" />
    <Part Name="Contact" UId="25">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="26" />
  </Parts>
  <Wires>
    <Wire UId="27">
      <Powerrail />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="21" />
      <NameCon UId="24" Name="operand" />
    </Wire>
    <Wire UId="29">
      <NameCon UId="24" Name="out" />
      <NameCon UId="25" Name="in" />
    </Wire>
    <Wire UId="30">
      <IdentCon UId="22" />
      <NameCon UId="25" Name="operand" />
    </Wire>
    <Wire UId="31">
      <NameCon UId="25" Name="out" />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="23" />
      <NameCon UId="26" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="B8" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="B9" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The valve is confirmed closed (status_Closed = 1) if there is positive indication of the closed state 
(wrkClosed = 1) and not of the open signal (wrkOpen = 0). 

I.e. the valve is showing closed and not open
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="BA" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="BB" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Status — Determine if the valve is confirmed closed</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="BC" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="22">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Fault" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Open" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailWhileOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailWhileClosed" />
      </Symbol>
    </Access>
    <Part Name="Eq" UId="30">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="31">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="32" />
    <Part Name="Contact" UId="33">
      <Negated Name="operand" />
    </Part>
    <Part Name="SCoil" UId="34" />
    <Part Name="Contact" UId="35">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="36">
      <Negated Name="operand" />
    </Part>
    <Part Name="SCoil" UId="37" />
  </Parts>
  <Wires>
    <Wire UId="38">
      <Powerrail />
      <NameCon UId="30" Name="pre" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="21" />
      <NameCon UId="30" Name="in1" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="22" />
      <NameCon UId="30" Name="in2" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="30" Name="out" />
      <NameCon UId="31" Name="in" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="23" />
      <NameCon UId="31" Name="operand" />
    </Wire>
    <Wire UId="43">
      <NameCon UId="31" Name="out" />
      <NameCon UId="32" Name="in" />
      <NameCon UId="35" Name="in" />
    </Wire>
    <Wire UId="44">
      <IdentCon UId="24" />
      <NameCon UId="32" Name="operand" />
    </Wire>
    <Wire UId="45">
      <NameCon UId="32" Name="out" />
      <NameCon UId="33" Name="in" />
    </Wire>
    <Wire UId="46">
      <IdentCon UId="25" />
      <NameCon UId="33" Name="operand" />
    </Wire>
    <Wire UId="47">
      <NameCon UId="33" Name="out" />
      <NameCon UId="34" Name="in" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="26" />
      <NameCon UId="34" Name="operand" />
    </Wire>
    <Wire UId="49">
      <IdentCon UId="27" />
      <NameCon UId="35" Name="operand" />
    </Wire>
    <Wire UId="50">
      <NameCon UId="35" Name="out" />
      <NameCon UId="36" Name="in" />
    </Wire>
    <Wire UId="51">
      <IdentCon UId="28" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="in" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="29" />
      <NameCon UId="37" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="BD" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="BE" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If the valve is in a static state, operation timer = 0 and the valve is not already in a fault
condition, the failed while open and failed  while closed alarms are generated as follows:

If the valve is open (ctrl_OpenClose = 1) and the valve is not open (status_Open = 0), the 
failed while open alarm is generated

If the valve is closed (ctrl_OpenClose = 0) and the valve is not closed (status_Closed = 0), the 
failed while closed alarm is generated
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="BF" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="C0" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Failed while open/closed alarms</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="C1" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_200ms" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="25">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.2</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Open" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="29">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closed" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="34">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="38">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="39">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Fault" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="40">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="41">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="42">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="43">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="44">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="45">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="46">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="47">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="48" />
    <Part Name="Contact" UId="49" />
    <Part Name="O" UId="50">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Contact" UId="51" />
    <Part Name="Sub" UId="52" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Contact" UId="53" />
    <Part Name="Contact" UId="54" />
    <Part Name="Move" UId="55" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="RCoil" UId="56" />
    <Part Name="Contact" UId="57" />
    <Part Name="Contact" UId="58" />
    <Part Name="Move" UId="59" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
    <Part Name="RCoil" UId="60" />
    <Part Name="Le" UId="61">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="62">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="63" />
    <Part Name="SCoil" UId="64" />
    <Part Name="Contact" UId="65" />
    <Part Name="SCoil" UId="66" />
    <Part Name="RCoil" UId="67" />
    <Part Name="RCoil" UId="68" />
    <Part Name="Move" UId="69" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="70">
      <Powerrail />
      <NameCon UId="48" Name="in" />
      <NameCon UId="49" Name="in" />
    </Wire>
    <Wire UId="71">
      <IdentCon UId="21" />
      <NameCon UId="48" Name="operand" />
    </Wire>
    <Wire UId="72">
      <NameCon UId="48" Name="out" />
      <NameCon UId="50" Name="in1" />
    </Wire>
    <Wire UId="73">
      <IdentCon UId="22" />
      <NameCon UId="49" Name="operand" />
    </Wire>
    <Wire UId="74">
      <NameCon UId="49" Name="out" />
      <NameCon UId="50" Name="in2" />
    </Wire>
    <Wire UId="75">
      <NameCon UId="50" Name="out" />
      <NameCon UId="51" Name="in" />
      <NameCon UId="53" Name="in" />
      <NameCon UId="57" Name="in" />
      <NameCon UId="61" Name="pre" />
    </Wire>
    <Wire UId="76">
      <IdentCon UId="23" />
      <NameCon UId="51" Name="operand" />
    </Wire>
    <Wire UId="77">
      <NameCon UId="51" Name="out" />
      <NameCon UId="52" Name="en" />
    </Wire>
    <Wire UId="78">
      <IdentCon UId="24" />
      <NameCon UId="52" Name="in1" />
    </Wire>
    <Wire UId="79">
      <IdentCon UId="25" />
      <NameCon UId="52" Name="in2" />
    </Wire>
    <Wire UId="80">
      <NameCon UId="52" Name="out" />
      <IdentCon UId="26" />
    </Wire>
    <Wire UId="81">
      <IdentCon UId="27" />
      <NameCon UId="53" Name="operand" />
    </Wire>
    <Wire UId="82">
      <NameCon UId="53" Name="out" />
      <NameCon UId="54" Name="in" />
    </Wire>
    <Wire UId="83">
      <IdentCon UId="28" />
      <NameCon UId="54" Name="operand" />
    </Wire>
    <Wire UId="84">
      <NameCon UId="54" Name="out" />
      <NameCon UId="55" Name="en" />
      <NameCon UId="56" Name="in" />
    </Wire>
    <Wire UId="85">
      <IdentCon UId="29" />
      <NameCon UId="55" Name="in" />
    </Wire>
    <Wire UId="86">
      <NameCon UId="55" Name="out1" />
      <IdentCon UId="30" />
    </Wire>
    <Wire UId="87">
      <IdentCon UId="31" />
      <NameCon UId="56" Name="operand" />
    </Wire>
    <Wire UId="88">
      <IdentCon UId="32" />
      <NameCon UId="57" Name="operand" />
    </Wire>
    <Wire UId="89">
      <NameCon UId="57" Name="out" />
      <NameCon UId="58" Name="in" />
    </Wire>
    <Wire UId="90">
      <IdentCon UId="33" />
      <NameCon UId="58" Name="operand" />
    </Wire>
    <Wire UId="91">
      <NameCon UId="58" Name="out" />
      <NameCon UId="59" Name="en" />
      <NameCon UId="60" Name="in" />
    </Wire>
    <Wire UId="92">
      <IdentCon UId="34" />
      <NameCon UId="59" Name="in" />
    </Wire>
    <Wire UId="93">
      <NameCon UId="59" Name="out1" />
      <IdentCon UId="35" />
    </Wire>
    <Wire UId="94">
      <IdentCon UId="36" />
      <NameCon UId="60" Name="operand" />
    </Wire>
    <Wire UId="95">
      <IdentCon UId="37" />
      <NameCon UId="61" Name="in1" />
    </Wire>
    <Wire UId="96">
      <IdentCon UId="38" />
      <NameCon UId="61" Name="in2" />
    </Wire>
    <Wire UId="97">
      <NameCon UId="61" Name="out" />
      <NameCon UId="62" Name="in" />
      <NameCon UId="67" Name="in" />
      <NameCon UId="68" Name="in" />
      <NameCon UId="69" Name="en" />
    </Wire>
    <Wire UId="98">
      <IdentCon UId="39" />
      <NameCon UId="62" Name="operand" />
    </Wire>
    <Wire UId="99">
      <NameCon UId="62" Name="out" />
      <NameCon UId="63" Name="in" />
      <NameCon UId="65" Name="in" />
    </Wire>
    <Wire UId="100">
      <IdentCon UId="40" />
      <NameCon UId="63" Name="operand" />
    </Wire>
    <Wire UId="101">
      <NameCon UId="63" Name="out" />
      <NameCon UId="64" Name="in" />
    </Wire>
    <Wire UId="102">
      <IdentCon UId="41" />
      <NameCon UId="64" Name="operand" />
    </Wire>
    <Wire UId="103">
      <IdentCon UId="42" />
      <NameCon UId="65" Name="operand" />
    </Wire>
    <Wire UId="104">
      <NameCon UId="65" Name="out" />
      <NameCon UId="66" Name="in" />
    </Wire>
    <Wire UId="105">
      <IdentCon UId="43" />
      <NameCon UId="66" Name="operand" />
    </Wire>
    <Wire UId="106">
      <IdentCon UId="44" />
      <NameCon UId="67" Name="operand" />
    </Wire>
    <Wire UId="107">
      <IdentCon UId="45" />
      <NameCon UId="68" Name="operand" />
    </Wire>
    <Wire UId="108">
      <IdentCon UId="46" />
      <NameCon UId="69" Name="in" />
    </Wire>
    <Wire UId="109">
      <NameCon UId="69" Name="out1" />
      <IdentCon UId="47" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="C2" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="C3" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If the valve is opening or closing, decrement the current operation timer value on each 200ms
pulse.

If the timer reaches zero, and the valve is opening, generate the failed to open alarm.

If the timer reaches zero, and the valve is closing, generate the failed to close alarm
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="C4" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="C5" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Operation timer and Failed to open/close alarms</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="C6" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="22">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>0.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_OPENING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Last_Op_Time" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="TIME_CLOSING_MAX" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Operating_Timer" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Last_Op_Time" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToOpen" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="33">
      <Constant>
        <ConstantType>Real</ConstantType>
        <ConstantValue>-1.0</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="actual_Last_Op_Time" />
      </Symbol>
    </Access>
    <Part Name="Ne" UId="35">
      <TemplateValue Name="SrcType" Type="Type">Real</TemplateValue>
    </Part>
    <Part Name="Contact" UId="36" />
    <Part Name="Sub" UId="37" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Contact" UId="38" />
    <Part Name="Sub" UId="39" DisabledENO="true">
      <AutomaticTyped Name="SrcType" />
    </Part>
    <Part Name="Contact" UId="40" />
    <Part Name="Contact" UId="41" />
    <Part Name="O" UId="42">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Move" UId="43" DisabledENO="true">
      <TemplateValue Name="Card" Type="Cardinality">1</TemplateValue>
    </Part>
  </Parts>
  <Wires>
    <Wire UId="44">
      <Powerrail />
      <NameCon UId="35" Name="pre" />
      <NameCon UId="40" Name="in" />
      <NameCon UId="41" Name="in" />
    </Wire>
    <Wire UId="45">
      <IdentCon UId="21" />
      <NameCon UId="35" Name="in1" />
    </Wire>
    <Wire UId="46">
      <IdentCon UId="22" />
      <NameCon UId="35" Name="in2" />
    </Wire>
    <Wire UId="47">
      <NameCon UId="35" Name="out" />
      <NameCon UId="36" Name="in" />
      <NameCon UId="38" Name="in" />
    </Wire>
    <Wire UId="48">
      <IdentCon UId="23" />
      <NameCon UId="36" Name="operand" />
    </Wire>
    <Wire UId="49">
      <NameCon UId="36" Name="out" />
      <NameCon UId="37" Name="en" />
    </Wire>
    <Wire UId="50">
      <IdentCon UId="24" />
      <NameCon UId="37" Name="in1" />
    </Wire>
    <Wire UId="51">
      <IdentCon UId="25" />
      <NameCon UId="37" Name="in2" />
    </Wire>
    <Wire UId="52">
      <NameCon UId="37" Name="out" />
      <IdentCon UId="26" />
    </Wire>
    <Wire UId="53">
      <IdentCon UId="27" />
      <NameCon UId="38" Name="operand" />
    </Wire>
    <Wire UId="54">
      <NameCon UId="38" Name="out" />
      <NameCon UId="39" Name="en" />
    </Wire>
    <Wire UId="55">
      <IdentCon UId="28" />
      <NameCon UId="39" Name="in1" />
    </Wire>
    <Wire UId="56">
      <IdentCon UId="29" />
      <NameCon UId="39" Name="in2" />
    </Wire>
    <Wire UId="57">
      <NameCon UId="39" Name="out" />
      <IdentCon UId="30" />
    </Wire>
    <Wire UId="58">
      <IdentCon UId="31" />
      <NameCon UId="40" Name="operand" />
    </Wire>
    <Wire UId="59">
      <NameCon UId="40" Name="out" />
      <NameCon UId="42" Name="in1" />
    </Wire>
    <Wire UId="60">
      <IdentCon UId="32" />
      <NameCon UId="41" Name="operand" />
    </Wire>
    <Wire UId="61">
      <NameCon UId="41" Name="out" />
      <NameCon UId="42" Name="in2" />
    </Wire>
    <Wire UId="62">
      <NameCon UId="42" Name="out" />
      <NameCon UId="43" Name="en" />
    </Wire>
    <Wire UId="63">
      <IdentCon UId="33" />
      <NameCon UId="43" Name="in" />
    </Wire>
    <Wire UId="64">
      <NameCon UId="43" Name="out1" />
      <IdentCon UId="34" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="C7" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="C8" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Stores that last good operation timer elapsed time, this is the elapsed value of the 
actual_Operating_Timer when the valve achieved the correct position. The result is subtracted
from the TIME_OPENING/CLOSING_MAX value to give the true time to achieve position. The result
is stored in actual_Last_Op_Time

If the valve were opening, then actual_Last_Op_Time is calculated as follows:

┌─────────────────────────────────┐
│actual_Last_Op_Time = TIME_OPENING_MAX ─ actual_Operating_Timer   │
└─────────────────────────────────┘

If the valve were closing, then actual_Last_Op_Time is calculated as follows:

┌─────────────────────────────────┐
│actual_Last_Op_Time = TIME_CLOSING_MAX ─ actual_Operating_Timer   │
└─────────────────────────────────┘

If the valve either fails to open or fails to close,  then actual_Last_Op_Time is set to -1.0 to 
indicate a fault state.
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="C9" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="CA" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Calculate last operation timer value</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="CB" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="EXT_FAULT" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_Flt_External" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="23" />
    <Part Name="Coil" UId="24" />
  </Parts>
  <Wires>
    <Wire UId="25">
      <Powerrail />
      <NameCon UId="23" Name="in" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="operand" />
    </Wire>
    <Wire UId="27">
      <NameCon UId="23" Name="out" />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="22" />
      <NameCon UId="24" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="CC" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="CD" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If the external fault signal (EXT_FAULT) is active, generate the external fault alarm
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="CE" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="CF" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>External fault alarm</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="D0" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_Reset" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailWhileOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailWhileClosed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_Reset" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="27" />
    <Part Name="RCoil" UId="28" />
    <Part Name="RCoil" UId="29" />
    <Part Name="RCoil" UId="30" />
    <Part Name="RCoil" UId="31" />
    <Part Name="RCoil" UId="32" />
  </Parts>
  <Wires>
    <Wire UId="33">
      <Powerrail />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="21" />
      <NameCon UId="27" Name="operand" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
      <NameCon UId="29" Name="in" />
      <NameCon UId="30" Name="in" />
      <NameCon UId="31" Name="in" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="22" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="23" />
      <NameCon UId="29" Name="operand" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="24" />
      <NameCon UId="30" Name="operand" />
    </Wire>
    <Wire UId="39">
      <IdentCon UId="25" />
      <NameCon UId="31" Name="operand" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="26" />
      <NameCon UId="32" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="D1" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="D2" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
If the RESET signal is active, reset all position derived alarms and also clear the RESET signal
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="D3" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="D4" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Reset faults</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="D5" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_True" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Operating" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailToClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="27">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailWhileOpen" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="28">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_FailWhileClosed" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="29">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="msg_Flt_External" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="30">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Fault" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="31">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="32">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="33">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="$ctrl_OpenClose" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="34">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_NO_NC" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="35">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Energised" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="36">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_AutMan" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="37">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Aut" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="38">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_AutMan" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="39">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Man" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="40">
      <Symbol>
        <Component Name="E_STOP" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="41">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_ESTOP_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="42">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_EStop" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="43">
      <Symbol>
        <Component Name="TRIP" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="44">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_TRIP_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="45">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="46">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Trip" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="47">
      <Symbol>
        <Component Name="INTERLOCK" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="48">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_ILOCK_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="49">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="50">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Ilock" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="51">
      <Symbol>
        <Component Name="PERMISSIVE" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="52">
      <Symbol>
        <Component Name="STATIC_DATA" />
        <Component Name="CONFIG_PERM_DIS" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="53">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="54">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Perm" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="55">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="56">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_BypassOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="57">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="58">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_SimOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="59">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="60">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="61">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="62">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="63">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_RemoteOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="64">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="mode_LocalOn" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="65">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_RLOff" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="66" />
    <Part Name="Contact" UId="67" />
    <Part Name="Contact" UId="68" />
    <Part Name="O" UId="69">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="70" />
    <Part Name="Contact" UId="71" />
    <Part Name="Contact" UId="72" />
    <Part Name="Contact" UId="73" />
    <Part Name="Contact" UId="74" />
    <Part Name="Contact" UId="75" />
    <Part Name="O" UId="76">
      <TemplateValue Name="Card" Type="Cardinality">5</TemplateValue>
    </Part>
    <Part Name="Coil" UId="77" />
    <Part Name="Contact" UId="78" />
    <Part Name="Contact" UId="79">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="80">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="81" />
    <Part Name="O" UId="82">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="83" />
    <Part Name="Contact" UId="84" />
    <Part Name="Coil" UId="85" />
    <Part Name="Contact" UId="86">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="87" />
    <Part Name="Contact" UId="88" />
    <Part Name="Contact" UId="89">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="90" />
    <Part Name="Contact" UId="91" />
    <Part Name="Contact" UId="92">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="93">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="94" />
    <Part Name="Contact" UId="95" />
    <Part Name="Contact" UId="96">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="97">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="98" />
    <Part Name="Contact" UId="99" />
    <Part Name="Contact" UId="100">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="101">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="102" />
    <Part Name="Contact" UId="103" />
    <Part Name="Coil" UId="104" />
    <Part Name="Contact" UId="105" />
    <Part Name="Coil" UId="106" />
    <Part Name="Contact" UId="107" />
    <Part Name="Coil" UId="108" />
    <Part Name="Contact" UId="109" />
    <Part Name="Coil" UId="110" />
    <Part Name="Contact" UId="111">
      <Negated Name="operand" />
    </Part>
    <Part Name="Contact" UId="112">
      <Negated Name="operand" />
    </Part>
    <Part Name="Coil" UId="113" />
  </Parts>
  <Wires>
    <Wire UId="114">
      <Powerrail />
      <NameCon UId="66" Name="in" />
    </Wire>
    <Wire UId="115">
      <IdentCon UId="21" />
      <NameCon UId="66" Name="operand" />
    </Wire>
    <Wire UId="116">
      <NameCon UId="66" Name="out" />
      <NameCon UId="67" Name="in" />
      <NameCon UId="68" Name="in" />
      <NameCon UId="71" Name="in" />
      <NameCon UId="72" Name="in" />
      <NameCon UId="73" Name="in" />
      <NameCon UId="74" Name="in" />
      <NameCon UId="75" Name="in" />
      <NameCon UId="78" Name="in" />
      <NameCon UId="80" Name="in" />
      <NameCon UId="84" Name="in" />
      <NameCon UId="86" Name="in" />
      <NameCon UId="88" Name="in" />
      <NameCon UId="91" Name="in" />
      <NameCon UId="95" Name="in" />
      <NameCon UId="99" Name="in" />
      <NameCon UId="103" Name="in" />
      <NameCon UId="105" Name="in" />
      <NameCon UId="107" Name="in" />
      <NameCon UId="109" Name="in" />
      <NameCon UId="111" Name="in" />
    </Wire>
    <Wire UId="117">
      <IdentCon UId="22" />
      <NameCon UId="67" Name="operand" />
    </Wire>
    <Wire UId="118">
      <NameCon UId="67" Name="out" />
      <NameCon UId="69" Name="in1" />
    </Wire>
    <Wire UId="119">
      <IdentCon UId="23" />
      <NameCon UId="68" Name="operand" />
    </Wire>
    <Wire UId="120">
      <NameCon UId="68" Name="out" />
      <NameCon UId="69" Name="in2" />
    </Wire>
    <Wire UId="121">
      <NameCon UId="69" Name="out" />
      <NameCon UId="70" Name="in" />
    </Wire>
    <Wire UId="122">
      <IdentCon UId="24" />
      <NameCon UId="70" Name="operand" />
    </Wire>
    <Wire UId="123">
      <IdentCon UId="25" />
      <NameCon UId="71" Name="operand" />
    </Wire>
    <Wire UId="124">
      <NameCon UId="71" Name="out" />
      <NameCon UId="76" Name="in1" />
    </Wire>
    <Wire UId="125">
      <IdentCon UId="26" />
      <NameCon UId="72" Name="operand" />
    </Wire>
    <Wire UId="126">
      <NameCon UId="72" Name="out" />
      <NameCon UId="76" Name="in2" />
    </Wire>
    <Wire UId="127">
      <IdentCon UId="27" />
      <NameCon UId="73" Name="operand" />
    </Wire>
    <Wire UId="128">
      <NameCon UId="73" Name="out" />
      <NameCon UId="76" Name="in3" />
    </Wire>
    <Wire UId="129">
      <IdentCon UId="28" />
      <NameCon UId="74" Name="operand" />
    </Wire>
    <Wire UId="130">
      <NameCon UId="74" Name="out" />
      <NameCon UId="76" Name="in4" />
    </Wire>
    <Wire UId="131">
      <IdentCon UId="29" />
      <NameCon UId="75" Name="operand" />
    </Wire>
    <Wire UId="132">
      <NameCon UId="75" Name="out" />
      <NameCon UId="76" Name="in5" />
    </Wire>
    <Wire UId="133">
      <NameCon UId="76" Name="out" />
      <NameCon UId="77" Name="in" />
    </Wire>
    <Wire UId="134">
      <IdentCon UId="30" />
      <NameCon UId="77" Name="operand" />
    </Wire>
    <Wire UId="135">
      <IdentCon UId="31" />
      <NameCon UId="78" Name="operand" />
    </Wire>
    <Wire UId="136">
      <NameCon UId="78" Name="out" />
      <NameCon UId="79" Name="in" />
    </Wire>
    <Wire UId="137">
      <IdentCon UId="32" />
      <NameCon UId="79" Name="operand" />
    </Wire>
    <Wire UId="138">
      <NameCon UId="79" Name="out" />
      <NameCon UId="82" Name="in1" />
    </Wire>
    <Wire UId="139">
      <IdentCon UId="33" />
      <NameCon UId="80" Name="operand" />
    </Wire>
    <Wire UId="140">
      <NameCon UId="80" Name="out" />
      <NameCon UId="81" Name="in" />
    </Wire>
    <Wire UId="141">
      <IdentCon UId="34" />
      <NameCon UId="81" Name="operand" />
    </Wire>
    <Wire UId="142">
      <NameCon UId="81" Name="out" />
      <NameCon UId="82" Name="in2" />
    </Wire>
    <Wire UId="143">
      <NameCon UId="82" Name="out" />
      <NameCon UId="83" Name="in" />
    </Wire>
    <Wire UId="144">
      <IdentCon UId="35" />
      <NameCon UId="83" Name="operand" />
    </Wire>
    <Wire UId="145">
      <IdentCon UId="36" />
      <NameCon UId="84" Name="operand" />
    </Wire>
    <Wire UId="146">
      <NameCon UId="84" Name="out" />
      <NameCon UId="85" Name="in" />
    </Wire>
    <Wire UId="147">
      <IdentCon UId="37" />
      <NameCon UId="85" Name="operand" />
    </Wire>
    <Wire UId="148">
      <IdentCon UId="38" />
      <NameCon UId="86" Name="operand" />
    </Wire>
    <Wire UId="149">
      <NameCon UId="86" Name="out" />
      <NameCon UId="87" Name="in" />
    </Wire>
    <Wire UId="150">
      <IdentCon UId="39" />
      <NameCon UId="87" Name="operand" />
    </Wire>
    <Wire UId="151">
      <IdentCon UId="40" />
      <NameCon UId="88" Name="operand" />
    </Wire>
    <Wire UId="152">
      <NameCon UId="88" Name="out" />
      <NameCon UId="89" Name="in" />
    </Wire>
    <Wire UId="153">
      <IdentCon UId="41" />
      <NameCon UId="89" Name="operand" />
    </Wire>
    <Wire UId="154">
      <NameCon UId="89" Name="out" />
      <NameCon UId="90" Name="in" />
    </Wire>
    <Wire UId="155">
      <IdentCon UId="42" />
      <NameCon UId="90" Name="operand" />
    </Wire>
    <Wire UId="156">
      <IdentCon UId="43" />
      <NameCon UId="91" Name="operand" />
    </Wire>
    <Wire UId="157">
      <NameCon UId="91" Name="out" />
      <NameCon UId="92" Name="in" />
    </Wire>
    <Wire UId="158">
      <IdentCon UId="44" />
      <NameCon UId="92" Name="operand" />
    </Wire>
    <Wire UId="159">
      <NameCon UId="92" Name="out" />
      <NameCon UId="93" Name="in" />
    </Wire>
    <Wire UId="160">
      <IdentCon UId="45" />
      <NameCon UId="93" Name="operand" />
    </Wire>
    <Wire UId="161">
      <NameCon UId="93" Name="out" />
      <NameCon UId="94" Name="in" />
    </Wire>
    <Wire UId="162">
      <IdentCon UId="46" />
      <NameCon UId="94" Name="operand" />
    </Wire>
    <Wire UId="163">
      <IdentCon UId="47" />
      <NameCon UId="95" Name="operand" />
    </Wire>
    <Wire UId="164">
      <NameCon UId="95" Name="out" />
      <NameCon UId="96" Name="in" />
    </Wire>
    <Wire UId="165">
      <IdentCon UId="48" />
      <NameCon UId="96" Name="operand" />
    </Wire>
    <Wire UId="166">
      <NameCon UId="96" Name="out" />
      <NameCon UId="97" Name="in" />
    </Wire>
    <Wire UId="167">
      <IdentCon UId="49" />
      <NameCon UId="97" Name="operand" />
    </Wire>
    <Wire UId="168">
      <NameCon UId="97" Name="out" />
      <NameCon UId="98" Name="in" />
    </Wire>
    <Wire UId="169">
      <IdentCon UId="50" />
      <NameCon UId="98" Name="operand" />
    </Wire>
    <Wire UId="170">
      <IdentCon UId="51" />
      <NameCon UId="99" Name="operand" />
    </Wire>
    <Wire UId="171">
      <NameCon UId="99" Name="out" />
      <NameCon UId="100" Name="in" />
    </Wire>
    <Wire UId="172">
      <IdentCon UId="52" />
      <NameCon UId="100" Name="operand" />
    </Wire>
    <Wire UId="173">
      <NameCon UId="100" Name="out" />
      <NameCon UId="101" Name="in" />
    </Wire>
    <Wire UId="174">
      <IdentCon UId="53" />
      <NameCon UId="101" Name="operand" />
    </Wire>
    <Wire UId="175">
      <NameCon UId="101" Name="out" />
      <NameCon UId="102" Name="in" />
    </Wire>
    <Wire UId="176">
      <IdentCon UId="54" />
      <NameCon UId="102" Name="operand" />
    </Wire>
    <Wire UId="177">
      <IdentCon UId="55" />
      <NameCon UId="103" Name="operand" />
    </Wire>
    <Wire UId="178">
      <NameCon UId="103" Name="out" />
      <NameCon UId="104" Name="in" />
    </Wire>
    <Wire UId="179">
      <IdentCon UId="56" />
      <NameCon UId="104" Name="operand" />
    </Wire>
    <Wire UId="180">
      <IdentCon UId="57" />
      <NameCon UId="105" Name="operand" />
    </Wire>
    <Wire UId="181">
      <NameCon UId="105" Name="out" />
      <NameCon UId="106" Name="in" />
    </Wire>
    <Wire UId="182">
      <IdentCon UId="58" />
      <NameCon UId="106" Name="operand" />
    </Wire>
    <Wire UId="183">
      <IdentCon UId="59" />
      <NameCon UId="107" Name="operand" />
    </Wire>
    <Wire UId="184">
      <NameCon UId="107" Name="out" />
      <NameCon UId="108" Name="in" />
    </Wire>
    <Wire UId="185">
      <IdentCon UId="60" />
      <NameCon UId="108" Name="operand" />
    </Wire>
    <Wire UId="186">
      <IdentCon UId="61" />
      <NameCon UId="109" Name="operand" />
    </Wire>
    <Wire UId="187">
      <NameCon UId="109" Name="out" />
      <NameCon UId="110" Name="in" />
    </Wire>
    <Wire UId="188">
      <IdentCon UId="62" />
      <NameCon UId="110" Name="operand" />
    </Wire>
    <Wire UId="189">
      <IdentCon UId="63" />
      <NameCon UId="111" Name="operand" />
    </Wire>
    <Wire UId="190">
      <NameCon UId="111" Name="out" />
      <NameCon UId="112" Name="in" />
    </Wire>
    <Wire UId="191">
      <IdentCon UId="64" />
      <NameCon UId="112" Name="operand" />
    </Wire>
    <Wire UId="192">
      <NameCon UId="112" Name="out" />
      <NameCon UId="113" Name="in" />
    </Wire>
    <Wire UId="193">
      <IdentCon UId="65" />
      <NameCon UId="113" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="D6" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="D7" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
The status signals for faults, alarms and warnings are either duplicates of the message signals 
(signals beginning with msg_) or logical combinations of them.

The following is a full list of the status signals:

 UT31101_Dy_DevValveBi (full contents)
 ――――――――――――――――――――――――――――――――――――――――――
 SIGNAL NAME          FUNCTION                     TYPE
 ――――――――――――――――――――――――――――――――――――――――――
 status_Operating        STATUS — Valve is changing state           Bool
                     (1 = changing state, 0 = fixed state)
 status_Fault            STATUS — Valve is in fault              Bool
                     (1 = fault present, 0 = healthy)
 status_Energised        STATUS — Valve output is on              Bool
                     (1 = energised, 0 = deenergised)
 status_Aut           STATUS — Automatic mode active           Bool
                     (1 = auto mode on, 0 = auto mode off)
 status_Man          STATUS — Manual mode active             Bool
                     (1 = man mode on, 0 = man mode off)
 status_EStop          STATUS — E_STOP safety signal is active         Bool
                     (1 = active, 0 = healthy)
 status_Trip        STATUS — TRIP signal is active             Bool
                     (1 = active, 0 = healthy)
 status_Ilock         STATUS — INTERLOCK signal is active            Bool
                     (1 = active, 0 = healthy)
 status_Perm        STATUS — PERMISSIVE signal is active           Bool
                     (1 = active, 0 = healthy)
 status_BypassOn        STATUS — Valve is in bypass mode          Bool
                     (1 = Simulation mode, 0 = normal)
 status_SimOn           STATUS — Valve is in simulation mode               Bool
                     (1 = Simulation mode, 0 = normal)
 status_RemoteOn       STATUS — Valve is in remote mode                  Bool
                     (1 = Remote mode, 0 = normal)
 status_LocalOn         STATUS — Valve is in local mode                    Bool
                     (1 = Local mode, 0 = normal)
 status_RLOff         STATUS — Valve is in ALL mode                   Bool
                     (1 = ALL mode, 0 = normal)
 ――――――――――――――――――――――――――――――――――――――――――
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="D8" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="D9" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Status signals</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="DA" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="DYNAMIC_DATA" />
        <Component Name="status_Energised" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="OPERATE" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="23" />
    <Part Name="Coil" UId="24" />
  </Parts>
  <Wires>
    <Wire UId="25">
      <Powerrail />
      <NameCon UId="23" Name="in" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="operand" />
    </Wire>
    <Wire UId="27">
      <NameCon UId="23" Name="out" />
      <NameCon UId="24" Name="in" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="22" />
      <NameCon UId="24" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="DB" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="DC" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
Copy the required energised/deenergised state (status_Energised) to the valve output 
parameter (#OPERATE)
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="DD" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="DE" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>Output driver</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="DF" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="SYS_SIGNALS" />
        <Component Name="_False" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="22">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'MIT LICENSE'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="licInfo" />
        <Component Name="LICENCE_TYPE" />
      </Symbol>
    </Access>
    <Access Scope="LiteralConstant" UId="24">
      <Constant>
        <ConstantType>String</ConstantType>
        <ConstantValue>'2020 Michael Gledhill'</ConstantValue>
      </Constant>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="licInfo" />
        <Component Name="COPYRIGHT" />
      </Symbol>
    </Access>
    <Part Name="Contact" UId="26">
      <Negated Name="operand" />
    </Part>
    <Part Name="S_Move" UId="27" DisabledENO="true" />
    <Part Name="S_Move" UId="28" DisabledENO="true" />
  </Parts>
  <Wires>
    <Wire UId="29">
      <Powerrail />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="30">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="operand" />
    </Wire>
    <Wire UId="31">
      <NameCon UId="26" Name="out" />
      <NameCon UId="27" Name="en" />
      <NameCon UId="28" Name="en" />
    </Wire>
    <Wire UId="32">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="in" />
    </Wire>
    <Wire UId="33">
      <NameCon UId="27" Name="out" />
      <IdentCon UId="23" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="24" />
      <NameCon UId="28" Name="in" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="28" Name="out" />
      <IdentCon UId="25" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>LAD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="E0" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="E1" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
LICENCE AND CONTACT INFORMATION

This software and its associated documentation is made available under the MIT Licence:

════════════════════════════════════════════

The MIT License (MIT)

Copyright © 2020 Michael Gledhill

Permission is hereby granted, free of charge, to any person obtaining a copy of this software 
and associated documentation files (the “Software”), to deal in the Software without restriction, 
including without limitation the rights to use, copy, modify, merge, publish, distribute, 
sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is 
furnished to do so, subject to the following conditions: 

The above copyright notice and this permission notice shall be included in all copies or 
substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF 
CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE 
OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

════════════════════════════════════════════
                   ┌────────────┐
You can reach the author by email here:   │  mg@practicalseries.com  │
                   └────────────┘
Questions, corrections, constructive criticism and complaints (polite ones) are invited.

</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="E2" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="E3" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text>LICENCE AND CONTACT INFORMATION</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <MultilingualText ID="E4" CompositionName="Title">
        <ObjectList>
          <MultilingualTextItem ID="E5" CompositionName="Items">
            <AttributeList>
              <Culture>en-US</Culture>
              <Text>Standard Module [DEVICE DRIVER] — Bistable Valve </Text>
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
    </ObjectList>
  </SW.Blocks.FC>
</Document>